<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="theme-color" content="#ff6b35">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Mate+">
  <link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192.png">
  <link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152.png">
  <link rel="apple-touch-icon" sizes="144x144" href="icons/icon-144.png">
  <link rel="apple-touch-icon" sizes="128x128" href="icons/icon-128.png">
<meta name="description" content="Mate+ â€“ Matematica 2Âª Media DSA Friendly â€“ by Valerio Spiga">
<link rel="manifest" href="manifest.json">
<!-- Apple Touch Icons - tutti i formati necessari per iOS -->
<!-- Favicon standard -->
<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAHqElEQVR42u2dO3bcSAxFWXWYOfYetIFxPuux9+Aze5DX41zegPbg2DEdSSO1+sPurgIegPuiCcZ2q3hvASiyxWUhhBBCCCGEVEpjCeZl+/rPNuxC/fhV9lpt27a11hoCJIccOY7DvyzLggDAXlKKbdu25bkty8M2RQIESAJ8RiFe4V8WBAD6ejK8E2CSBAhQBPpoMnyAHwEAv5IIRwWYIEEDeqImw0n4EQDwK4hwVoDBEjTAJ0oiXIQfAYKA//nT/X/H7z/lRNglwEAJGuA7Qx5QjpEivNzpfc3zzr/64f0fu1WGBvhBgBcU4hoRPoB+LfBXCrFXjAb8gaEXkOGUBDfv7KNzoVI0wE8CvbMMx0TY3c8biXCsGjTATwi9owyHIrxWAucKcKoVauXhrwC+sQgy1WDHSVErCX9F6I1lcJdg5zFpA3xiKYKJBFfcI2jAT1wkmDEXXOj3wwkwBH7AlxBhekt0453hBvjEU4QhEtzxWEQHfmK5jmoPJ/ZU8H/+BPwzJBi8pkoStFTwk1gt0ePT4j0DrOHhB3z7lkjsMe3QLRDwMxuUFQD4kaCsAMBfXIK9/f/DdvJZ/3d5bqe/c6A2AwB/MglmzAQHd3Vn3T1ew8AP+DWG4xOPM8wSYQV+IlENXtqcb1/O/m+jRWjAT4bnkgRv+/8z4O/5zvEHEa68H9CAn5hL8Pj0/39f2vF3fvH+7QB8jQCr7AICf+526AL4V7cyh62RSgVg96cK3A33xF/I1YGfqFfxmQ/PdeAnlSXoGReLMM+5CnCTrcCPBA5VoAM/qSxBd4efEEfO1gy7gny+/7z9z/73b74qIPSFmuZqZUb474G9khQDJBhxf2BdSAzoT/172SpExApQcve3hj5jZRCoAg34E4AfWQRnCWiBMoF/+Flpj+ZWgBK7fyTwo1YExypgWwEiwZ8B/CgVwfFo9OYbYalvemWCv8LPdQePq6nlAEI1EKsC3dI24OfnVasC3cxuYODnFuSkWVgmK0BV8I9FpSUyPhHqGa0G/sDrYczLVQKk6f2BP/W6XMNp5yKTyuszVwC19gf4Y6yTITe7BQjf/gB/qfXay2vPYDFJGCN++kib2M2oAtGqQOciksrrN0cAlfYH+GOvowFHFwXgV52QzG1Q3haI3Z/13JGVi3WQPb+3/u0LHpSy93fu3/r5v/9M9zXLPrz9qXD8+e3L8Bc8pPo8YnPAOY7ztUCWpVoBOuvPkKwV4rdCjALQui3KuuMrtUDs/iT7Onf6/2B9eOZ+32EOyFMBVHalmXAqgZ+kCjADRJgL6PeZAej9WXcqQLVKwM7vUwF4/kegdwf+4TnG9bgWyOsEKEoZ3nt6E+2Ux2r9J/HV2ReEqgG7PkNwWQmAHwHStj+XJIgOf+DrQAWIMBfsjepj2giQLIqgAf8YATgCDQgc8O/OId9UgOjgAX/RFkhl8Hp88oHQ699NNghTASLuxOz6w8KzQDPAnHWsCfhUAEKoANUqATs/FYC5gCAAIQhACAIQggCE6Agw4AXHhFjzRQUgpcN9gNnhKJQZgBAEIAQBBibZm0rCJ+j1GCsAJ0FkRiZy9UGA9uNXY8VJ1hzyzQxAmAEIQYCIcwCDcP4BeDJPVABCBSAEASi/pOD6HxXg7qNQ7gcQwf7/GNe0QIQWiDJMqq77PAFog0gAfvK0QFQB1nukAEOeCaIKEBFuTvGcawimCrDOZVsgQiQFsG6DqAKx19eYl35L30RIpJzj+CLgw94ZZv0m+civUGX3NxOgc7FI5fXs99gjPQuQWHHY/XNXAKoA6ziiAkSe8JEgyPo5dge7BBh6GoQEwG/Ewx5uuRFGSqePtIkqwO4faff3rQBIAPzlhuAqF5f1ydcCDW+DPHcBJPBdl8nX/RpO/SsAEgC/Y27a0Yc9H/QS6+eEDlP5uSHrjUBo99eZAbx3harVIBn8ZkPwlMekkQD4jXf/ZVF7Sd7vP77t0AsUmVsiD9GFH4TslraFWays1SAx/LfyqPmaVO9KkK0aeAkd4BH4u3fx4SdCL/EW4DARRfCuZOK7v24FUKkCUSuCQgsX5AtQQ/r4aVVAsRIoVwSV2cUQ/ntn0WGDbEkJFGRQG9gDwa/dAim3Q+cgtJBB9ZQq4Pe+hx5lTq0CUarB6AoR4UjWAfxRx/BrOJjUq0FUiAvt+m/TFa3MvujAr8NZV/5wSAD8s/nqET4kEgD/LK7WNBcj4nAM+LlmAJcqQDUosb6zeJoOqcnR6GGoBqk2lpmbaY/84akGwM8MwGzABqLcArm2QrRFocG36B56ph+GXQ34ZSuATCWgGshvDJabpcuuLCFBZRmEq6F1p+DWlkhJUEUE8TbQo0127cvlJMgoQ5SvJjrNiO7vAZaVILIMwQZ+zwMSiRdhy0sQQYagp1zep4Myb4IPI4GKEAmOdd2PxpUECCvBTDkS37tQgF9OgHQSEGn4l0XwFUlKi0PyX19p2KgGgF+uAlANgB8BkAD4aYFoiQCfCkA1AH4EQAKuDy0QLRHgIwAiAH7xFoi2iHWnAlANAB8BEAHwEQARAB8BEAHwEQARAB8BkAHoEQARAB8BkAHoEQAZgB4BagoB8AhQRgpgR4D0cgA5IYQQQggZlL/jpOUQz3cs3gAAAABJRU5ErkJggg==">
<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAHqElEQVR42u2dO3bcSAxFWXWYOfYetIFxPuux9+Aze5DX41zegPbg2DEdSSO1+sPurgIegPuiCcZ2q3hvASiyxWUhhBBCCCGEVEpjCeZl+/rPNuxC/fhV9lpt27a11hoCJIccOY7DvyzLggDAXlKKbdu25bkty8M2RQIESAJ8RiFe4V8WBAD6ejK8E2CSBAhQBPpoMnyAHwEAv5IIRwWYIEEDeqImw0n4EQDwK4hwVoDBEjTAJ0oiXIQfAYKA//nT/X/H7z/lRNglwEAJGuA7Qx5QjpEivNzpfc3zzr/64f0fu1WGBvhBgBcU4hoRPoB+LfBXCrFXjAb8gaEXkOGUBDfv7KNzoVI0wE8CvbMMx0TY3c8biXCsGjTATwi9owyHIrxWAucKcKoVauXhrwC+sQgy1WDHSVErCX9F6I1lcJdg5zFpA3xiKYKJBFfcI2jAT1wkmDEXXOj3wwkwBH7AlxBhekt0453hBvjEU4QhEtzxWEQHfmK5jmoPJ/ZU8H/+BPwzJBi8pkoStFTwk1gt0ePT4j0DrOHhB3z7lkjsMe3QLRDwMxuUFQD4kaCsAMBfXIK9/f/DdvJZ/3d5bqe/c6A2AwB/MglmzAQHd3Vn3T1ew8AP+DWG4xOPM8wSYQV+IlENXtqcb1/O/m+jRWjAT4bnkgRv+/8z4O/5zvEHEa68H9CAn5hL8Pj0/39f2vF3fvH+7QB8jQCr7AICf+526AL4V7cyh62RSgVg96cK3A33xF/I1YGfqFfxmQ/PdeAnlSXoGReLMM+5CnCTrcCPBA5VoAM/qSxBd4efEEfO1gy7gny+/7z9z/73b74qIPSFmuZqZUb474G9khQDJBhxf2BdSAzoT/172SpExApQcve3hj5jZRCoAg34E4AfWQRnCWiBMoF/+Flpj+ZWgBK7fyTwo1YExypgWwEiwZ8B/CgVwfFo9OYbYalvemWCv8LPdQePq6nlAEI1EKsC3dI24OfnVasC3cxuYODnFuSkWVgmK0BV8I9FpSUyPhHqGa0G/sDrYczLVQKk6f2BP/W6XMNp5yKTyuszVwC19gf4Y6yTITe7BQjf/gB/qfXay2vPYDFJGCN++kib2M2oAtGqQOciksrrN0cAlfYH+GOvowFHFwXgV52QzG1Q3haI3Z/13JGVi3WQPb+3/u0LHpSy93fu3/r5v/9M9zXLPrz9qXD8+e3L8Bc8pPo8YnPAOY7ztUCWpVoBOuvPkKwV4rdCjALQui3KuuMrtUDs/iT7Onf6/2B9eOZ+32EOyFMBVHalmXAqgZ+kCjADRJgL6PeZAej9WXcqQLVKwM7vUwF4/kegdwf+4TnG9bgWyOsEKEoZ3nt6E+2Ux2r9J/HV2ReEqgG7PkNwWQmAHwHStj+XJIgOf+DrQAWIMBfsjepj2giQLIqgAf8YATgCDQgc8O/OId9UgOjgAX/RFkhl8Hp88oHQ699NNghTASLuxOz6w8KzQDPAnHWsCfhUAEKoANUqATs/FYC5gCAAIQhACAIQggCE6Agw4AXHhFjzRQUgpcN9gNnhKJQZgBAEIAQBBibZm0rCJ+j1GCsAJ0FkRiZy9UGA9uNXY8VJ1hzyzQxAmAEIQYCIcwCDcP4BeDJPVABCBSAEASi/pOD6HxXg7qNQ7gcQwf7/GNe0QIQWiDJMqq77PAFog0gAfvK0QFQB1nukAEOeCaIKEBFuTvGcawimCrDOZVsgQiQFsG6DqAKx19eYl35L30RIpJzj+CLgw94ZZv0m+civUGX3NxOgc7FI5fXs99gjPQuQWHHY/XNXAKoA6ziiAkSe8JEgyPo5dge7BBh6GoQEwG/Ewx5uuRFGSqePtIkqwO4faff3rQBIAPzlhuAqF5f1ydcCDW+DPHcBJPBdl8nX/RpO/SsAEgC/Y27a0Yc9H/QS6+eEDlP5uSHrjUBo99eZAbx3harVIBn8ZkPwlMekkQD4jXf/ZVF7Sd7vP77t0AsUmVsiD9GFH4TslraFWays1SAx/LfyqPmaVO9KkK0aeAkd4BH4u3fx4SdCL/EW4DARRfCuZOK7v24FUKkCUSuCQgsX5AtQQ/r4aVVAsRIoVwSV2cUQ/ntn0WGDbEkJFGRQG9gDwa/dAim3Q+cgtJBB9ZQq4Pe+hx5lTq0CUarB6AoR4UjWAfxRx/BrOJjUq0FUiAvt+m/TFa3MvujAr8NZV/5wSAD8s/nqET4kEgD/LK7WNBcj4nAM+LlmAJcqQDUosb6zeJoOqcnR6GGoBqk2lpmbaY/84akGwM8MwGzABqLcArm2QrRFocG36B56ph+GXQ34ZSuATCWgGshvDJabpcuuLCFBZRmEq6F1p+DWlkhJUEUE8TbQo0127cvlJMgoQ5SvJjrNiO7vAZaVILIMwQZ+zwMSiRdhy0sQQYagp1zep4Myb4IPI4GKEAmOdd2PxpUECCvBTDkS37tQgF9OgHQSEGn4l0XwFUlKi0PyX19p2KgGgF+uAlANgB8BkAD4aYFoiQCfCkA1AH4EQAKuDy0QLRHgIwAiAH7xFoi2iHWnAlANAB8BEAHwEQARAB8BEAHwEQARAB8BkAHoEQARAB8BkAHoEQAZgB4BagoB8AhQRgpgR4D0cgA5IYQQQggZlL/jpOUQz3cs3gAAAABJRU5ErkJggg==">
<link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAHqElEQVR42u2dO3bcSAxFWXWYOfYetIFxPuux9+Aze5DX41zegPbg2DEdSSO1+sPurgIegPuiCcZ2q3hvASiyxWUhhBBCCCGEVEpjCeZl+/rPNuxC/fhV9lpt27a11hoCJIccOY7DvyzLggDAXlKKbdu25bkty8M2RQIESAJ8RiFe4V8WBAD6ejK8E2CSBAhQBPpoMnyAHwEAv5IIRwWYIEEDeqImw0n4EQDwK4hwVoDBEjTAJ0oiXIQfAYKA//nT/X/H7z/lRNglwEAJGuA7Qx5QjpEivNzpfc3zzr/64f0fu1WGBvhBgBcU4hoRPoB+LfBXCrFXjAb8gaEXkOGUBDfv7KNzoVI0wE8CvbMMx0TY3c8biXCsGjTATwi9owyHIrxWAucKcKoVauXhrwC+sQgy1WDHSVErCX9F6I1lcJdg5zFpA3xiKYKJBFfcI2jAT1wkmDEXXOj3wwkwBH7AlxBhekt0453hBvjEU4QhEtzxWEQHfmK5jmoPJ/ZU8H/+BPwzJBi8pkoStFTwk1gt0ePT4j0DrOHhB3z7lkjsMe3QLRDwMxuUFQD4kaCsAMBfXIK9/f/DdvJZ/3d5bqe/c6A2AwB/MglmzAQHd3Vn3T1ew8AP+DWG4xOPM8wSYQV+IlENXtqcb1/O/m+jRWjAT4bnkgRv+/8z4O/5zvEHEa68H9CAn5hL8Pj0/39f2vF3fvH+7QB8jQCr7AICf+526AL4V7cyh62RSgVg96cK3A33xF/I1YGfqFfxmQ/PdeAnlSXoGReLMM+5CnCTrcCPBA5VoAM/qSxBd4efEEfO1gy7gny+/7z9z/73b74qIPSFmuZqZUb474G9khQDJBhxf2BdSAzoT/172SpExApQcve3hj5jZRCoAg34E4AfWQRnCWiBMoF/+Flpj+ZWgBK7fyTwo1YExypgWwEiwZ8B/CgVwfFo9OYbYalvemWCv8LPdQePq6nlAEI1EKsC3dI24OfnVasC3cxuYODnFuSkWVgmK0BV8I9FpSUyPhHqGa0G/sDrYczLVQKk6f2BP/W6XMNp5yKTyuszVwC19gf4Y6yTITe7BQjf/gB/qfXay2vPYDFJGCN++kib2M2oAtGqQOciksrrN0cAlfYH+GOvowFHFwXgV52QzG1Q3haI3Z/13JGVi3WQPb+3/u0LHpSy93fu3/r5v/9M9zXLPrz9qXD8+e3L8Bc8pPo8YnPAOY7ztUCWpVoBOuvPkKwV4rdCjALQui3KuuMrtUDs/iT7Onf6/2B9eOZ+32EOyFMBVHalmXAqgZ+kCjADRJgL6PeZAej9WXcqQLVKwM7vUwF4/kegdwf+4TnG9bgWyOsEKEoZ3nt6E+2Ux2r9J/HV2ReEqgG7PkNwWQmAHwHStj+XJIgOf+DrQAWIMBfsjepj2giQLIqgAf8YATgCDQgc8O/OId9UgOjgAX/RFkhl8Hp88oHQ699NNghTASLuxOz6w8KzQDPAnHWsCfhUAEKoANUqATs/FYC5gCAAIQhACAIQggCE6Agw4AXHhFjzRQUgpcN9gNnhKJQZgBAEIAQBBibZm0rCJ+j1GCsAJ0FkRiZy9UGA9uNXY8VJ1hzyzQxAmAEIQYCIcwCDcP4BeDJPVABCBSAEASi/pOD6HxXg7qNQ7gcQwf7/GNe0QIQWiDJMqq77PAFog0gAfvK0QFQB1nukAEOeCaIKEBFuTvGcawimCrDOZVsgQiQFsG6DqAKx19eYl35L30RIpJzj+CLgw94ZZv0m+civUGX3NxOgc7FI5fXs99gjPQuQWHHY/XNXAKoA6ziiAkSe8JEgyPo5dge7BBh6GoQEwG/Ewx5uuRFGSqePtIkqwO4faff3rQBIAPzlhuAqF5f1ydcCDW+DPHcBJPBdl8nX/RpO/SsAEgC/Y27a0Yc9H/QS6+eEDlP5uSHrjUBo99eZAbx3harVIBn8ZkPwlMekkQD4jXf/ZVF7Sd7vP77t0AsUmVsiD9GFH4TslraFWays1SAx/LfyqPmaVO9KkK0aeAkd4BH4u3fx4SdCL/EW4DARRfCuZOK7v24FUKkCUSuCQgsX5AtQQ/r4aVVAsRIoVwSV2cUQ/ntn0WGDbEkJFGRQG9gDwa/dAim3Q+cgtJBB9ZQq4Pe+hx5lTq0CUarB6AoR4UjWAfxRx/BrOJjUq0FUiAvt+m/TFa3MvujAr8NZV/5wSAD8s/nqET4kEgD/LK7WNBcj4nAM+LlmAJcqQDUosb6zeJoOqcnR6GGoBqk2lpmbaY/84akGwM8MwGzABqLcArm2QrRFocG36B56ph+GXQ34ZSuATCWgGshvDJabpcuuLCFBZRmEq6F1p+DWlkhJUEUE8TbQo0127cvlJMgoQ5SvJjrNiO7vAZaVILIMwQZ+zwMSiRdhy0sQQYagp1zep4Myb4IPI4GKEAmOdd2PxpUECCvBTDkS37tQgF9OgHQSEGn4l0XwFUlKi0PyX19p2KgGgF+uAlANgB8BkAD4aYFoiQCfCkA1AH4EQAKuDy0QLRHgIwAiAH7xFoi2iHWnAlANAB8BEAHwEQARAB8BEAHwEQARAB8BkAHoEQARAB8BkAHoEQAZgB4BagoB8AhQRgpgR4D0cgA5IYQQQggZlL/jpOUQz3cs3gAAAABJRU5ErkJggg==">
<title>Mate+ â€“ Matematica DSA</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Nunito+Sans:wght@400;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #fef9f0;
  --card: #ffffff;
  --primary: #ff6b35;
  --primary-light: #fff0eb;
  --primary-dark: #e55527;
  --accent: #4ecdc4;
  --accent-light: #e8faf9;
  --purple: #8b5cf6;
  --purple-light: #f5f3ff;
  --green: #22c55e;
  --green-light: #f0fdf4;
  --yellow: #f59e0b;
  --yellow-light: #fffbeb;
  --blue: #3b82f6;
  --blue-light: #eff6ff;
  --red: #ef4444;
  --text: #1e293b;
  --text-light: #64748b;
  --border: #e2e8f0;
  --shadow: 0 4px 24px rgba(0,0,0,0.07);
  --shadow-lg: 0 12px 40px rgba(0,0,0,0.12);
  --radius: 20px;
  --font: 'Nunito', sans-serif;
  --font-body: 'Nunito Sans', sans-serif;
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
html{scroll-behavior:smooth}
body{
  font-family:var(--font-body);
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  font-size:17px;
  line-height:1.7;
  overscroll-behavior:none;
}

/* â”€â”€ SPLASH â”€â”€ */
#splash{
  position:fixed;inset:0;
  background:linear-gradient(135deg,#ff6b35 0%,#ff8c42 60%,#ffa05c 100%);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  z-index:1000;transition:opacity 0.5s;
}
#splash .splash-logo{font-family:var(--font);font-weight:900;font-size:52px;color:white;letter-spacing:-1px}
#splash .splash-logo span{color:rgba(255,255,255,0.6)}
#splash p{color:rgba(255,255,255,0.85);font-family:var(--font);font-weight:600;font-size:16px;margin-top:10px}
#splash .dot-loader{display:flex;gap:8px;margin-top:30px}
#splash .dot{width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,0.7);animation:bounce 0.8s infinite alternate}
#splash .dot:nth-child(2){animation-delay:0.2s}
#splash .dot:nth-child(3){animation-delay:0.4s}
@keyframes bounce{to{transform:translateY(-10px);opacity:1}from{opacity:0.4}}

/* â”€â”€ HEADER â”€â”€ */
header{
  background:linear-gradient(135deg,var(--primary) 0%,#ff8c42 100%);
  padding:14px 20px 14px;
  padding-top:calc(14px + env(safe-area-inset-top,0px));
  display:flex;align-items:center;gap:12px;
  box-shadow:0 4px 20px rgba(255,107,53,0.3);
  position:sticky;top:0;z-index:50;
}
.logo{font-family:var(--font);font-weight:900;font-size:24px;color:white;letter-spacing:-0.5px;text-decoration:none}
.logo span{color:rgba(255,255,255,0.55)}
.header-right{margin-left:auto;display:flex;align-items:center;gap:10px}
.pts-badge{
  background:rgba(255,255,255,0.2);color:white;
  font-family:var(--font);font-weight:800;font-size:14px;
  padding:6px 14px;border-radius:50px;
  border:2px solid rgba(255,255,255,0.3);
  backdrop-filter:blur(4px);
}
.settings-btn{
  background:rgba(255,255,255,0.2);border:none;
  color:white;font-size:18px;width:36px;height:36px;
  border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;
}

/* â”€â”€ BOTTOM NAV â”€â”€ */
.bottom-nav{
  position:fixed;bottom:0;left:0;right:0;
  background:white;
  padding:8px 4px calc(8px + var(--safe-bottom));
  display:flex;justify-content:space-around;
  box-shadow:0 -4px 20px rgba(0,0,0,0.08);
  z-index:50;border-top:1px solid var(--border);
}
.nav-item{
  display:flex;flex-direction:column;align-items:center;gap:3px;
  cursor:pointer;padding:6px 10px;border-radius:14px;
  transition:all 0.2s;flex:1;max-width:72px;border:none;background:none;
}
.nav-item .ni{font-size:20px;transition:transform 0.2s}
.nav-item .nl{font-family:var(--font);font-weight:700;font-size:10px;color:var(--text-light);line-height:1.2;text-align:center}
.nav-item.active{background:var(--primary-light)}
.nav-item.active .ni{transform:scale(1.2)}
.nav-item.active .nl{color:var(--primary)}

/* â”€â”€ MAIN â”€â”€ */
main{padding:20px 16px calc(100px + var(--safe-bottom));max-width:680px;margin:0 auto}

/* â”€â”€ CARDS â”€â”€ */
.card{
  background:var(--card);border-radius:var(--radius);
  padding:24px;margin-bottom:20px;
  box-shadow:var(--shadow);
}
.card h2{
  font-family:var(--font);font-weight:900;font-size:20px;
  margin-bottom:14px;display:flex;align-items:center;gap:10px;
}
.card p{font-size:16px;line-height:1.8;margin-bottom:12px}
.card p:last-child{margin-bottom:0}

/* â”€â”€ VISUAL BLOCKS â”€â”€ */
.vb{
  border-radius:14px;padding:20px;margin:18px 0;
  border-left:5px solid;
}
.vb-orange{background:var(--primary-light);border-color:var(--primary)}
.vb-teal{background:var(--accent-light);border-color:var(--accent)}
.vb-purple{background:var(--purple-light);border-color:var(--purple)}
.vb-green{background:var(--green-light);border-color:var(--green)}
.vb-yellow{background:var(--yellow-light);border-color:var(--yellow)}
.vb-blue{background:var(--blue-light);border-color:var(--blue)}
.vb h3{font-family:var(--font);font-weight:800;font-size:16px;margin-bottom:10px}

/* â”€â”€ FORMULA BOX â”€â”€ */
.formula{
  font-family:var(--font);font-weight:900;font-size:22px;
  text-align:center;padding:16px 24px;border-radius:50px;
  margin:12px auto;display:inline-block;letter-spacing:0.5px;
}
.formula-orange{background:var(--primary);color:white}
.formula-purple{background:var(--purple);color:white}
.formula-blue{background:var(--blue);color:white}
.formula-green{background:var(--green);color:white}

/* â”€â”€ SLIDERS â”€â”€ */
.slider-row{margin:12px 0}
.slider-row label{font-family:var(--font);font-weight:700;font-size:14px;color:var(--text-light);display:block;margin-bottom:6px}
input[type=range]{
  width:100%;height:8px;-webkit-appearance:none;
  background:#e2e8f0;border-radius:4px;outline:none;cursor:pointer;
}
input[type=range]::-webkit-slider-thumb{
  -webkit-appearance:none;width:28px;height:28px;border-radius:50%;
  background:var(--primary);border:3px solid white;
  box-shadow:0 2px 8px rgba(255,107,53,0.35);cursor:pointer;
}

/* â”€â”€ CANVAS â”€â”€ */
canvas{
  border-radius:14px;background:white;
  border:2px solid var(--border);max-width:100%;display:block;
}

/* â”€â”€ STEP PILLS â”€â”€ */
.pills{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px}
.pill{
  padding:7px 16px;border-radius:50px;
  font-family:var(--font);font-weight:700;font-size:13px;
  background:#f1f5f9;color:var(--text-light);
  cursor:pointer;border:2px solid transparent;transition:all 0.2s;
}
.pill.active{background:var(--primary);color:white;border-color:var(--primary)}
.pill:hover:not(.active){border-color:var(--primary);color:var(--primary)}

/* â”€â”€ NUMBER LINE â”€â”€ */
.nl-scroll{overflow-x:auto;padding:16px 0}
.nl-track{
  display:flex;align-items:center;
  min-width:540px;position:relative;padding:0 10px;
}
.nl-axis{position:absolute;top:50%;left:10px;right:10px;height:3px;background:var(--text);transform:translateY(-50%)}
.nl-item{
  display:flex;flex-direction:column;align-items:center;
  flex:1;position:relative;z-index:2;cursor:pointer;
}
.nl-dot{
  width:38px;height:38px;border-radius:50%;background:white;
  border:3px solid var(--text);display:flex;align-items:center;justify-content:center;
  font-family:var(--font);font-weight:800;font-size:14px;
  transition:all 0.2s;margin-bottom:6px;
}
.nl-item.neg .nl-dot{border-color:var(--red);color:var(--red)}
.nl-item.zero .nl-dot{border-color:var(--text);background:var(--text);color:white;width:44px;height:44px}
.nl-item.pos .nl-dot{border-color:var(--green);color:var(--green)}
.nl-item:hover .nl-dot{transform:scale(1.25);box-shadow:0 0 0 5px rgba(0,0,0,0.08)}
.nl-lbl{font-size:10px;font-family:var(--font);font-weight:700;color:var(--text-light)}

/* â”€â”€ FRACTION VIS â”€â”€ */
.frac-parts{display:flex;flex-wrap:wrap;gap:5px;margin:14px 0}
.fp{
  width:46px;height:46px;border-radius:10px;
  border:2px solid var(--border);background:#f8fafc;
  transition:all 0.3s;cursor:default;
}
.fp.on{background:var(--primary);border-color:var(--primary)}

/* â”€â”€ EXERCISE ZONE â”€â”€ */
.ex-zone{
  background:linear-gradient(135deg,#f8fafc,#f0f4ff);
  border-radius:var(--radius);padding:24px;
  margin-top:4px;border:2px solid var(--border);
}
.ex-zone h3{
  font-family:var(--font);font-weight:900;font-size:17px;
  color:var(--purple);margin-bottom:16px;
  display:flex;align-items:center;gap:8px;
}
.q-card{background:white;border-radius:16px;padding:22px;box-shadow:0 2px 12px rgba(0,0,0,0.05)}
.q-num{
  font-family:var(--font);font-weight:800;font-size:11px;
  color:white;background:var(--purple);padding:3px 10px;
  border-radius:50px;display:inline-block;margin-bottom:12px;
  letter-spacing:0.5px;
}
.q-text{
  font-family:var(--font);font-weight:700;font-size:18px;
  color:var(--text);margin-bottom:20px;line-height:1.5;
}
/* Visual question support */
.q-visual{
  background:var(--blue-light);border-radius:12px;padding:14px;
  margin-bottom:16px;font-family:var(--font);font-weight:700;
  font-size:15px;color:var(--blue);line-height:1.7;
  border-left:4px solid var(--blue);
}
.opts{
  display:grid;grid-template-columns:repeat(2,1fr);gap:10px;
}
.opts.four-opts{grid-template-columns:repeat(2,1fr)}
.opt-btn{
  padding:18px 10px;border-radius:14px;border:3px solid var(--border);
  background:white;cursor:pointer;
  font-family:var(--font);font-weight:800;font-size:18px;
  color:var(--text);transition:all 0.2s;text-align:center;line-height:1.3;
  -webkit-user-select:none;user-select:none;
}
.opt-btn:active{transform:scale(0.96)}
.opt-btn:hover:not(.locked){border-color:var(--primary);background:var(--primary-light);transform:scale(1.03)}
.opt-btn.correct{background:var(--green-light)!important;border-color:var(--green)!important;color:var(--green)!important;animation:pop 0.35s ease}
.opt-btn.wrong{background:#fef2f2!important;border-color:var(--red)!important;color:var(--red)!important;animation:shake 0.35s ease}
.opt-btn.locked{cursor:default}
@keyframes pop{0%{transform:scale(1)}40%{transform:scale(1.12)}100%{transform:scale(1)}}
@keyframes shake{0%{transform:translateX(0)}20%{transform:translateX(-8px)}60%{transform:translateX(8px)}100%{transform:translateX(0)}}

.feedback{
  margin-top:14px;padding:14px 18px;border-radius:12px;
  font-family:var(--font);font-weight:800;font-size:15px;
  display:none;align-items:flex-start;gap:10px;line-height:1.5;
}
.feedback.show{display:flex}
.feedback.ok{background:var(--green-light);color:#15803d}
.feedback.ko{background:#fef2f2;color:#b91c1c}

/* â”€â”€ HINT â”€â”€ */
.hint-btn{
  display:inline-flex;align-items:center;gap:6px;
  background:none;border:2px solid var(--yellow);
  border-radius:50px;padding:7px 16px;
  cursor:pointer;font-family:var(--font);font-weight:700;
  font-size:13px;color:#92400e;margin-top:14px;
  transition:all 0.2s;
}
.hint-btn:hover{background:var(--yellow-light)}
.hint-box{
  display:none;margin-top:10px;padding:14px 16px;
  background:var(--yellow-light);border:2px dashed var(--yellow);
  border-radius:12px;font-family:var(--font);font-weight:600;
  font-size:14px;color:#92400e;line-height:1.6;
}
.hint-box.show{display:block}

/* â”€â”€ NEXT BTN â”€â”€ */
.next-btn{
  display:inline-flex;align-items:center;gap:8px;
  background:linear-gradient(135deg,var(--primary),#ff8c42);
  color:white;border:none;border-radius:50px;
  padding:14px 28px;font-family:var(--font);font-weight:800;
  font-size:16px;cursor:pointer;margin-top:18px;
  box-shadow:0 4px 16px rgba(255,107,53,0.35);
  transition:all 0.2s;
}
.next-btn:hover{transform:translateY(-2px);box-shadow:0 6px 24px rgba(255,107,53,0.5)}

/* â”€â”€ PROGRESS â”€â”€ */
.q-progress{
  display:flex;gap:6px;margin-bottom:16px;flex-wrap:wrap;
}
.q-dot{
  width:28px;height:28px;border-radius:50%;
  background:var(--border);font-family:var(--font);
  font-weight:800;font-size:11px;display:flex;align-items:center;
  justify-content:center;color:white;transition:all 0.3s;
}
.q-dot.done-ok{background:var(--green)}
.q-dot.done-ko{background:var(--red)}
.q-dot.current{background:var(--primary);transform:scale(1.15)}

/* â”€â”€ TOOLS FLOATING â”€â”€ */
.tools-row{
  display:flex;flex-wrap:wrap;gap:8px;
  padding:12px 16px;background:var(--card);
  border-bottom:1px solid var(--border);
  position:sticky;top:58px;z-index:40;
  overflow-x:auto;
  padding-top:calc(12px + env(safe-area-inset-top,0px) * 0);
}
.tool-chip{
  display:inline-flex;align-items:center;gap:5px;
  padding:8px 14px;border-radius:50px;
  background:var(--accent-light);border:2px solid var(--accent);
  font-family:var(--font);font-weight:700;font-size:13px;
  color:#0f766e;cursor:pointer;white-space:nowrap;
  transition:all 0.2s;flex-shrink:0;
}
.tool-chip:hover{background:var(--accent);color:white;transform:scale(1.04)}

/* â”€â”€ MODAL â”€â”€ */
.overlay{
  position:fixed;inset:0;background:rgba(0,0,0,0.55);
  z-index:200;display:none;align-items:flex-end;justify-content:center;
  padding:0;backdrop-filter:blur(6px);
}
.overlay.show{display:flex}
.modal{
  background:white;border-radius:28px 28px 0 0;
  padding:28px 24px calc(24px + var(--safe-bottom));
  width:100%;max-width:560px;
  box-shadow:0 -8px 40px rgba(0,0,0,0.18);
  animation:slideUp 0.3s cubic-bezier(0.34,1.56,0.64,1);
  max-height:88vh;overflow-y:auto;
}
@keyframes slideUp{from{transform:translateY(100%)}to{transform:translateY(0)}}
.modal-handle{width:40px;height:4px;background:#ddd;border-radius:2px;margin:0 auto 20px}
.modal-close{
  width:100%;margin-top:20px;padding:14px;
  background:var(--primary);color:white;border:none;border-radius:14px;
  font-family:var(--font);font-weight:800;font-size:16px;cursor:pointer;
  transition:all 0.2s;
}
.modal-close:hover{background:var(--primary-dark)}
.modal-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.modal-top h3{margin:0;font-family:var(--font);font-weight:900;font-size:20px}
.modal-x{
  position:sticky;top:0;flex-shrink:0;
  width:36px;height:36px;border-radius:50%;border:none;
  background:var(--border);color:var(--text);font-size:20px;font-weight:900;
  cursor:pointer;display:flex;align-items:center;justify-content:center;
  transition:all 0.2s;z-index:10;
}
.modal-x:hover{background:var(--red);color:white}

/* â”€â”€ CALCULATOR â”€â”€ */
.calc{background:#1e293b;border-radius:20px;padding:18px;max-width:300px;margin:0 auto}
.calc-disp{
  background:#0f172a;border-radius:12px;padding:14px 18px;
  text-align:right;font-family:var(--font);font-weight:800;
  font-size:30px;color:#f8fafc;margin-bottom:14px;min-height:58px;
  word-break:break-all;
}
.calc-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.cb{
  padding:16px 8px;border-radius:12px;border:none;
  font-family:var(--font);font-weight:800;font-size:18px;
  cursor:pointer;transition:all 0.15s;background:#334155;color:#f8fafc;
}
.cb:active{transform:scale(0.93)}
.cb.op{background:var(--primary);color:white}
.cb.eq{background:var(--accent);color:white;grid-column:span 2}
.cb.clr{background:var(--red);color:white}
.cb.z{grid-column:span 2}

/* â”€â”€ PITA TABLE â”€â”€ */
.pt{border-collapse:collapse;width:100%;font-family:var(--font);font-weight:700;font-size:13px;border-radius:12px;overflow:hidden}
.pt th{background:var(--purple);color:white;padding:8px 5px;text-align:center}
.pt td{padding:7px 4px;text-align:center;border:1px solid #f1f5f9;cursor:pointer;transition:background 0.15s}
.pt td:hover{background:var(--purple-light)}
.pt tr:nth-child(even) td{background:#fafafa}
.pt tr:nth-child(even) td:hover{background:var(--purple-light)}
.pt td.diag{background:var(--purple-light);color:var(--purple);font-weight:900}

/* â”€â”€ FORMULE SHEET â”€â”€ */
.form-row{
  display:flex;align-items:center;gap:12px;
  padding:12px 0;border-bottom:1px solid var(--border);
  font-family:var(--font);
}
.form-row:last-child{border-bottom:none}
.form-icon{font-size:26px;flex-shrink:0;width:36px;text-align:center}
.form-content .name{font-weight:800;font-size:14px;color:var(--text-light)}
.form-content .f{font-weight:800;font-size:16px;color:var(--text);margin-top:2px}
.form-content .inv{font-size:13px;color:var(--purple);font-weight:700;margin-top:2px}

/* â”€â”€ STATS PAGE â”€â”€ */
.stat-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;margin-bottom:20px}
.stat-box{
  background:white;border-radius:16px;padding:18px;
  box-shadow:var(--shadow);text-align:center;
}
.stat-box .sv{font-family:var(--font);font-weight:900;font-size:34px}
.stat-box .sl{font-family:var(--font);font-weight:700;font-size:12px;color:var(--text-light);margin-top:4px}
.stars-row{display:flex;gap:4px;justify-content:center;font-size:26px;margin:6px 0}

/* â”€â”€ ACCESS BAR â”€â”€ */
.access-bar{display:flex;gap:8px;flex-wrap:wrap;margin-top:16px}
.ac-btn{
  padding:8px 16px;border-radius:50px;border:2px solid var(--border);
  background:white;cursor:pointer;font-family:var(--font);font-weight:700;
  font-size:13px;color:var(--text-light);transition:all 0.2s;
  display:flex;align-items:center;gap:5px;
}
.ac-btn.on{background:var(--primary);border-color:var(--primary);color:white}
.ac-btn:hover{transform:scale(1.04)}

/* â”€â”€ ACCESSIBILITY MODES â”€â”€ */
body.large-text{font-size:20px}
body.large-text .opt-btn{font-size:22px;padding:22px 10px}
body.large-text .q-text{font-size:22px}
body.large-text .formula{font-size:26px}
body.high-contrast{
  --bg:#0a0a0a;--card:#1a1a1a;--text:#ffffff;--text-light:#aaaaaa;
  --border:#333;--primary-light:#2a1200;--accent-light:#001a18;
  --purple-light:#180033;--green-light:#001a0d;--yellow-light:#1a1500;
  --blue-light:#001226;
}
body.high-contrast .opt-btn{background:#1a1a1a!important;color:white!important}
/* Tool buttons stay readable in high-contrast */
body.high-contrast .tool-chip{
  background:#1e3a5f!important;color:#ffffff!important;
  border-color:#4a90d9!important;
}
body.high-contrast .ac-btn{
  background:#1e1e1e!important;color:#ffffff!important;
  border-color:#555!important;
}
body.high-contrast .ac-btn.on{
  background:var(--primary)!important;color:white!important;
  border-color:var(--primary)!important;
}
body.dsa-font *{letter-spacing:0.08em!important;word-spacing:0.15em!important;line-height:2.1!important}

/* â”€â”€ PROGRESS BAR â”€â”€ */
.prog-bar-wrap{height:6px;background:var(--border);border-radius:3px;margin-bottom:16px;overflow:hidden}
.prog-bar-fill{height:100%;background:linear-gradient(90deg,var(--primary),var(--yellow));border-radius:3px;transition:width 0.5s ease}

/* â”€â”€ CONTENT PAGES â”€â”€ */
.page{display:none}
.page.active{display:block}

/* â”€â”€ HOME PAGE â”€â”€ */
.home-hero{
  background:linear-gradient(135deg,var(--primary) 0%,#ff8c42 50%,#ffa05c 100%);
  border-radius:var(--radius);padding:28px 24px;margin-bottom:20px;
  color:white;position:relative;overflow:hidden;
}
.home-hero::after{
  content:'ğŸ§ ';font-size:80px;
  position:absolute;right:-10px;bottom:-10px;opacity:0.25;
  transform:rotate(15deg);
}
.home-hero h1{font-family:var(--font);font-weight:900;font-size:26px;margin-bottom:8px}
.home-hero p{font-size:15px;opacity:0.9;line-height:1.6;max-width:300px}
.topic-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}
.topic-card{
  background:var(--card);border-radius:18px;padding:20px;
  box-shadow:var(--shadow);cursor:pointer;border:3px solid transparent;
  transition:all 0.25s;display:flex;flex-direction:column;gap:8px;
}
.topic-card:hover,.topic-card:active{transform:translateY(-3px);box-shadow:var(--shadow-lg)}
.topic-card .tc-icon{font-size:32px}
.topic-card .tc-name{font-family:var(--font);font-weight:800;font-size:14px;line-height:1.3}
.topic-card .tc-count{font-size:12px;color:var(--text-light);font-family:var(--font);font-weight:600}
.topic-card .tc-bar{height:4px;border-radius:2px;background:var(--border);margin-top:4px}
.topic-card .tc-fill{height:100%;border-radius:2px;transition:width 0.5s}

/* â”€â”€ AUTHOR â”€â”€ */
.author-tag{
  text-align:center;padding:16px;
  font-family:var(--font);font-size:13px;font-weight:600;
  color:var(--text-light);
}
.author-tag strong{color:var(--primary)}

/* â”€â”€ INSTALL BANNER â”€â”€ */
#install-banner{
  display:none;position:fixed;bottom:calc(70px + var(--safe-bottom));
  left:16px;right:16px;
  background:linear-gradient(135deg,var(--purple),#7c3aed);
  color:white;border-radius:18px;padding:16px 20px;
  box-shadow:0 8px 32px rgba(139,92,246,0.4);
  z-index:60;animation:slideUp 0.4s ease;
}
#install-banner.show{display:flex;align-items:center;gap:12px}
#install-banner p{flex:1;font-family:var(--font);font-weight:700;font-size:14px;line-height:1.4}
.install-btn{
  background:white;color:var(--purple);border:none;border-radius:50px;
  padding:10px 18px;font-family:var(--font);font-weight:800;font-size:13px;
  cursor:pointer;white-space:nowrap;flex-shrink:0;
}
.install-x{background:none;border:none;color:rgba(255,255,255,0.6);font-size:20px;cursor:pointer;flex-shrink:0;padding:0 4px}

/* â”€â”€ SECTION HEADER â”€â”€ */
.sec-header{
  display:flex;align-items:center;gap:12px;margin-bottom:20px;
}
.sec-back{
  background:none;border:2px solid var(--border);border-radius:50%;
  width:40px;height:40px;cursor:pointer;font-size:18px;
  display:flex;align-items:center;justify-content:center;
  transition:all 0.2s;color:var(--text);flex-shrink:0;
}
.sec-back:hover{background:var(--primary-light);border-color:var(--primary);color:var(--primary)}
.sec-header h2{font-family:var(--font);font-weight:900;font-size:22px}

/* geom visual helpers */
.geom-result{
  font-family:var(--font);font-weight:800;font-size:20px;
  text-align:center;margin-top:14px;padding:14px;
  background:var(--purple-light);border-radius:12px;color:var(--purple);
}
</style>

<script>
// â”€â”€ Helper decimali italiani â”€â”€
function itNum(n, dec=2) {
  return parseFloat(n.toFixed(dec)).toString().replace('.', ',');
}
function itFixed(n, dec=2) {
  return n.toFixed(dec).replace('.', ',');
}

// Manifest: vedi manifest.json

// â”€â”€ SERVICE WORKER â”€â”€
(function(){
  if(!('serviceWorker' in navigator)) return;
  navigator.serviceWorker.register('./sw.js', {scope:'./'})
    .then(()=>console.log('SW ok'))
    .catch(e=>console.log('SW err', e));
})();
</script>
</head>
<body>

<!-- SPLASH -->
<div id="splash">
  <div class="splash-logo">Mate<span>+</span> ğŸš€</div>
  <p>Matematica 2Âª Media â€“ DSA Friendly</p>
  <div class="dot-loader">
    <div class="dot"></div><div class="dot"></div><div class="dot"></div>
  </div>
</div>

<!-- HEADER -->
<header id="mainHeader">
  <span class="logo">Mate<span>+</span></span>
  <div class="header-right">
    <span class="pts-badge" id="ptsBadge">â­ 0 pt</span>
    <button class="settings-btn" onclick="showPage('settings')" title="Impostazioni">âš™ï¸</button>
  </div>
</header>

<!-- TOOLS ROW -->
<div class="tools-row" id="toolsRow">
  <button class="tool-chip" onclick="openModal('mCalc')">ğŸ§® Calcolatrice</button>
  <button class="tool-chip" onclick="openModal('mPita')">âœ–ï¸ Tav. Pitagorica</button>
  <button class="tool-chip" onclick="openModal('mForm')">ğŸ“ Formule</button>
  <button class="tool-chip" onclick="openModal('mReg')">Â± Regole Segni</button>
  <button class="tool-chip" onclick="openModal('mTav')">ğŸ”¢ Tavole Numeriche</button>
  <button class="tool-chip" onclick="openModal('mPrim')">ğŸ”µ Numeri Primi</button>
</div>

<!-- MAIN -->
<main id="mainContent">

  <!-- â•â•â•â•â•â•â•â•â•â•â• HOME â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="page active" id="pageHome">
    <div class="home-hero">
      <h1>Ciao! Pronto a fare matematica? ğŸ¯</h1>
      <p>Scegli un argomento. Nessuno scrive a mano â€” si risponde sempre cliccando!</p>
    </div>
    <div class="topic-grid">
      <div class="topic-card" onclick="showTopic('numeri')" style="border-color:#ef444422" id="tc-numeri">
        <div class="tc-icon">Â±</div>
        <div class="tc-name">Numeri Relativi</div>
        <div class="tc-count" id="cnt-numeri">100 esercizi</div>
        <div class="tc-bar"><div class="tc-fill" id="fill-numeri" style="width:0%;background:#ef4444"></div></div>
      </div>
      <div class="topic-card" onclick="showTopic('frazioni')" style="border-color:#f59e0b22" id="tc-frazioni">
        <div class="tc-icon">Â½</div>
        <div class="tc-name">Frazioni</div>
        <div class="tc-count" id="cnt-frazioni">100 esercizi</div>
        <div class="tc-bar"><div class="tc-fill" id="fill-frazioni" style="width:0%;background:#f59e0b"></div></div>
      </div>
      <div class="topic-card" onclick="showTopic('geometria')" style="border-color:#3b82f622" id="tc-geometria">
        <div class="tc-icon">ğŸ”·</div>
        <div class="tc-name">Geometria & Aree</div>
        <div class="tc-count" id="cnt-geometria">100 esercizi</div>
        <div class="tc-bar"><div class="tc-fill" id="fill-geometria" style="width:0%;background:#3b82f6"></div></div>
      </div>
      <div class="topic-card" onclick="showTopic('pitagora')" style="border-color:#8b5cf622" id="tc-pitagora">
        <div class="tc-icon">ğŸ“</div>
        <div class="tc-name">Teorema di Pitagora</div>
        <div class="tc-count" id="cnt-pitagora">100 esercizi</div>
        <div class="tc-bar"><div class="tc-fill" id="fill-pitagora" style="width:0%;background:#8b5cf6"></div></div>
      </div>
      <div class="topic-card" onclick="showTopic('algebra')" style="border-color:#22c55e22" id="tc-algebra">
        <div class="tc-icon">ğŸ”¤</div>
        <div class="tc-name">Algebra</div>
        <div class="tc-count" id="cnt-algebra">100 esercizi</div>
        <div class="tc-bar"><div class="tc-fill" id="fill-algebra" style="width:0%;background:#22c55e"></div></div>
      </div>
      <div class="topic-card" onclick="showTopic('statistica')" style="border-color:#f59e0b22" id="tc-statistica">
        <div class="tc-icon">ğŸ“Š</div>
        <div class="tc-name">Statistica</div>
        <div class="tc-count" id="cnt-statistica">100 esercizi</div>
        <div class="tc-bar"><div class="tc-fill" id="fill-statistica" style="width:0%;background:#f59e0b"></div></div>
      </div>
      <div class="topic-card" onclick="showTopic('radicali')" style="border-color:#06b6d422" id="tc-radicali">
        <div class="tc-icon">âˆš</div>
        <div class="tc-name">Potenze & Radicali</div>
        <div class="tc-count" id="cnt-radicali">100 esercizi</div>
        <div class="tc-bar"><div class="tc-fill" id="fill-radicali" style="width:0%;background:#06b6d4"></div></div>
      </div>
      <div class="topic-card" onclick="showRipasso()" style="border-color:#f43f5e22;grid-column:span 2;display:flex;flex-direction:row;align-items:center;gap:16px;padding:18px" id="tc-ripasso">
        <div class="tc-icon" style="font-size:40px">ğŸ¯</div>
        <div style="flex:1">
          <div class="tc-name" style="font-size:16px">Ripasso Generale</div>
          <div class="tc-count">Sessioni da 20-30 domande miste su tutti gli argomenti</div>
          <div class="tc-bar" style="margin-top:8px"><div class="tc-fill" id="fill-ripasso" style="width:0%;background:#f43f5e"></div></div>
        </div>
        <div style="font-size:28px">â–¶</div>
      </div>
    </div>
    <div class="author-tag">Creato da <strong>Valerio Spiga</strong> Â· Mate+ v1.0 Â· DSA Friendly ğŸ§¡<br><span style="font-size:12px;color:var(--text-light)">Â© 2026 Valerio Spiga</span></div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â• TOPIC PAGE â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="page" id="pageTopicLesson">
    <div class="sec-header">
      <button class="sec-back" onclick="showPage('home')" aria-label="Torna alla home">â†</button>
      <h2 id="topicTitle"></h2>
    </div>
    <div id="lessonContent"></div>
    <div class="ex-zone" id="exZone">
      <h3 id="exTitle">ğŸ’ª Esercitati â€” clicca la risposta!</h3>
      <div class="q-progress" id="qProgress"></div>
      <div class="prog-bar-wrap"><div class="prog-bar-fill" id="qProgBar" style="width:0%"></div></div>
      <div id="quizArea"></div>
    </div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â• STATS â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="page" id="pageStats">
    <div class="sec-header" style="margin-bottom:20px">
      <h2>ğŸ“Š I tuoi progressi</h2>
    </div>
    <div class="stat-grid" id="statGrid"></div>
    <div class="card" id="statDetail"></div>
  </div>

  <!-- â•â•â•â•â•â•â•â•â•â•â• SETTINGS â•â•â•â•â•â•â•â•â•â•â• -->
  <div class="page" id="pageSettings">
    <div class="sec-header" style="margin-bottom:20px">
      <button class="sec-back" onclick="showPage('home')">â†</button>
      <h2>âš™ï¸ Impostazioni</h2>
    </div>
    <div class="card">
      <h2>â™¿ AccessibilitÃ </h2>
      <div class="access-bar">
        <button class="ac-btn" id="btnContrast" onclick="toggleA('high-contrast',this)">ğŸŒ™ Alto Contrasto</button>
        <button class="ac-btn" id="btnDSA" onclick="toggleA('dsa-font',this)">ğŸ”¤ Testo Grande</button>
        <button class="ac-btn" id="btnSound" onclick="toggleSound(this)">ğŸ”Š Audio Attivo</button>
      </div>
    </div>
    <div class="card">
      <h2>â„¹ï¸ Informazioni</h2>
      <p><strong>Mate+</strong> Ã¨ una webapp educativa pensata per studenti di 2Âª media con discalculia e disgrafia, ispirata alle linee guida pedagogiche per i DSA (Legge 170/2010).</p>
      <p>Principi adottati: piccoli passi progressivi, risposta per clic (nessuna scrittura), strumenti compensativi sempre visibili, feedback immediato, rinforzo positivo.</p>
      <div style="background:#fef3c7;border:2px solid #f59e0b;border-radius:14px;padding:14px 16px;margin:16px 0">
        <p style="font-family:var(--font);font-weight:800;font-size:14px;color:#92400e;margin-bottom:6px">âš ï¸ Nota per genitori e insegnanti</p>
        <p style="font-family:var(--font);font-weight:600;font-size:13px;color:#78350f;line-height:1.6;margin:0">Questa app Ã¨ stata realizzata con il supporto dell'intelligenza artificiale. Nonostante la cura nella verifica dei contenuti, le informazioni e le risposte potrebbero contenere errori. <strong>Un adulto (genitore o insegnante) dovrebbe sempre supervisionare e verificare i contenuti prima dell'uso didattico.</strong></p>
      </div>
      <p style="margin-top:16px;font-family:var(--font);font-weight:800;color:var(--primary)">Autore: Valerio Spiga</p>
      <p style="font-size:14px;color:var(--text-light)">Versione 1.0 Â· Â© 2026 Valerio Spiga</p>
    </div>
    <div class="card">
      <h2>ğŸ“² Installazione su telefono</h2>
      <p><strong>ğŸ“± iPhone / iPad:</strong> apri questa pagina in Safari â†’ tocca Condividi â¬†ï¸ â†’ "Aggiungi alla schermata Home"</p>
      <p><strong>ğŸ¤– Android / Chrome:</strong> tocca i tre puntini â‹® â†’ "Aggiungi alla schermata Home" o "Installa app"</p>
      <div style="margin-top:16px;display:flex;gap:10px;flex-wrap:wrap">
        <button onclick="openModal('mIos')" style="padding:12px 20px;background:var(--primary);color:white;border:none;border-radius:12px;font-family:var(--font);font-weight:800;font-size:15px;cursor:pointer;display:flex;align-items:center;gap:8px">
          ğŸ“² Guida passo-passo iPhone
        </button>
        <button onclick="document.getElementById('install-banner').classList.add('show')" style="padding:12px 20px;background:var(--accent);color:white;border:none;border-radius:12px;font-family:var(--font);font-weight:800;font-size:15px;cursor:pointer;display:flex;align-items:center;gap:8px">
          ğŸ¤– Installa su Android
        </button>
      </div>
    </div>
    <div class="author-tag">Made with ğŸ§¡ by <strong>Valerio Spiga</strong><br><span style="font-size:12px;color:var(--text-light)">Â© 2026 Valerio Spiga â€” Mate+. Tutti i diritti riservati.</span></div>
  </div>


  <!-- â•â• PAGE RIPASSO â•â• -->
  <div class="page" id="pageRipasso">
    <div class="sec-header">
      <button class="sec-back" onclick="showPage('home')" aria-label="Torna alla home">â†</button>
      <h2>ğŸ¯ Ripasso Generale</h2>
    </div>

    <!-- schermata START -->
    <div id="ripassoStart" class="card" style="text-align:center;padding:28px 20px">
      <div style="font-size:56px;margin-bottom:12px">ğŸ¯</div>
      <h2 style="font-family:var(--font);font-weight:900;font-size:22px;margin-bottom:8px">Ripasso Generale</h2>
      <p style="color:var(--text-light);font-family:var(--font);font-weight:600;font-size:15px;margin-bottom:20px">
        Una sessione di domande miste su tutti gli argomenti studiati.<br>Quante domande vuoi fare?
      </p>
      <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-bottom:24px">
        <button onclick="startRipasso(20)" style="padding:14px 24px;background:var(--primary);color:white;border:none;border-radius:14px;font-family:var(--font);font-weight:800;font-size:17px;cursor:pointer">20 domande</button>
        <button onclick="startRipasso(25)" style="padding:14px 24px;background:var(--accent);color:white;border:none;border-radius:14px;font-family:var(--font);font-weight:800;font-size:17px;cursor:pointer">25 domande</button>
        <button onclick="startRipasso(30)" style="padding:14px 24px;background:#f43f5e;color:white;border:none;border-radius:14px;font-family:var(--font);font-weight:800;font-size:17px;cursor:pointer">30 domande</button>
      </div>
      <div id="ripassoBestBox" style="display:none;background:var(--primary-light);border-radius:12px;padding:12px 16px;font-family:var(--font)">
        <span style="font-weight:700;font-size:14px;color:var(--primary)">ğŸ† Il tuo record: <span id="ripassoBest">â€”</span></span>
      </div>
    </div>

    <!-- schermata QUIZ in corso -->
    <div id="ripassoQuiz" style="display:none">
      <div class="card" style="padding:16px">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;font-family:var(--font);font-weight:800">
          <span id="rpProgress" style="color:var(--text-light);font-size:14px">1 / 20</span>
          <span id="rpScore" style="color:var(--primary);font-size:15px">âœ… 0</span>
          <span id="rpTopic" style="font-size:12px;background:var(--border);border-radius:20px;padding:3px 10px;color:var(--text-light)">â€”</span>
        </div>
        <div id="rpBar" style="height:6px;background:var(--border);border-radius:3px;margin-bottom:16px">
          <div id="rpBarFill" style="height:100%;background:linear-gradient(90deg,var(--primary),var(--accent));border-radius:3px;width:0%;transition:width 0.4s"></div>
        </div>
        <p id="rpQuestion" style="font-family:var(--font);font-weight:700;font-size:16px;line-height:1.5;margin-bottom:16px;min-height:60px"></p>
        <div id="rpOpts" style="display:flex;flex-direction:column;gap:10px"></div>
        <div id="rpHint" style="display:none;margin-top:14px;padding:12px;background:var(--accent-light);border-radius:12px;font-family:var(--font);font-weight:700;font-size:14px;color:var(--accent)"></div>
        <button id="rpNext" onclick="rpNextQuestion()" style="display:none;margin-top:16px;width:100%;padding:14px;background:var(--primary);color:white;border:none;border-radius:14px;font-family:var(--font);font-weight:800;font-size:16px;cursor:pointer">Prossima â†’</button>
      </div>
    </div>

    <!-- schermata RISULTATO -->
    <div id="ripassoResult" style="display:none" class="card">
      <div style="text-align:center;padding:16px 0 20px">
        <div id="rpResultEmoji" style="font-size:60px;margin-bottom:10px">ğŸ‰</div>
        <h2 id="rpResultTitle" style="font-family:var(--font);font-weight:900;font-size:22px;margin-bottom:6px"></h2>
        <p id="rpResultSub" style="font-family:var(--font);font-weight:600;color:var(--text-light);font-size:15px;margin-bottom:20px"></p>
        <div id="rpResultByTopic" style="text-align:left;margin-bottom:20px"></div>
        <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
          <button onclick="startRipasso(rpState.total)" style="padding:13px 22px;background:var(--primary);color:white;border:none;border-radius:14px;font-family:var(--font);font-weight:800;font-size:15px;cursor:pointer">ğŸ”„ Rifai</button>
          <button onclick="showRipasso()" style="padding:13px 22px;background:var(--accent);color:white;border:none;border-radius:14px;font-family:var(--font);font-weight:800;font-size:15px;cursor:pointer">ğŸ†• Nuova sessione</button>
        </div>
      </div>
    </div>
  </div>

</main>

<!-- BOTTOM NAV -->
<nav class="bottom-nav">
  <button class="nav-item active" id="nav-home" onclick="showPage('home')" aria-label="Home">
    <span class="ni">ğŸ </span><span class="nl">Home</span>
  </button>
  <button class="nav-item" id="nav-ripasso" onclick="showRipasso()" aria-label="Ripasso">
    <span class="ni">ğŸ¯</span><span class="nl">Ripasso</span>
  </button>
  <button class="nav-item" id="nav-stats" onclick="showPage('stats')" aria-label="Progressi">
    <span class="ni">ğŸ“Š</span><span class="nl">Progressi</span>
  </button>
  <button class="nav-item" id="nav-set" onclick="showPage('settings')" aria-label="Impostazioni">
    <span class="ni">âš™ï¸</span><span class="nl">Imposta</span>
  </button>
</nav>

<!-- INSTALL BANNER â€” Android PWA (beforeinstallprompt) -->
<div id="install-banner">
  <p>ğŸ“² Installa Mate+ sul telefono!</p>
  <button class="install-btn" id="installBtn">Installa</button>
  <button class="install-x" onclick="document.getElementById('install-banner').classList.remove('show')">âœ•</button>
</div>

<!-- TAVOLE NUMERICHE MODAL -->
<div class="overlay" id="mTav" onclick="if(event.target===this)closeModal('mTav')">
  <div class="modal" style="max-width:520px">
    <div class="modal-handle"></div>
    <div class="modal-top"><h3>ğŸ”¢ Tavole Numeriche (1â€“1000)</h3><button class="modal-x" onclick="closeModal('mTav')" aria-label="Chiudi">âœ•</button></div>
    <div style="font-family:var(--font);margin-bottom:12px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
      <label style="font-weight:700;font-size:14px">Da:</label>
      <input id="tavFrom" type="number" min="1" max="999" value="1"
        style="width:70px;padding:6px;border-radius:8px;border:2px solid var(--border);font-family:var(--font);font-weight:700;font-size:14px">
      <label style="font-weight:700;font-size:14px">A:</label>
      <input id="tavTo" type="number" min="2" max="1000" value="20"
        style="width:70px;padding:6px;border-radius:8px;border:2px solid var(--border);font-family:var(--font);font-weight:700;font-size:14px">
      <button onclick="renderTavole()" style="padding:7px 16px;background:var(--primary);color:white;border:none;border-radius:10px;font-family:var(--font);font-weight:800;font-size:14px;cursor:pointer">Mostra</button>
    </div>
    <div style="overflow-x:auto;max-height:55vh;overflow-y:auto;border-radius:12px;border:2px solid var(--border)">
      <table id="tavTable" style="border-collapse:collapse;width:100%;font-family:var(--font);font-size:13px">
        <thead>
          <tr style="background:var(--primary);color:white;position:sticky;top:0">
            <th style="padding:8px 10px;text-align:right">n</th>
            <th style="padding:8px 10px;text-align:right">nÂ²</th>
            <th style="padding:8px 10px;text-align:right">nÂ³</th>
            <th style="padding:8px 10px;text-align:right">âˆšn</th>
            <th style="padding:8px 10px;text-align:right">âˆ›n</th>
          </tr>
        </thead>
        <tbody id="tavBody"></tbody>
      </table>
    </div>
    <button class="modal-close" onclick="closeModal('mTav')">âœ“ Chiudi</button>
  </div>
</div>

<!-- NUMERI PRIMI MODAL -->
<div class="overlay" id="mPrim" onclick="if(event.target===this)closeModal('mPrim')">
  <div class="modal" style="max-width:520px">
    <div class="modal-handle"></div>
    <div class="modal-top"><h3>ğŸ”µ Numeri Primi &lt; 10 000</h3><button class="modal-x" onclick="closeModal('mPrim')" aria-label="Chiudi">âœ•</button></div>
    <div style="font-family:var(--font);font-size:13px;color:var(--text-light);margin-bottom:10px;font-weight:700">
      Un numero primo Ã¨ divisibile <strong>solo per 1 e per se stesso</strong>.
      Ci sono <strong>1229</strong> numeri primi minori di 10 000.
    </div>
    <div style="font-family:var(--font);margin-bottom:12px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
      <label style="font-weight:700;font-size:14px">Cerca nÂ°:</label>
      <input id="primSearch" type="number" min="2" max="9999" placeholder="es. 97"
        style="width:90px;padding:6px;border-radius:8px;border:2px solid var(--border);font-family:var(--font);font-weight:700;font-size:14px"
        oninput="checkPrimo(this.value)">
      <span id="primSearchResult" style="font-family:var(--font);font-weight:800;font-size:14px"></span>
    </div>
    <div style="overflow-y:auto;max-height:55vh;border-radius:12px;border:2px solid var(--border);padding:10px;background:white;line-height:2" id="primList"></div>
    <button class="modal-close" onclick="closeModal('mPrim')">âœ“ Chiudi</button>
  </div>
</div>

<!-- iOS INSTALL GUIDE MODAL -->
<div class="overlay" id="mIos" onclick="if(event.target===this)closeModal('mIos')">
  <div class="modal">
    <div class="modal-handle"></div>
    <div class="modal-top"><h3>ğŸ“² Installa su iPhone / iPad</h3><button class="modal-x" onclick="closeModal('mIos')" aria-label="Chiudi">âœ•</button></div>
    <div style="text-align:center;margin-bottom:18px">
      <div style="background:var(--primary);color:white;border-radius:16px;padding:16px;font-family:var(--font);font-weight:900;font-size:18px">
        Apri questa pagina in <strong>Safari</strong> se non ci sei giÃ 
      </div>
    </div>
    <div style="font-family:var(--font);font-size:16px;line-height:1;font-weight:700">
      <div style="display:flex;align-items:center;gap:14px;padding:14px 0;border-bottom:1px solid var(--border)">
        <div style="width:40px;height:40px;border-radius:50%;background:var(--primary);color:white;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0">1</div>
        <div>Tocca il pulsante <strong>Condividi</strong> <span style="font-size:22px">â¬†ï¸</span> nella barra in basso di Safari</div>
      </div>
      <div style="display:flex;align-items:center;gap:14px;padding:14px 0;border-bottom:1px solid var(--border)">
        <div style="width:40px;height:40px;border-radius:50%;background:var(--primary);color:white;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0">2</div>
        <div>Scorri verso il basso e tocca <strong>"Aggiungi alla schermata Home"</strong> ğŸ </div>
      </div>
      <div style="display:flex;align-items:center;gap:14px;padding:14px 0">
        <div style="width:40px;height:40px;border-radius:50%;background:var(--primary);color:white;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0">3</div>
        <div>Tocca <strong>"Aggiungi"</strong> in alto a destra â€” fatto! ğŸ‰</div>
      </div>
    </div>
    <div style="background:var(--primary-light);border-radius:14px;padding:14px;margin-top:10px;border-left:4px solid var(--primary);font-family:var(--font);font-weight:700;font-size:14px;color:#7c2d12">
      âœ… ApparirÃ  l'icona arancione <strong>Mate+</strong> sulla tua schermata Home â€” e funziona anche senza internet!
    </div>
    <button class="modal-close" onclick="closeModal('mIos')">âœ“ Ho capito, grazie!</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MODALS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="overlay" id="mCalc" onclick="if(event.target===this)closeModal('mCalc')">
  <div class="modal">
    <div class="modal-handle"></div>
    <div class="modal-top"><h3>ğŸ§® Calcolatrice</h3><button class="modal-x" onclick="closeModal('mCalc')" aria-label="Chiudi">âœ•</button></div>
    <div class="calc">
      <div id="calcBeads" style="display:flex;gap:3px;align-items:center;justify-content:center;margin-bottom:8px;min-height:22px;flex-wrap:wrap"></div>
      <div class="calc-disp" id="calcDisp">0</div>
      <div class="calc-grid">
        <button class="cb clr" onclick="ci('C')">C</button>
        <button class="cb op" onclick="ci('Â±')">Â±</button>
        <button class="cb op" onclick="ci('âˆš')" style="font-size:18px">âˆš</button>
        <button class="cb op" onclick="ci('Ã·')">Ã·</button>
        <button class="cb" onclick="ci('7')">7</button><button class="cb" onclick="ci('8')">8</button>
        <button class="cb" onclick="ci('9')">9</button><button class="cb op" onclick="ci('Ã—')">Ã—</button>
        <button class="cb" onclick="ci('4')">4</button><button class="cb" onclick="ci('5')">5</button>
        <button class="cb" onclick="ci('6')">6</button><button class="cb op" onclick="ci('âˆ’')">âˆ’</button>
        <button class="cb" onclick="ci('1')">1</button><button class="cb" onclick="ci('2')">2</button>
        <button class="cb" onclick="ci('3')">3</button><button class="cb op" onclick="ci('+')">+</button>
        <button class="cb z" onclick="ci('0')">0</button>
        <button class="cb" onclick="ci('.')">.</button>
        <button class="cb eq" onclick="ci('=')">= </button>
      </div>
    </div>
    <button class="modal-close" onclick="closeModal('mCalc')">âœ“ Chiudi</button>
  </div>
</div>

<div class="overlay" id="mPita" onclick="if(event.target===this)closeModal('mPita')">
  <div class="modal">
    <div class="modal-handle"></div>
    <div class="modal-top"><h3>âœ–ï¸ Tavola Pitagorica</h3><button class="modal-x" onclick="closeModal('mPita')" aria-label="Chiudi">âœ•</button></div>
    <div style="overflow-x:auto"><table class="pt" id="pitaTable"></table></div>
    <button class="modal-close" onclick="closeModal('mPita')">âœ“ Chiudi</button>
  </div>
</div>

<div class="overlay" id="mForm" onclick="if(event.target===this)closeModal('mForm')">
  <div class="modal">
    <div class="modal-handle"></div>
    <div class="modal-top"><h3>ğŸ“ Formule & Inverse</h3><button class="modal-x" onclick="closeModal('mForm')" aria-label="Chiudi">âœ•</button></div>
    <div id="formuleList"></div>
    <button class="modal-close" onclick="closeModal('mForm')">âœ“ Chiudi</button>
  </div>
</div>

<div class="overlay" id="mReg" onclick="if(event.target===this)closeModal('mReg')">
  <div class="modal">
    <div class="modal-handle"></div>
    <div class="modal-top"><h3>Â± Regole dei Segni</h3><button class="modal-x" onclick="closeModal('mReg')" aria-label="Chiudi">âœ•</button></div>
    <div style="font-family:var(--font);font-weight:700;font-size:15px;line-height:2.2">

      <p style="font-size:13px;font-weight:800;color:var(--text-light);letter-spacing:0.05em;margin-bottom:4px">âœ–ï¸ MOLTIPLICAZIONE &amp; Ã· DIVISIONE</p>
      <div style="background:var(--green-light);border-radius:12px;padding:10px 14px;margin-bottom:8px">
        <p style="color:var(--green)">â• Ã— â• = <strong>POSITIVO</strong> &nbsp;Â·&nbsp; â• Ã· â• = <strong>POSITIVO</strong></p>
        <p style="color:var(--green)">â– Ã— â– = <strong>POSITIVO</strong> &nbsp;Â·&nbsp; â– Ã· â– = <strong>POSITIVO</strong></p>
      </div>
      <div style="background:var(--red-light,#fff0f0);border-radius:12px;padding:10px 14px;margin-bottom:4px">
        <p style="color:var(--red)">â• Ã— â– = <strong>NEGATIVO</strong> &nbsp;Â·&nbsp; â• Ã· â– = <strong>NEGATIVO</strong></p>
        <p style="color:var(--red)">â– Ã— â• = <strong>NEGATIVO</strong> &nbsp;Â·&nbsp; â– Ã· â• = <strong>NEGATIVO</strong></p>
      </div>
      <p style="font-size:13px;color:var(--text-light);margin-bottom:16px">Segni <strong>uguali</strong> â†’ <strong style="color:var(--green)">+</strong> &nbsp;|&nbsp; Segni <strong>diversi</strong> â†’ <strong style="color:var(--red)">âˆ’</strong> &nbsp;(vale per Ã— e Ã·)</p>

      <hr style="margin:8px 0;opacity:0.15">

      <p style="font-size:13px;font-weight:800;color:var(--text-light);letter-spacing:0.05em;margin-bottom:4px">â• SOMMA DI NUMERI RELATIVI</p>
      <div style="background:var(--blue-light);border-radius:12px;padding:10px 14px;margin-bottom:8px">
        <p style="font-size:14px">Stessi segni â†’ <strong>somma</strong> i valori assoluti, mantieni il segno</p>
        <p style="font-size:13px;color:var(--text-light)">(+3)+(+5) = +8 &nbsp;Â·&nbsp; (âˆ’4)+(âˆ’2) = âˆ’6</p>
      </div>
      <div style="background:var(--yellow-light);border-radius:12px;padding:10px 14px">
        <p style="font-size:14px">Segni diversi â†’ <strong>sottrai</strong> il minore dal maggiore, prendi il segno del piÃ¹ grande (in valore assoluto)</p>
        <p style="font-size:13px;color:var(--text-light)">(+7)+(âˆ’3) = +4 &nbsp;Â·&nbsp; (âˆ’8)+(+2) = âˆ’6</p>
      </div>

    </div>
    <button class="modal-close" onclick="closeModal('mReg')">âœ“ Chiudi</button>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA & STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const state = {
  points: 0,
  sound: false,
  topic: null,
  quizIdx: 0,
  quizAnswered: false,
  quizOrder: {},
  progress: { numeri:{done:0,correct:0}, frazioni:{done:0,correct:0}, geometria:{done:0,correct:0}, pitagora:{done:0,correct:0}, algebra:{done:0,correct:0}, statistica:{done:0,correct:0}, radicali:{done:0,correct:0} }
};
let installPrompt = null;
const SESSION_SIZE = 20; // Esercizi per sessione (pescati dai 100 disponibili)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// QUIZ DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const QUIZZES = {

numeri: [
  { q:'Quale numero Ã¨ piÃ¹ grande?', opts:['âˆ’3','0','+2','âˆ’10'], ans:'+2', hint:'Sulla retta, piÃ¹ stai a destra = piÃ¹ grande.' },
  { q:'Ordina dal piÃ¹ piccolo: +2, âˆ’5, 0, âˆ’1', opts:['âˆ’5 < âˆ’1 < 0 < +2','0 < âˆ’1 < âˆ’5 < +2','âˆ’1 < âˆ’5 < 0 < +2','+2 < 0 < âˆ’1 < âˆ’5'], ans:'âˆ’5 < âˆ’1 < 0 < +2', hint:'I negativi piÃ¹ lontani da zero sono i piÃ¹ piccoli.' },
  { q:'Quanto fa (+5) + (âˆ’3)?', opts:['8','2','âˆ’2','+15'], ans:'2', hint:'Parti da +5, fai 3 passi a sinistra sulla retta.' },
  { q:'Quanto fa (âˆ’4) + (âˆ’2)?', opts:['âˆ’6','6','âˆ’2','2'], ans:'âˆ’6', hint:'Due negativi si sommano: 4+2=6, poi metti il segno âˆ’.' },
  { q:'Quanto fa (âˆ’4) Ã— (âˆ’2)?', opts:['âˆ’8','8','âˆ’6','6'], ans:'8', hint:'Segni uguali â†’ risultato positivo. 4Ã—2=8.' },
  { q:'Quanto fa (+6) Ã— (âˆ’3)?', opts:['âˆ’18','18','âˆ’9','9'], ans:'âˆ’18', hint:'Segni diversi â†’ risultato negativo. 6Ã—3=18.' },
  { q:'Quanto fa (âˆ’12) Ã· (+4)?', opts:['âˆ’3','3','âˆ’8','8'], ans:'âˆ’3', hint:'Segni diversi â†’ negativo. 12Ã·4=3.' },
  { q:'Quale affermazione Ã¨ VERA?', opts:['âˆ’7 > âˆ’3','âˆ’1 < 0','0 < âˆ’5','+2 < âˆ’4'], ans:'âˆ’1 < 0', hint:'Zero Ã¨ piÃ¹ grande di qualsiasi numero negativo.' },
  { q:'Quanto fa (+3) âˆ’ (âˆ’5)?', opts:['âˆ’2','2','8','âˆ’8'], ans:'8', hint:'Sottrarre un negativo = sommare il positivo: 3+5=8.' },
  { q:'La temperatura era âˆ’3Â°C e Ã¨ scesa di 4Â°C. Ora Ã¨:', opts:['âˆ’7Â°C','+1Â°C','âˆ’1Â°C','+7Â°C'], ans:'âˆ’7Â°C', hint:'âˆ’3 + (âˆ’4) = âˆ’7. Scendere = sommare un negativo.' },
  { q:'Quanto fa (+5) Ã— (+5) + (âˆ’5)?', opts:['25+5=20','30','âˆ’20','0'], ans:'25+5=20', hint:'Prima Ã—: 5Ã—5=25. Poi +: 25+(âˆ’5)=20.' },
  { q:'Quanto fa (âˆ’2)â¶?', opts:['âˆ’64','64','âˆ’12','12'], ans:'64', hint:'Esponente pari â†’ positivo. 2â¶=64.' },
  { q:'Quanto fa (âˆ’10) Ã— (âˆ’10) + (âˆ’10)?', opts:['90','âˆ’90','110','âˆ’110'], ans:'90', hint:'Prima Ã—: (âˆ’10)Ã—(âˆ’10)=100. Poi: 100+(âˆ’10)=90.' },
  { q:'Il prodotto di tre numeri negativi Ã¨:', opts:['positivo','negativo','zero','dipende'], ans:'negativo', hint:'3 negativi: numero dispari â†’ risultato negativo.' },
  { q:'Quanto fa |âˆ’3| Ã— |âˆ’4|?', opts:['12','âˆ’12','7','âˆ’7'], ans:'12', hint:'|âˆ’3|=3, |âˆ’4|=4. 3Ã—4=12.' },
  { q:'Quale numero Ã¨ piÃ¹ piccolo?', opts:['+1','0','âˆ’4','+3'], ans:'âˆ’4', hint:'Sulla retta numerica, piÃ¹ a sinistra = piÃ¹ piccolo.' },
  { q:'Quanto fa (âˆ’2) + (+7)?', opts:['âˆ’9','5','âˆ’5','9'], ans:'5', hint:'Parti da âˆ’2, fai 7 passi a destra: arrivi a 5.' },
  { q:'Quanto fa (+9) + (âˆ’4)?', opts:['5','âˆ’5','13','âˆ’13'], ans:'5', hint:'9 âˆ’ 4 = 5. Il segno del risultato Ã¨ del numero piÃ¹ grande in valore assoluto.' },
  { q:'Quanto fa (âˆ’5) + (âˆ’3)?', opts:['âˆ’8','8','âˆ’2','2'], ans:'âˆ’8', hint:'Due negativi si sommano: 5+3=8, poi il segno âˆ’.' },
  { q:'Quanto fa (+8) âˆ’ (+3)?', opts:['11','5','âˆ’5','âˆ’11'], ans:'5', hint:'Sottrazione semplice tra positivi.' },
  { q:'Quanto fa (âˆ’7) âˆ’ (âˆ’3)?', opts:['âˆ’10','10','âˆ’4','4'], ans:'âˆ’4', hint:'Sottrarre âˆ’3 = sommare +3. Quindi âˆ’7+3=âˆ’4.' },
  { q:'Quanto fa (+4) âˆ’ (+9)?', opts:['13','âˆ’5','5','âˆ’13'], ans:'âˆ’5', hint:'4 meno 9: non bastano, risultato negativo. 4âˆ’9=âˆ’5.' },
  { q:'Quanto fa (âˆ’6) âˆ’ (+2)?', opts:['âˆ’8','8','âˆ’4','4'], ans:'âˆ’8', hint:'âˆ’6+(âˆ’2) = âˆ’8. Sottrarre un positivo = sommare un negativo.' },
  { q:'Quanto fa (âˆ’3) Ã— (âˆ’3)?', opts:['âˆ’9','9','6','âˆ’6'], ans:'9', hint:'Segni uguali â†’ risultato positivo. 3Ã—3=9.' },
  { q:'Quanto fa (+5) Ã— (âˆ’4)?', opts:['20','âˆ’20','9','âˆ’9'], ans:'âˆ’20', hint:'Segni diversi â†’ risultato negativo. 5Ã—4=20.' },
  { q:'Quanto fa (âˆ’7) Ã— (+3)?', opts:['21','âˆ’21','4','âˆ’4'], ans:'âˆ’21', hint:'Segni diversi â†’ negativo. 7Ã—3=21.' },
  { q:'Quanto fa (âˆ’2) Ã— (âˆ’9)?', opts:['âˆ’18','18','âˆ’11','11'], ans:'18', hint:'Segni uguali â†’ positivo. 2Ã—9=18.' },
  { q:'Quanto fa (+15) Ã· (âˆ’3)?', opts:['5','âˆ’5','12','âˆ’12'], ans:'âˆ’5', hint:'Segni diversi â†’ negativo. 15Ã·3=5.' },
  { q:'Quanto fa (âˆ’20) Ã· (âˆ’4)?', opts:['5','âˆ’5','16','âˆ’16'], ans:'5', hint:'Segni uguali â†’ positivo. 20Ã·4=5.' },
  { q:'Quanto fa (âˆ’9) Ã· (+3)?', opts:['3','âˆ’3','6','âˆ’6'], ans:'âˆ’3', hint:'Segni diversi â†’ negativo. 9Ã·3=3.' },
  { q:'Quanto fa (+24) Ã· (âˆ’6)?', opts:['âˆ’4','4','18','âˆ’18'], ans:'âˆ’4', hint:'Segni diversi â†’ negativo. 24Ã·6=4.' },
  { q:'Il valore assoluto di âˆ’8 Ã¨:', opts:['âˆ’8','0','8','âˆ’1/8'], ans:'8', hint:'Il valore assoluto Ã¨ sempre la distanza da zero, quindi sempre positivo.' },
  { q:'Il valore assoluto di +6 Ã¨:', opts:['6','âˆ’6','36','1/6'], ans:'6', hint:'|+6| = 6. Il valore assoluto di un positivo Ã¨ il numero stesso.' },
  { q:'Quale affermazione Ã¨ VERA?', opts:['âˆ’8 > âˆ’2','âˆ’3 > 0','âˆ’1 > âˆ’5','+1 < âˆ’1'], ans:'âˆ’1 > âˆ’5', hint:'Sulla retta, âˆ’1 Ã¨ piÃ¹ a destra di âˆ’5, quindi Ã¨ maggiore.' },
  { q:'Quale affermazione Ã¨ FALSA?', opts:['âˆ’2 < 0','âˆ’5 < âˆ’3','0 > âˆ’1','âˆ’4 > âˆ’2'], ans:'âˆ’4 > âˆ’2', hint:'âˆ’4 Ã¨ piÃ¹ piccolo di âˆ’2, non piÃ¹ grande.' },
  { q:'âˆ’3 + (+3) = ?', opts:['0','6','âˆ’6','9'], ans:'0', hint:'Un numero e il suo opposto si annullano sempre.' },
  { q:'L\'opposto di âˆ’7 Ã¨:', opts:['âˆ’7','7','1/7','0'], ans:'7', hint:'L\'opposto si ottiene cambiando il segno.' },
  { q:'Quanto fa (âˆ’1) Ã— (âˆ’1) Ã— (âˆ’1)?', opts:['1','âˆ’1','3','âˆ’3'], ans:'âˆ’1', hint:'(âˆ’1)Ã—(âˆ’1)=1, poi 1Ã—(âˆ’1)=âˆ’1. Tre negativi â†’ negativo.' },
  { q:'Se ho un debito di â‚¬5 e guadagno â‚¬12, ho:', opts:['â‚¬17','âˆ’â‚¬17','â‚¬7','âˆ’â‚¬7'], ans:'â‚¬7', hint:'âˆ’5 + 12 = +7. Ho 7 euro di saldo positivo.' },
  { q:'Un sottomarino Ã¨ a âˆ’30 m e scende di altri 15 m. Si trova a:', opts:['âˆ’15 m','âˆ’45 m','45 m','15 m'], ans:'âˆ’45 m', hint:'âˆ’30 + (âˆ’15) = âˆ’45. Scendere = aggiungere un negativo.' },
  { q:'Un sottomarino Ã¨ a âˆ’50 m e sale di 20 m. Si trova a:', opts:['âˆ’70 m','70 m','âˆ’30 m','30 m'], ans:'âˆ’30 m', hint:'âˆ’50 + 20 = âˆ’30. Salire = aggiungere un positivo.' },
  { q:'La temperatura Ã¨ âˆ’8Â°C e sale di 11Â°C. Diventa:', opts:['âˆ’19Â°C','19Â°C','âˆ’3Â°C','3Â°C'], ans:'3Â°C', hint:'âˆ’8 + 11 = +3.' },
  { q:'La temperatura Ã¨ +2Â°C e scende di 7Â°C. Diventa:', opts:['9Â°C','âˆ’9Â°C','âˆ’5Â°C','5Â°C'], ans:'âˆ’5Â°C', hint:'+2 + (âˆ’7) = âˆ’5.' },
  { q:'Quanto fa (âˆ’4) + (+4) + (âˆ’4)?', opts:['âˆ’4','4','0','12'], ans:'âˆ’4', hint:'(âˆ’4+4)=0, poi 0+(âˆ’4)=âˆ’4.' },
  { q:'Quanto fa (+2) Ã— (âˆ’3) Ã— (+4)?', opts:['24','âˆ’24','9','âˆ’9'], ans:'âˆ’24', hint:'2Ã—3=6, poi 6Ã—4=24. Segni: +Ã—âˆ’=âˆ’, poi âˆ’Ã—+=âˆ’. Risultato: âˆ’24.' },
  { q:'Quale operazione dÃ  risultato positivo?', opts:['(âˆ’3)Ã—(+2)','(+4)Ã—(âˆ’1)','(âˆ’5)Ã—(âˆ’2)','(+3)Ã—(âˆ’3)'], ans:'(âˆ’5)Ã—(âˆ’2)', hint:'Solo segni uguali danno positivo: (âˆ’)Ã—(âˆ’)=+.' },
  { q:'Quale operazione dÃ  risultato negativo?', opts:['(âˆ’4)Ã—(âˆ’4)','(+3)Ã—(+2)','(+6)Ã·(âˆ’2)','(âˆ’8)Ã·(âˆ’8)'], ans:'(+6)Ã·(âˆ’2)', hint:'Segni diversi â†’ negativo.' },
  { q:'Qual Ã¨ il numero opposto di +15?', opts:['+15','âˆ’15','1/15','15'], ans:'âˆ’15', hint:'L\'opposto si ottiene cambiando il segno.' },
  { q:'(âˆ’1)â´ Ã¨ uguale a:', opts:['âˆ’1','1','âˆ’4','4'], ans:'1', hint:'(âˆ’1)â´ = (âˆ’1)Ã—(âˆ’1)Ã—(âˆ’1)Ã—(âˆ’1) = 1Ã—1 = 1. Esponente pari â†’ positivo.' },
  { q:'(âˆ’1)âµ Ã¨ uguale a:', opts:['âˆ’1','1','5','âˆ’5'], ans:'âˆ’1', hint:'Esponente dispari â†’ negativo. (âˆ’1)âµ = âˆ’1.' },
  { q:'Quanto fa (+6) âˆ’ (âˆ’6)?', opts:['0','12','âˆ’12','6'], ans:'12', hint:'Sottrarre âˆ’6 = sommare +6. Quindi 6+6=12.' },
  { q:'Quanto fa (âˆ’5) âˆ’ (âˆ’5)?', opts:['0','10','âˆ’10','25'], ans:'0', hint:'âˆ’5 âˆ’ (âˆ’5) = âˆ’5 + 5 = 0.' },
  { q:'In una gara un pilota guadagna 3 posizioni (+3) poi ne perde 7 (âˆ’7). Saldo:', opts:['10','âˆ’10','4','âˆ’4'], ans:'âˆ’4', hint:'+3 + (âˆ’7) = âˆ’4. Ha perso 4 posizioni in totale.' },
  { q:'Se x = âˆ’4, quanto vale âˆ’x?', opts:['âˆ’4','4','16','âˆ’16'], ans:'4', hint:'L\'opposto di âˆ’4 Ã¨ +4. âˆ’(âˆ’4) = +4.' },
  { q:'Metti in ordine crescente: âˆ’2, +5, âˆ’7, 0', opts:['âˆ’7 < âˆ’2 < 0 < +5','+5 < 0 < âˆ’2 < âˆ’7','0 < âˆ’2 < âˆ’7 < +5','âˆ’2 < âˆ’7 < 0 < +5'], ans:'âˆ’7 < âˆ’2 < 0 < +5', hint:'Sulla retta numerica, da sinistra a destra.' },
  { q:'Quanto fa (âˆ’100) Ã· (+10)?', opts:['10','âˆ’10','90','âˆ’90'], ans:'âˆ’10', hint:'Segni diversi â†’ negativo. 100Ã·10=10.' },
  { q:'Quanto fa (+3) Ã— (+3) Ã— (âˆ’1)?', opts:['9','âˆ’9','27','âˆ’27'], ans:'âˆ’9', hint:'3Ã—3=9, poi 9Ã—(âˆ’1)=âˆ’9.' },
  { q:'Qual Ã¨ il contrario (opposto) dell\'opposto di +8?', opts:['âˆ’8','0','8','1/8'], ans:'8', hint:'Opposto di +8 Ã¨ âˆ’8. Opposto di âˆ’8 Ã¨ +8. Si torna al numero originale.' },
  { q:'Quanto fa (âˆ’3) + (+5) + (âˆ’2) + (+4)?', opts:['4','âˆ’4','0','14'], ans:'4', hint:'Raggruppa positivi (+5+4=9) e negativi (âˆ’3âˆ’2=âˆ’5). 9âˆ’5=4.' },
  { q:'Quanto fa (âˆ’6) Ã— (+2) Ã— (âˆ’1)?', opts:['12','âˆ’12','9','âˆ’9'], ans:'12', hint:'(âˆ’6)Ã—(+2)=âˆ’12, poi (âˆ’12)Ã—(âˆ’1)=+12.' },
  { q:'Se la temperatura era âˆ’2Â°C ieri e +4Â°C oggi, la variazione Ã¨ di:', opts:['+2Â°C','+6Â°C','âˆ’6Â°C','âˆ’2Â°C'], ans:'+6Â°C', hint:'+4 âˆ’ (âˆ’2) = +4+2 = +6. Ãˆ salita di 6 gradi.' },
  { q:'Quanto vale |âˆ’12| âˆ’ |+5|?', opts:['17','7','âˆ’7','+17'], ans:'7', hint:'|âˆ’12|=12, |+5|=5. 12âˆ’5=7.' },
  { q:'Quanto fa (âˆ’3)Â²?', opts:['âˆ’9','9','6','âˆ’6'], ans:'9', hint:'(âˆ’3)Â² = (âˆ’3)Ã—(âˆ’3) = +9. Esponente pari â†’ positivo.' },
  { q:'Quanto fa âˆ’3Â²?', opts:['9','âˆ’9','6','âˆ’6'], ans:'âˆ’9', hint:'Attenzione: âˆ’3Â² significa âˆ’(3Â²) = âˆ’9. Diverso da (âˆ’3)Â²!' },
  { q:'Due numeri la cui somma Ã¨ 0 si chiamano:', opts:['opposti','inversi','uguali','complementari'], ans:'opposti', hint:'+5 e âˆ’5 sono opposti: la loro somma fa 0.' },
  { q:'Un conto bancario ha âˆ’â‚¬80. Viene versato +â‚¬50. Il saldo diventa:', opts:['âˆ’â‚¬130','â‚¬130','âˆ’â‚¬30','â‚¬30'], ans:'âˆ’â‚¬30', hint:'âˆ’80 + 50 = âˆ’30. Il conto Ã¨ ancora in rosso.' },
  { q:'Quanto fa (+7) + (âˆ’3) + (âˆ’7) + (+3)?', opts:['20','0','4','âˆ’4'], ans:'0', hint:'Si annullano a coppie: (+7)+(âˆ’7)=0, (âˆ’3)+(+3)=0.' },
  { q:'Se x = âˆ’3, quanto vale xÂ²?', opts:['âˆ’9','9','6','âˆ’6'], ans:'9', hint:'(âˆ’3)Â² = 9. Il quadrato Ã¨ sempre positivo (o zero).' },
  { q:'Quanto fa (âˆ’8) + (+5) + (âˆ’2)?', opts:['âˆ’5','5','âˆ’15','15'], ans:'âˆ’5', hint:'Positivi: +5. Negativi: âˆ’8âˆ’2=âˆ’10. Totale: âˆ’10+5=âˆ’5.' },
  { q:'Quanto fa (+4) Ã— (âˆ’2) Ã— (âˆ’3)?', opts:['24','âˆ’24','9','âˆ’9'], ans:'24', hint:'4Ã—2=8, poi Ã—3=24. Segni: +Ã—âˆ’=âˆ’, poi âˆ’Ã—âˆ’=+. Risultato: +24.' },
  { q:'Tra âˆ’1/2 e âˆ’3, quale Ã¨ piÃ¹ grande?', opts:['âˆ’3','Sono uguali','âˆ’1/2','Non si puÃ² dire'], ans:'âˆ’1/2', hint:'âˆ’1/2 = âˆ’0,5 Ã¨ piÃ¹ vicino allo zero, quindi piÃ¹ grande di âˆ’3.' },
  { q:'Quanto fa (âˆ’36) Ã· (âˆ’6) + (âˆ’2)?', opts:['4','âˆ’4','8','âˆ’8'], ans:'4', hint:'(âˆ’36)Ã·(âˆ’6)=+6, poi 6+(âˆ’2)=4.' },
  { q:'Quanto fa (+10) âˆ’ (+15) + (+3)?', opts:['âˆ’2','2','28','âˆ’28'], ans:'âˆ’2', hint:'10âˆ’15=âˆ’5, poi âˆ’5+3=âˆ’2.' },
  { q:'Quando il prodotto di due numeri Ã¨ negativo?', opts:['mai','sempre','quando hanno lo stesso segno','quando hanno segni diversi'], ans:'quando hanno segni diversi', hint:'+Ã—âˆ’=âˆ’ e âˆ’Ã—+=âˆ’. Segni diversi â†’ prodotto negativo.' },
  { q:'Quanto fa (âˆ’4) Ã· (+2) âˆ’ (âˆ’3)?', opts:['âˆ’5','5','1','âˆ’1'], ans:'1', hint:'(âˆ’4)Ã·(+2)=âˆ’2, poi âˆ’2âˆ’(âˆ’3)=âˆ’2+3=1.' },
  { q:'Il valore assoluto di 0 Ã¨:', opts:['1','âˆ’1','0','Indefinito'], ans:'0', hint:'|0|=0. Zero Ã¨ a distanza 0 da se stesso.' },
  { q:'Quanto fa (+3) âˆ’ (+3) âˆ’ (âˆ’3)?', opts:['0','3','âˆ’3','9'], ans:'3', hint:'3âˆ’3=0, poi 0âˆ’(âˆ’3)=0+3=3.' },
  { q:'Quanto fa (âˆ’5) Ã— (+0)?', opts:['âˆ’5','5','0','Impossibile'], ans:'0', hint:'Qualsiasi numero moltiplicato per zero fa zero.' },
  { q:'Marco deve â‚¬15 a Luca e â‚¬8 a Sara. Il suo saldo complessivo Ã¨:', opts:['â‚¬23','+â‚¬23','âˆ’â‚¬23','âˆ’â‚¬7'], ans:'âˆ’â‚¬23', hint:'Due debiti: (âˆ’15) + (âˆ’8) = âˆ’23.' },
  { q:'Quanto fa (âˆ’1) Ã— (âˆ’2) Ã— (âˆ’3) Ã— (âˆ’4)?', opts:['24','âˆ’24','10','âˆ’10'], ans:'24', hint:'4 fattori negativi: numero pari di negativi â†’ risultato positivo. 1Ã—2Ã—3Ã—4=24.' },
  { q:'Quanto fa |âˆ’9| + |âˆ’4|?', opts:['âˆ’13','13','5','âˆ’5'], ans:'13', hint:'|âˆ’9|=9, |âˆ’4|=4. 9+4=13.' },
  { q:'Se scendo di 6 piani da piano âˆ’1, mi trovo al piano:', opts:['5','âˆ’5','7','âˆ’7'], ans:'âˆ’7', hint:'âˆ’1 + (âˆ’6) = âˆ’7. Piano interrato 7.' },
  { q:'Quanto fa (âˆ’3) Ã— (+4) + (+2)?', opts:['âˆ’10','10','âˆ’14','14'], ans:'âˆ’10', hint:'Prima Ã—: âˆ’3Ã—4=âˆ’12. Poi +: âˆ’12+2=âˆ’10.' },
  { q:'Quanto fa (+5) + (âˆ’8) Ã— (âˆ’2)?', opts:['âˆ’6','21','5','16'], ans:'21', hint:'Prima Ã—: (âˆ’8)Ã—(âˆ’2)=+16. Poi +: 5+16=21.' },
  { q:'Quanto fa (âˆ’6) Ã— (âˆ’2) Ã· (+3)?', opts:['4','âˆ’4','36','âˆ’36'], ans:'4', hint:'(âˆ’6)Ã—(âˆ’2)=12. Poi 12Ã·3=4.' },
  { q:'Qual Ã¨ il piÃ¹ grande tra: âˆ’0,1 e âˆ’1?', opts:['âˆ’1','âˆ’0,1','Sono uguali','Non si puÃ² dire'], ans:'âˆ’0,1', hint:'âˆ’0,1 Ã¨ piÃ¹ vicino allo zero, quindi piÃ¹ grande di âˆ’1.' },
  { q:'Quanto fa (âˆ’2)Â³?', opts:['8','âˆ’8','6','âˆ’6'], ans:'âˆ’8', hint:'(âˆ’2)Â³=(âˆ’2)Ã—(âˆ’2)Ã—(âˆ’2)=4Ã—(âˆ’2)=âˆ’8. Esponente dispari â†’ negativo.' },
  { q:'Quanto fa (âˆ’2)â´?', opts:['8','âˆ’8','16','âˆ’16'], ans:'16', hint:'(âˆ’2)â´=(âˆ’2)Ã—(âˆ’2)Ã—(âˆ’2)Ã—(âˆ’2)=4Ã—4=16. Esponente pari â†’ positivo.' },
  { q:'Quanto fa (+3) Ã— [(âˆ’2) + (+5)]?', opts:['9','âˆ’9','âˆ’21','21'], ans:'9', hint:'Prima parentesi: âˆ’2+5=3. Poi 3Ã—3=9.' },
  { q:'Quanto fa (âˆ’4) Ã— [(+3) âˆ’ (+5)]?', opts:['âˆ’8','8','âˆ’32','32'], ans:'8', hint:'Prima parentesi: 3âˆ’5=âˆ’2. Poi (âˆ’4)Ã—(âˆ’2)=+8.' },
  { q:'Se ho +â‚¬20 e spendo â‚¬35, il mio saldo Ã¨:', opts:['â‚¬15','âˆ’â‚¬15','â‚¬55','âˆ’â‚¬55'], ans:'âˆ’â‚¬15', hint:'+20 + (âˆ’35) = âˆ’15. Sono in rosso di 15 euro.' },
  { q:'Quanto fa (âˆ’3) + (âˆ’3) + (âˆ’3) + (âˆ’3)?', opts:['âˆ’9','âˆ’12','12','9'], ans:'âˆ’12', hint:'Quattro volte âˆ’3: Ã¨ come (âˆ’3)Ã—4 = âˆ’12.' },
  { q:'Quanto fa (+2) Ã— (âˆ’3) + (+4) Ã— (+2)?', opts:['2','âˆ’2','10','âˆ’10'], ans:'2', hint:'2Ã—(âˆ’3)=âˆ’6, 4Ã—2=8. Poi âˆ’6+8=2.' },
  { q:'Quanto fa (âˆ’10) Ã· (+2) + (âˆ’10) Ã· (âˆ’5)?', opts:['âˆ’3','3','0','âˆ’7'], ans:'âˆ’3', hint:'(âˆ’10)Ã·2=âˆ’5, (âˆ’10)Ã·(âˆ’5)=+2. Poi âˆ’5+2=âˆ’3.' },
  { q:'Qual Ã¨ la regola per la somma di due numeri con segni diversi?', opts:['Si sommano e si mette il segno +','Si sottraggono e si mette il segno del piÃ¹ grande in v.a.','Si moltiplicano','Si sommano e si mette âˆ’'], ans:'Si sottraggono e si mette il segno del piÃ¹ grande in v.a.', hint:'Es: +7+(âˆ’3): |7|>|3|, si fa 7âˆ’3=4, segno del 7 quindi +4.' },
  { q:'Quanto fa (âˆ’6) + (+9) âˆ’ (âˆ’3)?', opts:['6','âˆ’6','0','12'], ans:'6', hint:'âˆ’6+9=3, poi 3âˆ’(âˆ’3)=3+3=6.' },
  { q:'Quanto fa (+5) Ã— (âˆ’1)Â³?', opts:['5','âˆ’5','15','âˆ’15'], ans:'âˆ’5', hint:'(âˆ’1)Â³=âˆ’1. Poi 5Ã—(âˆ’1)=âˆ’5.' },
  { q:'Quanto fa (âˆ’4) âˆ’ (âˆ’4) + (âˆ’4)?', opts:['âˆ’4','4','0','12'], ans:'âˆ’4', hint:'âˆ’4+(+4)=0, poi 0+(âˆ’4)=âˆ’4.' },
  { q:'La differenza tra +8 e âˆ’2 Ã¨:', opts:['6','10','âˆ’10','âˆ’6'], ans:'10', hint:'+8 âˆ’ (âˆ’2) = 8+2 = 10.' },
  { q:'Quanto fa (âˆ’3) Ã— (âˆ’3) Ã— (âˆ’3)?', opts:['9','âˆ’9','27','âˆ’27'], ans:'âˆ’27', hint:'(âˆ’3)Â³ = âˆ’27. Tre fattori negativi = numero dispari â†’ negativo.' },
],

frazioni: [
  { q:'Qual Ã¨ la forma ridotta di 4/8?', opts:['1/2','2/4','3/6','4/8'], ans:'1/2', hint:'Dividi sia numeratore che denominatore per 4.' },
  { q:'Quale frazione Ã¨ la piÃ¹ grande?', opts:['1/4','1/3','1/5','1/6'], ans:'1/3', hint:'Stesso numeratore: il denominatore piÃ¹ piccolo dÃ  la frazione piÃ¹ grande.' },
  { q:'Quanto fa 1/2 + 1/4?', opts:['2/6','3/4','2/8','1/3'], ans:'3/4', hint:'Riduci allo stesso denominatore: 2/4 + 1/4 = 3/4.' },
  { q:'Quanto fa 3/5 Ã— 2/3?', opts:['6/15','5/8','2/5','3/8'], ans:'2/5', hint:'Moltiplica: (3Ã—2)/(5Ã—3) = 6/15 = 2/5.' },
  { q:'Quanto fa 3/4 âˆ’ 1/2?', opts:['2/2','1/4','1/2','2/4'], ans:'1/4', hint:'1/2 = 2/4. Poi 3/4 âˆ’ 2/4 = 1/4.' },
  { q:'Qual Ã¨ il reciproco di 3/5?', opts:['3/5','5/3','1/5','6/10'], ans:'5/3', hint:'Capovolgi la frazione: numeratore e denominatore si scambiano.' },
  { q:'Quanto fa 2/3 Ã· 4/9?', opts:['8/27','3/2','1/2','9/6'], ans:'3/2', hint:'Dividi = moltiplica per il reciproco: 2/3 Ã— 9/4 = 18/12 = 3/2.' },
  { q:'Quale frazione Ã¨ equivalente a 6/9?', opts:['3/4','2/3','1/3','4/6'], ans:'2/3', hint:'Semplifica dividendo per 3: 6Ã·3=2, 9Ã·3=3.' },
  { q:'Un quarto di 20 Ã¨:', opts:['10','4','5','8'], ans:'5', hint:'1/4 Ã— 20 = 20Ã·4 = 5.' },
  { q:'Tre ottavi (3/8) scritti come percentuale Ã¨ circa:', opts:['37,5%','38%','30%','25%'], ans:'37,5%', hint:'3Ã·8 = 0,375 â†’ moltiplica per 100.' },
  { q:'Quanto fa 1/3 + 1/6 + 1/2?', opts:['1','11/12','5/6','7/6'], ans:'1', hint:'MCM=6: 2/6+1/6+3/6=6/6=1.' },
  { q:'Quanto vale 3/4 âˆ’ 1/8 + 1/2?', opts:['9/8','5/8','7/8','1'], ans:'9/8', hint:'MCM=8: 6/8âˆ’1/8+4/8=9/8.' },
  { q:'Se 1/3 di un numero Ã¨ 12, il numero Ã¨:', opts:['4','36','9','24'], ans:'36', hint:'x/3=12 â†’ x=36.' },
  { q:'Qual Ã¨ la forma ridotta di 6/9?', opts:['2/3','3/4','1/3','4/6'], ans:'2/3', hint:'MCD(6,9)=3. Dividi entrambi per 3: 6Ã·3=2, 9Ã·3=3.' },
  { q:'Qual Ã¨ la forma ridotta di 8/12?', opts:['4/6','2/3','3/4','1/2'], ans:'2/3', hint:'MCD(8,12)=4. 8Ã·4=2, 12Ã·4=3.' },
  { q:'Qual Ã¨ la forma ridotta di 15/20?', opts:['3/4','4/5','1/4','5/7'], ans:'3/4', hint:'MCD(15,20)=5. 15Ã·5=3, 20Ã·5=4.' },
  { q:'Quale frazione Ã¨ equivalente a 2/5?', opts:['4/10','3/5','2/4','6/25'], ans:'4/10', hint:'2/5 = 4/10 (moltiplico numeratore e denominatore per 2).' },
  { q:'Quale frazione Ã¨ equivalente a 3/4?', opts:['6/10','9/12','6/8 e 9/12','3/8'], ans:'6/8 e 9/12', hint:'3/4 = 6/8 = 9/12. Si moltiplicano entrambi i termini per lo stesso numero.' },
  { q:'Quanto fa 1/3 + 1/3?', opts:['2/6','2/3','1/6','2/9'], ans:'2/3', hint:'Stesso denominatore: somma i numeratori. 1+1=2, denominatore resta 3.' },
  { q:'Quanto fa 2/7 + 3/7?', opts:['5/14','5/7','6/49','1'], ans:'5/7', hint:'Stesso denominatore: 2+3=5, denominatore resta 7.' },
  { q:'Quanto fa 5/6 âˆ’ 1/6?', opts:['4/0','4/12','4/6 = 2/3','5/6'], ans:'4/6 = 2/3', hint:'5âˆ’1=4, denominatore resta 6. Poi 4/6=2/3.' },
  { q:'Quanto fa 1/2 + 1/3?', opts:['2/5','5/6','2/6','3/6'], ans:'5/6', hint:'MCM(2,3)=6. 1/2=3/6, 1/3=2/6. Somma: 3/6+2/6=5/6.' },
  { q:'Quanto fa 3/4 + 1/6?', opts:['4/10','11/12','4/24','7/12'], ans:'11/12', hint:'MCM(4,6)=12. 3/4=9/12, 1/6=2/12. Somma: 9/12+2/12=11/12.' },
  { q:'Quanto fa 5/6 âˆ’ 1/4?', opts:['4/2','7/12','4/6','11/12'], ans:'7/12', hint:'MCM(6,4)=12. 5/6=10/12, 1/4=3/12. 10/12âˆ’3/12=7/12.' },
  { q:'Quanto fa 2/3 âˆ’ 1/4?', opts:['1/12','5/12','1/7','6/12'], ans:'5/12', hint:'MCM(3,4)=12. 2/3=8/12, 1/4=3/12. 8/12âˆ’3/12=5/12.' },
  { q:'Quanto fa 3/5 + 1/10?', opts:['4/15','7/10','4/50','1/2'], ans:'7/10', hint:'MCM(5,10)=10. 3/5=6/10. 6/10+1/10=7/10.' },
  { q:'Quanto fa 4/5 âˆ’ 1/2?', opts:['3/3','3/10','3/7','8/10'], ans:'3/10', hint:'MCM(5,2)=10. 4/5=8/10, 1/2=5/10. 8/10âˆ’5/10=3/10.' },
  { q:'Quanto fa 1/2 Ã— 1/2?', opts:['1','1/4','1/2','2/4'], ans:'1/4', hint:'Numeratori: 1Ã—1=1. Denominatori: 2Ã—2=4. Risultato: 1/4.' },
  { q:'Quanto fa 2/3 Ã— 3/4?', opts:['5/7','1/2','6/12','2/4'], ans:'1/2', hint:'(2Ã—3)/(3Ã—4) = 6/12 = 1/2.' },
  { q:'Quanto fa 3/5 Ã— 5/9?', opts:['8/14','15/45','1/3','3/45'], ans:'1/3', hint:'(3Ã—5)/(5Ã—9) = 15/45 = 1/3.' },
  { q:'Quanto fa 4/7 Ã— 7/8?', opts:['11/15','28/56','1/2','4/8'], ans:'1/2', hint:'(4Ã—7)/(7Ã—8) = 28/56 = 1/2.' },
  { q:'Quanto fa 1/3 Ã· 1/3?', opts:['1/9','1','2/3','2'], ans:'1', hint:'1/3 Ã— 3/1 = 3/3 = 1. Un numero diviso se stesso fa 1.' },
  { q:'Quanto fa 2/3 Ã· 1/6?', opts:['2/18','4','1/4','12'], ans:'4', hint:'2/3 Ã— 6/1 = 12/3 = 4.' },
  { q:'Quanto fa 3/4 Ã· 3/8?', opts:['9/32','2','1/2','24/12'], ans:'2', hint:'3/4 Ã— 8/3 = 24/12 = 2.' },
  { q:'Quanto fa 5/6 Ã· 5/12?', opts:['25/72','2','1/2','10/6'], ans:'2', hint:'5/6 Ã— 12/5 = 60/30 = 2.' },
  { q:'Quanto fa 1/4 Ã· 1/2?', opts:['1/8','1/2','2','1/4'], ans:'1/2', hint:'1/4 Ã— 2/1 = 2/4 = 1/2.' },
  { q:'Quale frazione Ã¨ maggiore: 2/3 o 3/4?', opts:['2/3','3/4','Sono uguali','Non si puÃ² dire'], ans:'3/4', hint:'MCM: 2/3=8/12, 3/4=9/12. 9/12 > 8/12.' },
  { q:'Quale frazione Ã¨ maggiore: 3/5 o 5/8?', opts:['3/5','5/8','Sono uguali','Non si puÃ² dire'], ans:'5/8', hint:'MCM(5,8)=40. 3/5=24/40, 5/8=25/40. 25>24.' },
  { q:'Quale frazione Ã¨ minore: 1/4 o 1/3?', opts:['1/3','1/4','Sono uguali','Dipende dal contesto'], ans:'1/4', hint:'Stesso numeratore: denominatore piÃ¹ grande â†’ frazione piÃ¹ piccola.' },
  { q:'Mezza pizza divisa in 3 parti uguali: ogni parte Ã¨:', opts:['1/5','1/6','3/2','2/3'], ans:'1/6', hint:'1/2 Ã· 3 = 1/2 Ã— 1/3 = 1/6.' },
  { q:'Qual Ã¨ il reciproco di 2/7?', opts:['2/7','7/2','1/7','14'], ans:'7/2', hint:'Il reciproco si ottiene capovolgendo la frazione.' },
  { q:'Qual Ã¨ il reciproco di 5?', opts:['5','1/5','25','âˆ’5'], ans:'1/5', hint:'5 = 5/1. Il reciproco Ã¨ 1/5.' },
  { q:'3/4 di 40 Ã¨ uguale a:', opts:['10','30','13','43'], ans:'30', hint:'3/4 Ã— 40 = 3Ã—10 = 30.' },
  { q:'2/5 di 35 Ã¨ uguale a:', opts:['7','14','17','70'], ans:'14', hint:'2/5 Ã— 35 = 2Ã—7 = 14.' },
  { q:'1/8 di 64 Ã¨ uguale a:', opts:['8','16','72','56'], ans:'8', hint:'64Ã·8 = 8.' },
  { q:'3/8 di 24 Ã¨ uguale a:', opts:['3','9','8','6'], ans:'9', hint:'24Ã·8=3, poi 3Ã—3=9.' },
  { q:'5/6 di 18 Ã¨ uguale a:', opts:['3','15','23','10'], ans:'15', hint:'18Ã·6=3, poi 3Ã—5=15.' },
  { q:'Una scatola contiene 24 cioccolatini. Ne mangio 1/4. Quanti ne restano?', opts:['6','18','12','8'], ans:'18', hint:'Ne mangio 24Ã—1/4=6. Restano 24âˆ’6=18.' },
  { q:'Scrivi 0,25 come frazione ridotta:', opts:['25/100','1/4','2/5','1/5'], ans:'1/4', hint:'0,25 = 25/100 = 1/4.' },
  { q:'Scrivi 0,5 come frazione ridotta:', opts:['5/10','1/2','5/1','50/100'], ans:'1/2', hint:'0,5 = 5/10 = 1/2.' },
  { q:'Scrivi 0,75 come frazione ridotta:', opts:['75/10','3/4','7/5','15/20'], ans:'3/4', hint:'0,75 = 75/100 = 3/4.' },
  { q:'Scrivi 0,4 come frazione ridotta:', opts:['4/10 = 2/5','4/100','2/4','1/4'], ans:'4/10 = 2/5', hint:'0,4 = 4/10 = 2/5.' },
  { q:'1/2 scritto come percentuale Ã¨:', opts:['0,5%','5%','20%','50%'], ans:'50%', hint:'1Ã·2 = 0,5 = 50%.' },
  { q:'1/4 scritto come percentuale Ã¨:', opts:['14%','4%','25%','40%'], ans:'25%', hint:'1Ã·4 = 0,25 = 25%.' },
  { q:'1/5 scritto come percentuale Ã¨:', opts:['15%','5%','20%','50%'], ans:'20%', hint:'1Ã·5 = 0,2 = 20%.' },
  { q:'3/5 scritto come percentuale Ã¨:', opts:['35%','53%','60%','15%'], ans:'60%', hint:'3Ã·5 = 0,6 = 60%.' },
  { q:'Quale tra queste frazioni Ã¨ propria?', opts:['7/3','5/5','9/4','3/8'], ans:'3/8', hint:'Una frazione propria ha numeratore < denominatore.' },
  { q:'Quale tra queste frazioni Ã¨ impropria?', opts:['1/2','3/5','7/4','2/9'], ans:'7/4', hint:'Una frazione impropria ha numeratore â‰¥ denominatore.' },
  { q:'Converti 7/4 in numero misto:', opts:['1 e 3/4','3 e 1/4','2 e 1/4','4 e 3/7'], ans:'1 e 3/4', hint:'7Ã·4=1 resto 3. Quindi 1 e 3/4.' },
  { q:'Converti 11/3 in numero misto:', opts:['2 e 5/3','3 e 2/3','4 e 1/3','5 e 1/3'], ans:'3 e 2/3', hint:'11Ã·3=3 resto 2. Quindi 3 e 2/3.' },
  { q:'Quanto fa 1/2 + 1/4 + 1/8?', opts:['3/14','7/8','3/8','6/8'], ans:'7/8', hint:'MCM=8. 4/8+2/8+1/8=7/8.' },
  { q:'Quanto fa 1/2 âˆ’ 1/4 + 1/8?', opts:['2/8','3/8','5/8','1/8'], ans:'3/8', hint:'4/8âˆ’2/8+1/8=3/8.' },
  { q:'In una classe di 30 alunni, 2/5 sono femmine. Quante sono?', opts:['10','12','15','6'], ans:'12', hint:'2/5 Ã— 30 = 12.' },
  { q:'Se ho percorso 3/4 di un percorso di 20 km, quanti km restano?', opts:['15 km','5 km','3 km','4 km'], ans:'5 km', hint:'Percorsi: 3/4Ã—20=15 km. Restano: 20âˆ’15=5 km.' },
  { q:'Quanto fa (1/2)Â²?', opts:['1/2','1/4','2','1'], ans:'1/4', hint:'(1/2)Â² = 1/2 Ã— 1/2 = 1/4.' },
  { q:'Quanto fa (2/3)Â²?', opts:['4/3','4/9','2/9','2/6'], ans:'4/9', hint:'(2/3)Â² = 2/3 Ã— 2/3 = 4/9.' },
  { q:'Quale fra queste NON Ã¨ una semplificazione corretta?', opts:['6/8 = 3/4','4/6 = 2/3','9/12 = 3/4','5/8 = 1/2'], ans:'5/8 = 1/2', hint:'5/8 â‰  1/2 (1/2=4/8). Le altre sono corrette.' },
  { q:'Quanto fa 3/4 Ã— 8?', opts:['24','6','3','32/4'], ans:'6', hint:'3/4 Ã— 8 = 3Ã—8/4 = 24/4 = 6.' },
  { q:'Quanto fa 5/6 Ã— 12?', opts:['10','60','5','72/6'], ans:'10', hint:'5/6 Ã— 12 = 5Ã—2 = 10.' },
  { q:'Se un negozio fa 20% di sconto su â‚¬50, quanto si paga?', opts:['â‚¬10','â‚¬40','â‚¬45','â‚¬30'], ans:'â‚¬40', hint:'20% di 50 = 1/5Ã—50=10. Paghi 50âˆ’10=40.' },
  { q:'Quanto fa 2 e 1/2 + 1 e 1/2?', opts:['3','4','3 e 1/4','4 e 1/2'], ans:'4', hint:'2+1=3 per le parti intere. 1/2+1/2=1. Totale: 3+1=4.' },
  { q:'Quanto fa 3 e 1/4 âˆ’ 1 e 3/4?', opts:['2','1 e 1/2','2 e 1/2','1'], ans:'1 e 1/2', hint:'Converti: 13/4 âˆ’ 7/4 = 6/4 = 3/2 = 1 e 1/2.' },
  { q:'Quanto vale x se 3/4 Ã— x = 9?', opts:['12','27/4','6 e 3/4','3'], ans:'12', hint:'x = 9 Ã· 3/4 = 9 Ã— 4/3 = 36/3 = 12.' },
  { q:'Quante volte sta 1/4 in 3?', opts:['3/4','12','4/3','0,75'], ans:'12', hint:'3 Ã· 1/4 = 3 Ã— 4 = 12.' },
  { q:'Quante volte sta 1/3 in 2?', opts:['6','2/3','2 e 1/3','3'], ans:'6', hint:'2 Ã· 1/3 = 2 Ã— 3 = 6.' },
  { q:'Metti in ordine crescente: 1/2, 1/3, 2/3, 1/4', opts:['1/4 < 1/3 < 1/2 < 2/3','1/2 < 1/3 < 2/3 < 1/4','1/3 < 1/4 < 1/2 < 2/3','2/3 < 1/2 < 1/3 < 1/4'], ans:'1/4 < 1/3 < 1/2 < 2/3', hint:'MCM=12: 3/12 < 4/12 < 6/12 < 8/12.' },
  { q:'Quanto fa 1/6 + 1/4 + 1/3?', opts:['3/13','9/12 = 3/4','1/12','7/12'], ans:'9/12 = 3/4', hint:'MCM=12: 2/12+3/12+4/12=9/12=3/4.' },
  { q:'40% di 70 Ã¨ uguale a:', opts:['28','40','14','7'], ans:'28', hint:'40/100 Ã— 70 = 2/5 Ã— 70 = 28.' },
  { q:'75% di 80 Ã¨ uguale a:', opts:['60','75','65','55'], ans:'60', hint:'3/4 Ã— 80 = 60.' },
  { q:'Quanto fa 7/8 âˆ’ 3/8 + 2/8?', opts:['6/8 = 3/4','12/8','4/8 = 1/2','2/8'], ans:'6/8 = 3/4', hint:'7âˆ’3+2=6. Quindi 6/8=3/4.' },
  { q:'Quanto fa 4/5 + 3/10 âˆ’ 1/2?', opts:['6/15','3/5','6/10 = 3/5','1'], ans:'6/10 = 3/5', hint:'MCM=10: 8/10+3/10âˆ’5/10=6/10=3/5.' },
  { q:'Se 2/3 di una classe (30 alunni) Ã¨ presente, quanti mancano?', opts:['10','20','15','12'], ans:'10', hint:'Presenti: 2/3Ã—30=20. Mancano: 30âˆ’20=10.' },
  { q:'Una ricetta usa 3/4 di tazza di zucchero per 12 biscotti. Per 4 biscotti quanto zucchero serve?', opts:['3/16 tazza','1/4 tazza','3/8 tazza','1/2 tazza'], ans:'1/4 tazza', hint:'Per 4 biscotti (1/3 della ricetta): 3/4 Ã— 1/3 = 3/12 = 1/4.' },
  { q:'Quanto fa 5/4 âˆ’ 3/8?', opts:['2/4','7/8','7/4','2/8'], ans:'7/8', hint:'MCM=8: 10/8âˆ’3/8=7/8.' },
  { q:'Quanto fa (3/5) Ã· (9/10)?', opts:['27/50','2/3','6/9','30/45'], ans:'2/3', hint:'3/5 Ã— 10/9 = 30/45 = 2/3.' },
  { q:'Semplifica: 12/18', opts:['6/9','2/3','3/4','4/6'], ans:'2/3', hint:'MCD(12,18)=6. 12Ã·6=2, 18Ã·6=3.' },
  { q:'Quale operazione tra frazioni NON richiede il denominatore comune?', opts:['Addizione','Sottrazione','Moltiplicazione','Confronto'], ans:'Moltiplicazione', hint:'Per moltiplicare basta fare (aÃ—c)/(bÃ—d), senza trovare il denominatore comune.' },
  { q:'Se il 30% di un numero Ã¨ 18, qual Ã¨ il numero?', opts:['5,4','54','60','6'], ans:'60', hint:'30/100 Ã— x = 18 â†’ x = 18 Ã— 100/30 = 60.' },
  { q:'Quanto fa 2/3 + 5/6 âˆ’ 1/2?', opts:['6/11','1','7/6','5/6'], ans:'1', hint:'MCM=6: 4/6+5/6âˆ’3/6=6/6=1.' },
  { q:'Quanto fa (4/5) Ã— (5/4)?', opts:['20/20','9/9','1','16/25'], ans:'1', hint:'(4Ã—5)/(5Ã—4) = 20/20 = 1. Reciproci moltiplicati = 1.' },
  { q:'Quanto fa 3/4 di 3/4?', opts:['6/8','9/16','3/2','6/4'], ans:'9/16', hint:'3/4 Ã— 3/4 = 9/16.' },
  { q:'Se cammino a 4/5 del passo normale e devo fare 5 km, che distanza ho percorso se cammino per 1 ora alla stessa velocitÃ  di sempre?', opts:['4 km','5 km','6 km','4/5 km'], ans:'4 km', hint:'4/5 Ã— 5 km = 4 km.' },
  { q:'Quanto fa 1 âˆ’ 3/8?', opts:['2/8','5/8','3/8','4/8'], ans:'5/8', hint:'1 = 8/8. Quindi 8/8âˆ’3/8=5/8.' },
  { q:'Quanto fa 2 âˆ’ 5/6?', opts:['7/6','3/6','1 e 1/6','2 e 5/6'], ans:'1 e 1/6', hint:'2=12/6. 12/6âˆ’5/6=7/6=1 e 1/6.' },
  { q:'Quanto fa 1/2 Ã— 2/3 Ã— 3/4?', opts:['6/24 = 1/4','1/2','3/8','6/9'], ans:'6/24 = 1/4', hint:'(1Ã—2Ã—3)/(2Ã—3Ã—4)=6/24=1/4.' },
  { q:'Se 3/5 di un viaggio sono giÃ  percorsi e restano 80 km, quanti km Ã¨ il viaggio?', opts:['48 km','200 km','133 km','160 km'], ans:'200 km', hint:'2/5 del viaggio = 80 km. Viaggio totale = 80 Ã— 5/2 = 200 km.' },
  { q:'Quanto fa 7/10 + 3/100?', opts:['10/110','73/100','7,3/10','703/1000'], ans:'73/100', hint:'MCM=100: 70/100+3/100=73/100.' },
  { q:'Quanto fa 9/10 âˆ’ 4/100?', opts:['5/90','86/100','5/100','90/100'], ans:'86/100', hint:'MCM=100: 90/100âˆ’4/100=86/100.' },
  { q:'Qual Ã¨ il numero misto corrispondente a 17/5?', opts:['2 e 7/5','3 e 2/5','4 e 1/5','5 e 2/5'], ans:'3 e 2/5', hint:'17Ã·5=3 resto 2. Quindi 3 e 2/5.' },
  { q:'Converti 2 e 3/7 in frazione impropria:', opts:['5/7','17/7','23/7','6/7'], ans:'17/7', hint:'2Ã—7+3=17. Quindi 17/7.' },
],

geometria: [
  // FORMULE DIRETTE
  { q:'Rettangolo: base=6 cm, altezza=4 cm. Qual Ã¨ l\'area?', opts:['24 cmÂ²','20 cmÂ²','10 cmÂ²','16 cmÂ²'], ans:'24 cmÂ²', hint:'A = base Ã— altezza = 6 Ã— 4', vis:'â–­ b=6, h=4' },
  { q:'Triangolo: base=8 cm, altezza=5 cm. Qual Ã¨ l\'area?', opts:['40 cmÂ²','13 cmÂ²','20 cmÂ²','80 cmÂ²'], ans:'20 cmÂ²', hint:'A = (base Ã— altezza) Ã· 2 = (8Ã—5)Ã·2', vis:'â–³ b=8, h=5' },
  { q:'Trapezio: B=10, b=6, h=4. Qual Ã¨ l\'area?', opts:['40 cmÂ²','32 cmÂ²','60 cmÂ²','24 cmÂ²'], ans:'32 cmÂ²', hint:'A = (B+b)/2 Ã— h = (10+6)/2 Ã— 4 = 8Ã—4', vis:'âŒ‚ B=10, b=6, h=4' },
  { q:'Parallelogramma: base=7 cm, altezza=3 cm. Area?', opts:['21 cmÂ²','10 cmÂ²','42 cmÂ²','14 cmÂ²'], ans:'21 cmÂ²', hint:'A = base Ã— altezza = 7 Ã— 3', vis:'â¬§ b=7, h=3' },
  { q:'Quadrato con lato=5 cm. Qual Ã¨ l\'area?', opts:['20 cmÂ²','10 cmÂ²','25 cmÂ²','15 cmÂ²'], ans:'25 cmÂ²', hint:'A = latoÂ² = 5Â² = 25', vis:'â–  l=5' },
  // FORMULE INVERSE â€” trovare un lato
  { q:'ğŸ“ FORMULA INVERSA: Un rettangolo ha area=30 cmÂ² e altezza=5 cm. Quanto Ã¨ la base?', opts:['6 cm','25 cm','150 cm','3 cm'], ans:'6 cm', hint:'Base = Area Ã· altezza = 30 Ã· 5', vis:'Area=30, h=5 â†’ b=?' },
  { q:'ğŸ“ FORMULA INVERSA: Un triangolo ha area=18 cmÂ² e altezza=6 cm. Quanto Ã¨ la base?', opts:['3 cm','6 cm','108 cm','12 cm'], ans:'6 cm', hint:'b = (2 Ã— Area) Ã· h = (2Ã—18)Ã·6 = 36Ã·6', vis:'Area=18, h=6 â†’ b=?' },
  { q:'ğŸ“ FORMULA INVERSA: Un parallelogramma ha area=42 cmÂ² e base=7 cm. Quanto Ã¨ l\'altezza?', opts:['6 cm','49 cm','294 cm','5 cm'], ans:'6 cm', hint:'h = Area Ã· base = 42 Ã· 7', vis:'Area=42, b=7 â†’ h=?' },
  { q:'ğŸ“ FORMULA INVERSA: Un quadrato ha area=64 cmÂ². Quanto Ã¨ il lato?', opts:['8 cm','16 cm','32 cm','4 cm'], ans:'8 cm', hint:'lato = âˆšArea = âˆš64 = 8. Usa la tavola delle radici!', vis:'Area=64 â†’ l=?' },
  { q:'ğŸ“ FORMULA INVERSA: Un trapezio ha area=20 cmÂ², h=4 cm, base minore b=3. Quanto Ã¨ la base maggiore B?', opts:['7 cm','5 cm','10 cm','17 cm'], ans:'7 cm', hint:'A=(B+b)/2Ã—h â†’ B = (2Ã—A/h) âˆ’ b = (2Ã—20/4)âˆ’3 = 10âˆ’3', vis:'Area=20, h=4, b=3 â†’ B=?' },
  // PERIMETRI
  { q:'Rettangolo: b=7 cm, h=3 cm. Qual Ã¨ il perimetro?', opts:['20 cm','21 cm','10 cm','40 cm'], ans:'20 cm', hint:'P = 2Ã—(b+h) = 2Ã—(7+3) = 2Ã—10 = 20', vis:'â–­ perimetro' },
  { q:'Quadrato con lato=6 cm. Perimetro?', opts:['24 cm','12 cm','36 cm','18 cm'], ans:'24 cm', hint:'P = 4 Ã— lato = 4Ã—6 = 24', vis:'â–  perimetro' },
  // FORMULA INVERSA PERIMETRO
  { q:'ğŸ“ INVERSA: Un rettangolo ha perimetro=24 cm e base=8 cm. Quanto Ã¨ l\'altezza?', opts:['4 cm','16 cm','3 cm','12 cm'], ans:'4 cm', hint:'P=2(b+h) â†’ h = P/2 âˆ’ b = 12âˆ’8 = 4', vis:'P=24, b=8 â†’ h=?' },
  { q:'ğŸ“ INVERSA: Un quadrato ha perimetro=36 cm. Quanto Ã¨ il lato?', opts:['9 cm','12 cm','4 cm','18 cm'], ans:'9 cm', hint:'P = 4Ã—l â†’ l = PÃ·4 = 36Ã·4', vis:'P=36 â†’ l=?' },
  { q:'Se raddoppio la base di un rettangolo (altezza invariata), l\'area:', opts:['rimane uguale','si raddoppia','si dimezza','si quadruplica'], ans:'si raddoppia', hint:'A=bÃ—h. Se bâ†’2b, allora Aâ†’2bÃ—h = 2Ã—(bÃ—h).', vis:'' },
  { q:'Triangolo con base=20 cm, altezza=9 cm. Area?', opts:['180 cmÂ²','90 cmÂ²','29 cmÂ²','45 cmÂ²'], ans:'90 cmÂ²', hint:'(20Ã—9)Ã·2=90.' },
  { q:'Rettangolo con b=15 cm, h=4 cm. Area?', opts:['60 cmÂ²','38 cmÂ²','19 cmÂ²','75 cmÂ²'], ans:'60 cmÂ²', hint:'15Ã—4=60.' },
  { q:'Quadrato con area=196 cmÂ². Lato?', opts:['14 cm','98 cm','28 cm','7 cm'], ans:'14 cm', hint:'âˆš196=14.' },
  { q:'Parallelogramma con b=13 cm, h=5 cm. Area?', opts:['65 cmÂ²','36 cmÂ²','18 cmÂ²','130 cmÂ²'], ans:'65 cmÂ²', hint:'13Ã—5=65.' },
  { q:'Rettangolo: base=9 cm, altezza=4 cm. Area?', opts:['36 cmÂ²','26 cmÂ²','13 cmÂ²','72 cmÂ²'], ans:'36 cmÂ²', hint:'A = 9 Ã— 4 = 36.' },
  { q:'Rettangolo: base=12 cm, altezza=5 cm. Area?', opts:['60 cmÂ²','34 cmÂ²','17 cmÂ²','120 cmÂ²'], ans:'60 cmÂ²', hint:'A = 12 Ã— 5 = 60.' },
  { q:'Rettangolo: base=7 cm, altezza=7 cm. Area?', opts:['49 cmÂ²','28 cmÂ²','14 cmÂ²','21 cmÂ²'], ans:'49 cmÂ²', hint:'Un rettangolo con lati uguali Ã¨ un quadrato! A = 7Â² = 49.' },
  { q:'Triangolo: base=10 cm, altezza=6 cm. Area?', opts:['60 cmÂ²','30 cmÂ²','16 cmÂ²','32 cmÂ²'], ans:'30 cmÂ²', hint:'A = (10 Ã— 6) Ã· 2 = 30.' },
  { q:'Triangolo: base=14 cm, altezza=4 cm. Area?', opts:['56 cmÂ²','28 cmÂ²','18 cmÂ²','36 cmÂ²'], ans:'28 cmÂ²', hint:'A = (14 Ã— 4) Ã· 2 = 28.' },
  { q:'Triangolo: base=9 cm, altezza=8 cm. Area?', opts:['72 cmÂ²','36 cmÂ²','17 cmÂ²','34 cmÂ²'], ans:'36 cmÂ²', hint:'A = (9 Ã— 8) Ã· 2 = 36.' },
  { q:'Quadrato con lato=7 cm. Area?', opts:['14 cmÂ²','28 cmÂ²','49 cmÂ²','21 cmÂ²'], ans:'49 cmÂ²', hint:'A = 7Â² = 49.' },
  { q:'Quadrato con lato=9 cm. Area?', opts:['18 cmÂ²','36 cmÂ²','81 cmÂ²','45 cmÂ²'], ans:'81 cmÂ²', hint:'A = 9Â² = 81.' },
  { q:'Quadrato con lato=11 cm. Area?', opts:['22 cmÂ²','44 cmÂ²','121 cmÂ²','100 cmÂ²'], ans:'121 cmÂ²', hint:'A = 11Â² = 121.' },
  { q:'Parallelogramma: base=8 cm, altezza=5 cm. Area?', opts:['40 cmÂ²','26 cmÂ²','13 cmÂ²','80 cmÂ²'], ans:'40 cmÂ²', hint:'A = base Ã— altezza = 8 Ã— 5 = 40.' },
  { q:'Parallelogramma: base=11 cm, altezza=4 cm. Area?', opts:['44 cmÂ²','30 cmÂ²','15 cmÂ²','22 cmÂ²'], ans:'44 cmÂ²', hint:'A = 11 Ã— 4 = 44.' },
  { q:'Trapezio: B=12, b=8, h=5. Area?', opts:['100 cmÂ²','50 cmÂ²','60 cmÂ²','25 cmÂ²'], ans:'50 cmÂ²', hint:'A = (12+8)/2 Ã— 5 = 10 Ã— 5 = 50.' },
  { q:'Trapezio: B=15, b=9, h=4. Area?', opts:['96 cmÂ²','48 cmÂ²','96 cmÂ²','60 cmÂ²'], ans:'48 cmÂ²', hint:'A = (15+9)/2 Ã— 4 = 12 Ã— 4 = 48.' },
  { q:'Trapezio: B=20, b=10, h=6. Area?', opts:['90 cmÂ²','180 cmÂ²','60 cmÂ²','180 cmÂ²'], ans:'90 cmÂ²', hint:'A = (20+10)/2 Ã— 6 = 15 Ã— 6 = 90.' },
  { q:'Rombo: dâ‚=10 cm, dâ‚‚=6 cm. Area?', opts:['60 cmÂ²','30 cmÂ²','16 cmÂ²','32 cmÂ²'], ans:'30 cmÂ²', hint:'A = (dâ‚ Ã— dâ‚‚) Ã· 2 = (10Ã—6)Ã·2 = 30.' },
  { q:'Rombo: dâ‚=12 cm, dâ‚‚=8 cm. Area?', opts:['96 cmÂ²','48 cmÂ²','20 cmÂ²','40 cmÂ²'], ans:'48 cmÂ²', hint:'A = (12Ã—8)Ã·2 = 48.' },
  { q:'Rombo: dâ‚=14 cm, dâ‚‚=10 cm. Area?', opts:['140 cmÂ²','70 cmÂ²','24 cmÂ²','48 cmÂ²'], ans:'70 cmÂ²', hint:'A = (14Ã—10)Ã·2 = 70.' },
  { q:'Cerchio con r=3 cm. Area? (Ï€â‰ˆ3,14)', opts:['9,42 cmÂ²','28,26 cmÂ²','18,84 cmÂ²','6,28 cmÂ²'], ans:'28,26 cmÂ²', hint:'A = Ï€Ã—rÂ² = 3,14Ã—9 = 28,26.' },
  { q:'Cerchio con r=5 cm. Area? (Ï€â‰ˆ3,14)', opts:['78,5 cmÂ²','31,4 cmÂ²','15,7 cmÂ²','157 cmÂ²'], ans:'78,5 cmÂ²', hint:'A = 3,14Ã—25 = 78,5.' },
  { q:'Cerchio con r=10 cm. Area? (Ï€â‰ˆ3,14)', opts:['31,4 cmÂ²','314 cmÂ²','62,8 cmÂ²','628 cmÂ²'], ans:'314 cmÂ²', hint:'A = 3,14Ã—100 = 314.' },
  { q:'Rettangolo: b=8 cm, h=5 cm. Perimetro?', opts:['40 cm','26 cm','13 cm','80 cm'], ans:'26 cm', hint:'P = 2Ã—(8+5) = 2Ã—13 = 26.' },
  { q:'Rettangolo: b=12 cm, h=7 cm. Perimetro?', opts:['84 cm','38 cm','19 cm','76 cm'], ans:'38 cm', hint:'P = 2Ã—(12+7) = 2Ã—19 = 38.' },
  { q:'Quadrato con lato=8 cm. Perimetro?', opts:['16 cm','64 cm','32 cm','24 cm'], ans:'32 cm', hint:'P = 4Ã—8 = 32.' },
  { q:'Quadrato con lato=12 cm. Perimetro?', opts:['24 cm','48 cm','144 cm','36 cm'], ans:'48 cm', hint:'P = 4Ã—12 = 48.' },
  { q:'Triangolo equilatero con lato=7 cm. Perimetro?', opts:['14 cm','49 cm','21 cm','28 cm'], ans:'21 cm', hint:'Triangolo equilatero: P = 3Ã—lato = 3Ã—7 = 21.' },
  { q:'Triangolo con lati 5, 7, 9 cm. Perimetro?', opts:['21 cm','315 cm','63 cm','11 cm'], ans:'21 cm', hint:'P = 5+7+9 = 21.' },
  { q:'Rombo con lato=6 cm. Perimetro?', opts:['12 cm','36 cm','24 cm','48 cm'], ans:'24 cm', hint:'Il rombo ha 4 lati uguali: P = 4Ã—6 = 24.' },
  { q:'Rombo con lato=9 cm. Perimetro?', opts:['18 cm','81 cm','36 cm','27 cm'], ans:'36 cm', hint:'P = 4Ã—9 = 36.' },
  { q:'Cerchio con r=6 cm. Circonferenza? (Ï€â‰ˆ3,14)', opts:['18,84 cm','37,68 cm','113,04 cm','6,28 cm'], ans:'37,68 cm', hint:'C = 2Ã—Ï€Ã—r = 2Ã—3,14Ã—6 = 37,68.' },
  { q:'Cerchio con r=10 cm. Circonferenza? (Ï€â‰ˆ3,14)', opts:['31,4 cm','62,8 cm','314 cm','3,14 cm'], ans:'62,8 cm', hint:'C = 2Ã—3,14Ã—10 = 62,8.' },
  { q:'Parallelogramma: base=9 cm, lato=5 cm. Perimetro?', opts:['45 cm','28 cm','14 cm','18 cm'], ans:'28 cm', hint:'P = 2Ã—(9+5) = 2Ã—14 = 28.' },
  { q:'ğŸ“ INVERSA: Rettangolo area=45 cmÂ², base=9 cm. Altezza?', opts:['5 cm','36 cm','405 cm','4 cm'], ans:'5 cm', hint:'h = Area Ã· base = 45Ã·9 = 5.' },
  { q:'ğŸ“ INVERSA: Rettangolo area=56 cmÂ², altezza=8 cm. Base?', opts:['7 cm','48 cm','64 cm','6 cm'], ans:'7 cm', hint:'b = Area Ã· h = 56Ã·8 = 7.' },
  { q:'ğŸ“ INVERSA: Triangolo area=24 cmÂ², base=8 cm. Altezza?', opts:['3 cm','6 cm','192 cm','12 cm'], ans:'6 cm', hint:'h = (2Ã—Area)Ã·base = 48Ã·8 = 6.' },
  { q:'ğŸ“ INVERSA: Triangolo area=35 cmÂ², altezza=7 cm. Base?', opts:['5 cm','10 cm','245 cm','7 cm'], ans:'10 cm', hint:'b = (2Ã—Area)Ã·h = 70Ã·7 = 10.' },
  { q:'ğŸ“ INVERSA: Quadrato area=49 cmÂ². Lato?', opts:['12,25 cm','7 cm','24,5 cm','4 cm'], ans:'7 cm', hint:'lato = âˆš49 = 7.' },
  { q:'ğŸ“ INVERSA: Quadrato area=100 cmÂ². Lato?', opts:['25 cm','50 cm','10 cm','20 cm'], ans:'10 cm', hint:'lato = âˆš100 = 10.' },
  { q:'ğŸ“ INVERSA: Quadrato area=121 cmÂ². Lato?', opts:['11 cm','60,5 cm','12 cm','10 cm'], ans:'11 cm', hint:'lato = âˆš121 = 11.' },
  { q:'ğŸ“ INVERSA: Rombo area=30 cmÂ², dâ‚=10 cm. dâ‚‚?', opts:['3 cm','6 cm','15 cm','20 cm'], ans:'6 cm', hint:'dâ‚‚ = (2Ã—30)Ã·10 = 6.' },
  { q:'ğŸ“ INVERSA: Rombo area=40 cmÂ², dâ‚=8 cm. dâ‚‚?', opts:['5 cm','10 cm','4 cm','16 cm'], ans:'10 cm', hint:'dâ‚‚ = (2Ã—40)Ã·8 = 10.' },
  { q:'ğŸ“ INVERSA: Cerchio C=31,4 cm. Raggio? (Ï€â‰ˆ3,14)', opts:['10 cm','5 cm','15,7 cm','3,14 cm'], ans:'5 cm', hint:'r = C Ã· (2Ï€) = 31,4 Ã· 6,28 = 5.' },
  { q:'ğŸ“ INVERSA: Cerchio area=12,56 cmÂ². Raggio? (Ï€â‰ˆ3,14)', opts:['4 cm','2 cm','6 cm','3 cm'], ans:'2 cm', hint:'r = âˆš(AÃ·Ï€) = âˆš(12,56Ã·3,14) = âˆš4 = 2.' },
  { q:'ğŸ“ INVERSA: Rettangolo perimetro=30 cm, base=9 cm. Altezza?', opts:['6 cm','3 cm','21 cm','12 cm'], ans:'6 cm', hint:'h = P/2 âˆ’ b = 15âˆ’9 = 6.' },
  { q:'ğŸ“ INVERSA: Quadrato perimetro=44 cm. Lato?', opts:['22 cm','4 cm','11 cm','40 cm'], ans:'11 cm', hint:'lato = PÃ·4 = 44Ã·4 = 11.' },
  { q:'ğŸ“ INVERSA: Parallelogramma area=54 cmÂ², base=9 cm. Altezza?', opts:['6 cm','45 cm','4 cm','8 cm'], ans:'6 cm', hint:'h = AreaÃ·base = 54Ã·9 = 6.' },
  { q:'ğŸ“ INVERSA: Trapezio area=36 cmÂ², h=4 cm, B=12. Base minore b?', opts:['6 cm','24 cm','3 cm','9 cm'], ans:'6 cm', hint:'b = (2Ã—AÃ·h)âˆ’B = (72Ã·4)âˆ’12 = 18âˆ’12 = 6.' },
  { q:'Se raddoppio il lato di un quadrato, l\'area:', opts:['raddoppia','triplica','si quadruplica','rimane uguale'], ans:'si quadruplica', hint:'A=lÂ². Se lâ†’2l: A=(2l)Â²=4lÂ². L\'area diventa 4 volte.' },
  { q:'Se dimezzio il raggio di un cerchio, l\'area:', opts:['si dimezza','diventa 1/4','diventa 1/3','rimane uguale'], ans:'diventa 1/4', hint:'A=Ï€rÂ². Se râ†’r/2: A=Ï€(r/2)Â²=Ï€rÂ²/4. Un quarto.' },
  { q:'Tra un quadrato e un rettangolo con lo stesso perimetro, quale ha area maggiore?', opts:['Il rettangolo','Il quadrato','Sono uguali','Dipende dalle misure'], ans:'Il quadrato', hint:'Il quadrato ha sempre area massima a paritÃ  di perimetro.' },
  { q:'Qual Ã¨ l\'unitÃ  di misura dell\'area?', opts:['cm','cmÂ²','cmÂ³','m'], ans:'cmÂ²', hint:'L\'area si misura in unitÃ  quadrate (cmÂ², mÂ², ecc.).' },
  { q:'Qual Ã¨ l\'unitÃ  di misura del perimetro?', opts:['cmÂ²','cmÂ³','cm','mÂ²'], ans:'cm', hint:'Il perimetro Ã¨ una lunghezza, si misura in cm, m, ecc.' },
  { q:'Un rettangolo ha base=6 e altezza=6. Come si chiama?', opts:['Rettangolo','Rombo','Quadrato','Trapezio'], ans:'Quadrato', hint:'Un rettangolo con tutti i lati uguali Ã¨ un quadrato.' },
  { q:'La diagonale di un quadrato con lato=4 cm misura circa:', opts:['4 cm','5,66 cm','8 cm','16 cm'], ans:'5,66 cm', hint:'d = latoÃ—âˆš2 = 4Ã—1,414 â‰ˆ 5,66 cm.' },
  { q:'Quale figura ha area = (base Ã— altezza) Ã· 2?', opts:['Rettangolo','Triangolo','Quadrato','Parallelogramma'], ans:'Triangolo', hint:'Il triangolo ha A = (bÃ—h)Ã·2.' },
  { q:'Quale figura ha area = diagonaleâ‚ Ã— diagonaleâ‚‚ Ã· 2?', opts:['Triangolo','Trapezio','Rombo','Rettangolo'], ans:'Rombo', hint:'Il rombo: A = (dâ‚Ã—dâ‚‚)Ã·2.' },
  { q:'Qual Ã¨ la formula dell\'area del cerchio?', opts:['2Ï€r','Ï€d','Ï€rÂ²','2Ï€rÂ²'], ans:'Ï€rÂ²', hint:'A = Ï€ Ã— rÂ². Il raggio al quadrato!' },
  { q:'Un parco quadrato ha area=900 mÂ². Quanto Ã¨ lungo un lato?', opts:['225 m','90 m','30 m','450 m'], ans:'30 m', hint:'lato = âˆš900 = 30 m.' },
  { q:'Quante volte ci sta 1 mÂ² in 1 cmÂ²?', opts:['100 volte','1000 volte','1 cmÂ² Ã¨ piÃ¹ grande','10 000 volte'], ans:'10 000 volte', hint:'1 m = 100 cm. 1 mÂ² = 100Ã—100 = 10 000 cmÂ².' },
  { q:'Un rettangolo ha area=48 cmÂ² e base=12 cm. Quanto Ã¨ il perimetro?', opts:['60 cm','26 cm','32 cm','48 cm'], ans:'32 cm', hint:'h=48Ã·12=4. P=2Ã—(12+4)=32.' },
  { q:'Un quadrato ha perimetro=20 cm. Qual Ã¨ la sua area?', opts:['5 cmÂ²','100 cmÂ²','25 cmÂ²','80 cmÂ²'], ans:'25 cmÂ²', hint:'lato=20Ã·4=5. Area=5Â²=25.' },
  { q:'Cerchio con diametro=10 cm. Qual Ã¨ la circonferenza? (Ï€â‰ˆ3,14)', opts:['31,4 cm','62,8 cm','78,5 cm','15,7 cm'], ans:'31,4 cm', hint:'r=5. C=2Ã—3,14Ã—5=31,4.' },
  { q:'Cerchio con diametro=8 cm. Qual Ã¨ l\'area? (Ï€â‰ˆ3,14)', opts:['25,12 cmÂ²','50,24 cmÂ²','200,96 cmÂ²','100,48 cmÂ²'], ans:'50,24 cmÂ²', hint:'r=4. A=3,14Ã—16=50,24.' },
  { q:'Triangolo isoscele con base=8 cm e lati=6 cm. Perimetro?', opts:['14 cm','48 cm','20 cm','24 cm'], ans:'20 cm', hint:'P = 8+6+6 = 20 cm.' },
  { q:'Trapezio: B=14, b=6, lâ‚=5, lâ‚‚=5. Perimetro?', opts:['30 cm','75 cm','20 cm','40 cm'], ans:'30 cm', hint:'P = 14+6+5+5 = 30.' },
  { q:'Un campo rettangolare Ã¨ lungo 100 m e largo 60 m. Quanti metri di recinzione servono?', opts:['6000 m','320 m','160 m','400 m'], ans:'320 m', hint:'P = 2Ã—(100+60) = 320 m.' },
  { q:'Una piastrella quadrata ha lato=20 cm. Quante piastrelle servono per 2 mÂ²?', opts:['50','100','200','10'], ans:'50', hint:'Area piastrella=0,2Ã—0,2=0,04 mÂ². 2Ã·0,04=50.' },
  { q:'Un triangolo rettangolo ha cateti 6 e 8 cm. Qual Ã¨ la sua area?', opts:['48 cmÂ²','24 cmÂ²','14 cmÂ²','28 cmÂ²'], ans:'24 cmÂ²', hint:'A = (6Ã—8)Ã·2 = 24 cmÂ².' },
  { q:'Se triplico la base di un triangolo (altezza invariata), l\'area:', opts:['rimane uguale','raddoppia','triplica','si dimezza'], ans:'triplica', hint:'A=(bÃ—h)Ã·2. Se bâ†’3b: A=(3bÃ—h)Ã·2 = 3Ã—A originale.' },
  { q:'Qual Ã¨ l\'area di un trapezio con B=10, b=6, h=8?', opts:['128 cmÂ²','64 cmÂ²','48 cmÂ²','80 cmÂ²'], ans:'64 cmÂ²', hint:'A=(10+6)/2Ã—8=8Ã—8=64.' },
  { q:'Parallelogramma con base=15 cm, altezza=6 cm. Area?', opts:['42 cmÂ²','90 cmÂ²','45 cmÂ²','180 cmÂ²'], ans:'90 cmÂ²', hint:'A=15Ã—6=90.' },
  { q:'Rombo con dâ‚=16 cm, dâ‚‚=12 cm. Area?', opts:['192 cmÂ²','96 cmÂ²','28 cmÂ²','56 cmÂ²'], ans:'96 cmÂ²', hint:'A=(16Ã—12)Ã·2=192Ã·2=96.' },
  { q:'Cerchio con r=1 cm. Area? (Ï€â‰ˆ3,14)', opts:['3,14 cmÂ²','6,28 cmÂ²','1 cmÂ²','9,42 cmÂ²'], ans:'3,14 cmÂ²', hint:'A=3,14Ã—1Â²=3,14.' },
  { q:'Qual Ã¨ la formula del perimetro del trapezio?', opts:['(B+b)Ã—hÃ·2','B+b+lâ‚+lâ‚‚','2Ã—(B+b)','4Ã—l'], ans:'B+b+lâ‚+lâ‚‚', hint:'Sommi tutti i 4 lati: base maggiore + base minore + i due lati obliqui.' },
  { q:'Rettangolo con diagonale=10 cm e base=8 cm. Altezza?', opts:['6 cm','18 cm','2 cm','âˆš36 cm'], ans:'6 cm', hint:'h=âˆš(10Â²âˆ’8Â²)=âˆš(100âˆ’64)=âˆš36=6 cm.' },
  { q:'Triangolo equilatero con lato=6 cm. Area? (usa formula: (âˆš3/4)Ã—lÂ²â‰ˆ0,433Ã—lÂ²)', opts:['â‰ˆ15,6 cmÂ²','â‰ˆ18 cmÂ²','â‰ˆ12 cmÂ²','â‰ˆ36 cmÂ²'], ans:'â‰ˆ15,6 cmÂ²', hint:'0,433Ã—36â‰ˆ15,6 cmÂ².' },
  { q:'Rettangolo con b=20 cm, h=8 cm. Perimetro?', opts:['56 cm','160 cm','28 cm','48 cm'], ans:'56 cm', hint:'P=2Ã—(20+8)=2Ã—28=56.' },
  { q:'Cerchio con r=2 cm. Area? (Ï€â‰ˆ3,14)', opts:['12,56 cmÂ²','6,28 cmÂ²','25,12 cmÂ²','4 cmÂ²'], ans:'12,56 cmÂ²', hint:'A=3,14Ã—4=12,56.' },
  { q:'Rombo con dâ‚=20 cm, dâ‚‚=15 cm. Area?', opts:['150 cmÂ²','300 cmÂ²','35 cmÂ²','75 cmÂ²'], ans:'150 cmÂ²', hint:'(20Ã—15)Ã·2=150.' },
  { q:'Quadrato con lato=13 cm. Area?', opts:['169 cmÂ²','52 cmÂ²','26 cmÂ²','100 cmÂ²'], ans:'169 cmÂ²', hint:'13Â²=169.' },
  { q:'Trapezio con B=18, b=10, h=7. Area?', opts:['98 cmÂ²','196 cmÂ²','28 cmÂ²','49 cmÂ²'], ans:'98 cmÂ²', hint:'(18+10)/2Ã—7=14Ã—7=98.' },
  { q:'ğŸ“ INVERSA: Cerchio area=50,24 cmÂ². Raggio? (Ï€â‰ˆ3,14)', opts:['4 cm','8 cm','2 cm','16 cm'], ans:'4 cm', hint:'r=âˆš(50,24Ã·3,14)=âˆš16=4.' },
],

pitagora: [
  { q:'Cateti 3 e 4. Ipotenusa?', opts:['5','7','6','4,5'], ans:'5', hint:'3Â²+4Â²=9+16=25. âˆš25=5! Ãˆ la terna pitagorica piÃ¹ famosa.' },
  { q:'Cateti 6 e 8. Ipotenusa?', opts:['14','10','9','12'], ans:'10', hint:'36+64=100. âˆš100=10.' },
  { q:'Cateti 5 e 12. Ipotenusa?', opts:['17','13','15','11'], ans:'13', hint:'25+144=169. âˆš169=13.' },
  { q:'Cateti 8 e 15. Ipotenusa?', opts:['17','21','23','19'], ans:'17', hint:'64+225=289. âˆš289=17.' },
  // INVERSE â€” trovare un cateto
  { q:'ğŸ“ INVERSA: Ipotenusa=10, un cateto=6. Quanto Ã¨ l\'altro cateto?', opts:['4','8','6','âˆš136'], ans:'8', hint:'b=âˆš(cÂ²âˆ’aÂ²)=âˆš(100âˆ’36)=âˆš64=8.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=13, un cateto=5. Quanto Ã¨ l\'altro cateto?', opts:['8','10','12','9'], ans:'12', hint:'b=âˆš(169âˆ’25)=âˆš144=12.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=17, un cateto=8. Quanto Ã¨ l\'altro cateto?', opts:['9','15','12','10'], ans:'15', hint:'b=âˆš(289âˆ’64)=âˆš225=15.' },
  { q:'L\'ipotenusa Ã¨...', opts:['il lato piÃ¹ corto','qualsiasi lato','il lato opposto all\'angolo retto','adiacente all\'angolo retto'], ans:'il lato opposto all\'angolo retto', hint:'L\'ipotenusa Ã¨ sempre di fronte al 90Â°.' },
  { q:'Un triangolo con lati 3, 4, 6 Ã¨ rettangolo?', opts:['SÃ¬','No â€” non vale aÂ²+bÂ²=cÂ²','Non si puÃ² dire','Solo se l\'angolo Ã¨ 45Â°'], ans:'No â€” non vale aÂ²+bÂ²=cÂ²', hint:'3Â²+4Â²=25. 6Â²=36. 25â‰ 36, quindi NON Ã¨ rettangolo.' },
  { q:'Un quadrato con diagonale=10 cm: quanto Ã¨ il lato? (lÂ²+lÂ²=100)', opts:['5 cm','âˆš50 â‰ˆ 7,07 cm','âˆš200 cm','10 cm'], ans:'âˆš50 â‰ˆ 7,07 cm', hint:'2lÂ²=100 â†’ lÂ²=50 â†’ l=âˆš50â‰ˆ7,07.' },
  { q:'Cateti 40 e 30. Ipotenusa?', opts:['50','70','60','45'], ans:'50', hint:'âˆš(1600+900)=âˆš2500=50. (3,4,5)Ã—10.' },
  { q:'Cateti 12 e 35. Ipotenusa?', opts:['37','47','23','45'], ans:'37', hint:'âˆš(144+1225)=âˆš1369=37.' },
  { q:'Cateti 28 e 21. Ipotenusa?', opts:['35','49','25','40'], ans:'35', hint:'âˆš(784+441)=âˆš1225=35. (3,4,5)Ã—7.' },
  { q:'Cateti 9 e 40. Ipotenusa?', opts:['41','49','31','39'], ans:'41', hint:'âˆš(81+1600)=âˆš1681=41.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=37, cateto=12. L\'altro cateto?', opts:['25','35','31','29'], ans:'35', hint:'âˆš(37Â²âˆ’12Â²)=âˆš(1369âˆ’144)=âˆš1225=35.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=41, cateto=9. L\'altro cateto?', opts:['32','40','30','22'], ans:'40', hint:'âˆš(41Â²âˆ’9Â²)=âˆš(1681âˆ’81)=âˆš1600=40.' },
  { q:'Il triangolo con lati 20, 21, 29 Ã¨ rettangolo?', opts:['No','SÃ¬','Non si puÃ² dire','Dipende'], ans:'SÃ¬', hint:'20Â²+21Â²=400+441=841=29Â². SÃ¬!' },
  { q:'Il triangolo con lati 10, 11, 12 Ã¨ rettangolo?', opts:['SÃ¬','No','Non si puÃ² dire','Forse'], ans:'No', hint:'10Â²+11Â²=221â‰ 144=12Â². No.' },
  { q:'Cateti 11 e 60. Ipotenusa?', opts:['61','71','50','71'], ans:'61', hint:'âˆš(121+3600)=âˆš3721=61.' },
  { q:'Cateti 13 e 84. Ipotenusa?', opts:['97','85','71','90'], ans:'85', hint:'âˆš(169+7056)=âˆš7225=85.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=85, cateto=13. Cateto?', opts:['72','84','70','80'], ans:'84', hint:'âˆš(7225âˆ’169)=âˆš7056=84.' },
  { q:'Cateti 20 e 48. Ipotenusa?', opts:['52','68','44','60'], ans:'52', hint:'âˆš(400+2304)=âˆš2704=52. (5,12,13)Ã—4.' },
  { q:'Cateti 7 e 24. Ipotenusa?', opts:['31','25','26','28'], ans:'25', hint:'7Â²+24Â²=49+576=625. âˆš625=25.' },
  { q:'Cateti 9 e 12. Ipotenusa?', opts:['15','21','âˆš225=15','13'], ans:'15', hint:'81+144=225. âˆš225=15.' },
  { q:'Cateti 10 e 24. Ipotenusa?', opts:['26','34','28','30'], ans:'26', hint:'100+576=676. âˆš676=26.' },
  { q:'Cateti 20 e 21. Ipotenusa?', opts:['29','41','25','31'], ans:'29', hint:'400+441=841. âˆš841=29.' },
  { q:'Cateti 5 e 5. Ipotenusa (approssimata)?', opts:['7,07','10','5','7'], ans:'7,07', hint:'25+25=50. âˆš50â‰ˆ7,07.' },
  { q:'Cateti 6 e 6. Ipotenusa (approssimata)?', opts:['8,49','12','8','10'], ans:'8,49', hint:'36+36=72. âˆš72â‰ˆ8,49.' },
  { q:'Cateti 1 e 1. Ipotenusa (approssimata)?', opts:['2','1,41','1','1,5'], ans:'1,41', hint:'1+1=2. âˆš2â‰ˆ1,41.' },
  { q:'Cateti 3 e 3. Ipotenusa (approssimata)?', opts:['6','4,24','3','5'], ans:'4,24', hint:'9+9=18. âˆš18â‰ˆ4,24.' },
  { q:'Cateti 2 e 4. Ipotenusa (approssimata)?', opts:['6','4,47','5','3,46'], ans:'4,47', hint:'4+16=20. âˆš20â‰ˆ4,47.' },
  { q:'Cateti 6 e 10. Ipotenusa (approssimata)?', opts:['11,66','16','12','8'], ans:'11,66', hint:'36+100=136. âˆš136â‰ˆ11,66.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=25, cateto=7. L\'altro cateto?', opts:['18','24','32','20'], ans:'24', hint:'b=âˆš(25Â²âˆ’7Â²)=âˆš(625âˆ’49)=âˆš576=24.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=26, cateto=10. L\'altro cateto?', opts:['16','24','20','28'], ans:'24', hint:'b=âˆš(676âˆ’100)=âˆš576=24.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=15, cateto=9. L\'altro cateto?', opts:['6','12','10','8'], ans:'12', hint:'b=âˆš(225âˆ’81)=âˆš144=12.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=20, cateto=12. L\'altro cateto?', opts:['8','16','14','10'], ans:'16', hint:'b=âˆš(400âˆ’144)=âˆš256=16.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=25, cateto=15. L\'altro cateto?', opts:['10','20','15','22'], ans:'20', hint:'b=âˆš(625âˆ’225)=âˆš400=20.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=29, cateto=20. L\'altro cateto?', opts:['9','21','25','15'], ans:'21', hint:'b=âˆš(841âˆ’400)=âˆš441=21.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=10, cateto=8. L\'altro cateto?', opts:['2','6','4','8'], ans:'6', hint:'b=âˆš(100âˆ’64)=âˆš36=6.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=13, cateto=12. L\'altro cateto?', opts:['1','5','7','4'], ans:'5', hint:'b=âˆš(169âˆ’144)=âˆš25=5.' },
  { q:'Il triangolo con lati 5, 12, 13 Ã¨ rettangolo?', opts:['SÃ¬','No','Non si puÃ² dire','Solo con l\'angolo retto'], ans:'SÃ¬', hint:'5Â²+12Â²=25+144=169=13Â². SÃ¬, Ã¨ una terna pitagorica!' },
  { q:'Il triangolo con lati 8, 15, 17 Ã¨ rettangolo?', opts:['No','SÃ¬','Non si puÃ² dire','Dipende'], ans:'SÃ¬', hint:'8Â²+15Â²=64+225=289=17Â². Terna pitagorica!' },
  { q:'Il triangolo con lati 7, 10, 12 Ã¨ rettangolo?', opts:['SÃ¬','No','Non si puÃ² dire','Solo se c\'Ã¨ un angolo retto'], ans:'No', hint:'7Â²+10Â²=49+100=149 â‰  144=12Â². Non Ã¨ rettangolo.' },
  { q:'Il triangolo con lati 9, 40, 41 Ã¨ rettangolo?', opts:['No','SÃ¬','Non si puÃ² dire','Forse'], ans:'SÃ¬', hint:'9Â²+40Â²=81+1600=1681=41Â². Terna pitagorica!' },
  { q:'Il triangolo con lati 6, 8, 10 Ã¨ rettangolo?', opts:['No','SÃ¬','Non si puÃ² dire','Ãˆ isoscele'], ans:'SÃ¬', hint:'6Â²+8Â²=36+64=100=10Â². Terna pitagorica (multiplo di 3,4,5)!' },
  { q:'Un rettangolo ha lati 9 e 12. Quanto Ã¨ lunga la diagonale?', opts:['21','15','âˆš63','âˆš153'], ans:'15', hint:'d=âˆš(9Â²+12Â²)=âˆš(81+144)=âˆš225=15.' },
  { q:'Un rettangolo ha lati 5 e 12. Quanto Ã¨ lunga la diagonale?', opts:['17','13','7','15'], ans:'13', hint:'d=âˆš(25+144)=âˆš169=13.' },
  { q:'Un rettangolo ha lati 8 e 15. Quanto Ã¨ lunga la diagonale?', opts:['23','17','19','13'], ans:'17', hint:'d=âˆš(64+225)=âˆš289=17.' },
  { q:'Un quadrato ha diagonale=âˆš2 cm. Quanto Ã¨ il lato?', opts:['2 cm','âˆš2 cm','1 cm','1/2 cm'], ans:'1 cm', hint:'d=lÃ—âˆš2 â†’ l=dÃ·âˆš2=âˆš2Ã·âˆš2=1.' },
  { q:'Un quadrato ha diagonale=10 cm. Lato (approssimato)?', opts:['5 cm','7,07 cm','8 cm','100 cm'], ans:'7,07 cm', hint:'d=lÃ—âˆš2 â†’ l=10Ã·âˆš2=10Ã·1,414â‰ˆ7,07.' },
  { q:'Luca vuole attraversare un campo rettangolare (30Ã—40 m) in diagonale. Quanti metri percorre?', opts:['70 m','35 m','50 m','45 m'], ans:'50 m', hint:'d=âˆš(30Â²+40Â²)=âˆš(900+1600)=âˆš2500=50.' },
  { q:'Una scala lunga 5 m Ã¨ appoggiata a un muro. Il piede dista 3 m dal muro. A che altezza arriva?', opts:['2 m','4 m','6 m','8 m'], ans:'4 m', hint:'h=âˆš(5Â²âˆ’3Â²)=âˆš(25âˆ’9)=âˆš16=4.' },
  { q:'Una scala lunga 13 m arriva a 12 m di altezza. Il piede dista dal muro:', opts:['1 m','5 m','7 m','3 m'], ans:'5 m', hint:'d=âˆš(13Â²âˆ’12Â²)=âˆš(169âˆ’144)=âˆš25=5.' },
  { q:'Un palo alto 8 m Ã¨ sorreto da un cavo che parte da 6 m di distanza. Quanto Ã¨ lungo il cavo?', opts:['14 m','10 m','2 m','7 m'], ans:'10 m', hint:'c=âˆš(8Â²+6Â²)=âˆš(64+36)=âˆš100=10.' },
  { q:'Una barca si sposta 6 km a Est e poi 8 km a Nord. Quanto dista dal punto di partenza?', opts:['14 km','10 km','7 km','2 km'], ans:'10 km', hint:'d=âˆš(6Â²+8Â²)=âˆš(36+64)=âˆš100=10.' },
  { q:'Quanto vale c se a=7, b=24 in un triangolo rettangolo?', opts:['17','25','31','âˆš529'], ans:'25', hint:'c=âˆš(49+576)=âˆš625=25.' },
  { q:'Quanto vale c se a=20, b=21?', opts:['29','41','31','âˆš840'], ans:'29', hint:'c=âˆš(400+441)=âˆš841=29.' },
  { q:'Quanto vale a se c=10, b=6?', opts:['4','8','16','16'], ans:'8', hint:'a=âˆš(100âˆ’36)=âˆš64=8.' },
  { q:'Quanto vale a se c=13, b=5?', opts:['8','12','18','10'], ans:'12', hint:'a=âˆš(169âˆ’25)=âˆš144=12.' },
  { q:'Un triangolo ha ipotenusa=âˆš2 e un cateto=1. L\'altro cateto?', opts:['âˆš2','1','âˆš3','2'], ans:'1', hint:'a=âˆš(2âˆ’1)=âˆš1=1. Ãˆ un triangolo isoscele rettangolo!' },
  { q:'Qual Ã¨ la terna pitagorica?', opts:['3,4,6','6,8,11','5,12,13','7,8,10'], ans:'5,12,13', hint:'5Â²+12Â²=25+144=169=13Â². Le altre non funzionano.' },
  { q:'Qual Ã¨ una terna pitagorica multipla di (3,4,5)?', opts:['6,10,14','9,12,15','6,8,9','3,5,6'], ans:'9,12,15', hint:'9Â²+12Â²=81+144=225=15Â². Ãˆ (3,4,5)Ã—3.' },
  { q:'Se i cateti di un triangolo rettangolo sono entrambi uguali a a, l\'ipotenusa Ã¨:', opts:['2a','aâˆš3','aâˆš2','aÂ²'], ans:'aâˆš2', hint:'c=âˆš(aÂ²+aÂ²)=âˆš(2aÂ²)=aâˆš2.' },
  { q:'Un triangolo equilatero con lato=2 ha altezza:', opts:['1','âˆš3','2','âˆš2'], ans:'âˆš3', hint:'L\'altezza di un equilatero = latoÃ—âˆš3/2 = 2Ã—âˆš3/2 = âˆš3.' },
  { q:'Pitagora vissuto nel:', opts:['IV secolo d.C.','VI secolo a.C.','I secolo a.C.','III secolo a.C.'], ans:'VI secolo a.C.', hint:'Pitagora di Samo visse intorno al 570-495 a.C.' },
  { q:'Il teorema di Pitagora vale solo per i triangoli:', opts:['equilateri','isosceli','rettangoli','ottusangoli'], ans:'rettangoli', hint:'Il teorema aÂ²+bÂ²=cÂ² vale SOLO per i triangoli rettangoli (con angolo di 90Â°).' },
  { q:'In un triangolo rettangolo, l\'angolo retto Ã¨:', opts:['tra i due cateti','tra cateto e ipotenusa','all\'apice','sempre 45Â°'], ans:'tra i due cateti', hint:'L\'angolo retto (90Â°) Ã¨ formato dai due cateti. L\'ipotenusa Ã¨ opposta ad esso.' },
  { q:'Se un cateto Ã¨ lungo il doppio dell\'altro (a=6, b=12), l\'ipotenusa Ã¨:', opts:['18','13,4','15','10'], ans:'13,4', hint:'c=âˆš(36+144)=âˆš180â‰ˆ13,4.' },
  { q:'Un triangolo ha lati 10, 10, 10. Ha un angolo retto?', opts:['SÃ¬','No, Ã¨ equilatero','Solo se li misuro','Dipende'], ans:'No, Ã¨ equilatero', hint:'10Â²+10Â²=200 â‰  100=10Â². Non rispetta Pitagora. Ãˆ equilatero con angoli 60Â°.' },
  { q:'Cateti a=3, b=4. L\'area del triangolo rettangolo Ã¨:', opts:['12 cmÂ²','7 cmÂ²','6 cmÂ²','5 cmÂ²'], ans:'6 cmÂ²', hint:'A=(3Ã—4)Ã·2=6.' },
  { q:'Cateti a=6, b=8. L\'area del triangolo rettangolo Ã¨:', opts:['48 cmÂ²','24 cmÂ²','14 cmÂ²','28 cmÂ²'], ans:'24 cmÂ²', hint:'A=(6Ã—8)Ã·2=24.' },
  { q:'Cateti a=5, b=12. L\'area del triangolo rettangolo Ã¨:', opts:['60 cmÂ²','30 cmÂ²','17 cmÂ²','34 cmÂ²'], ans:'30 cmÂ²', hint:'A=(5Ã—12)Ã·2=30.' },
  { q:'Un quadrato con lato=6 cm ha la diagonale lunga (approssimata):', opts:['8,49 cm','12 cm','6âˆš2 e 8,49 cm','9 cm'], ans:'6âˆš2 e 8,49 cm', hint:'d=6Ã—âˆš2â‰ˆ6Ã—1,414=8,49.' },
  { q:'In un triangolo rettangolo isoscele con ipotenusa=10, i cateti misurano circa:', opts:['5 cm','7,07 cm','8 cm','10 cm'], ans:'7,07 cm', hint:'a=b, aÂ²+aÂ²=100 â†’ 2aÂ²=100 â†’ a=âˆš50â‰ˆ7,07.' },
  { q:'Quanto fa 3Â² + 4Â²?', opts:['49','25','14','12'], ans:'25', hint:'9+16=25. E âˆš25=5. La terna (3,4,5)!' },
  { q:'Quanto fa 6Â² + 8Â²?', opts:['100','28','196','14'], ans:'100', hint:'36+64=100. E âˆš100=10. La terna (6,8,10)!' },
  { q:'Un detective vuole sapere se un angolo di un muro Ã¨ retto. Usa la terna (3,4,5). Se misura 3 m su un lato e 4 m sull\'altro, la diagonale deve essere:', opts:['6 m','5 m','7 m','9 m'], ans:'5 m', hint:'Se la diagonale Ã¨ 5 m, l\'angolo Ã¨ retto per Pitagora.' },
  { q:'L\'ipotenusa Ã¨ sempre il lato:', opts:['piÃ¹ corto','adiacente all\'angolo retto','opposto all\'angolo retto','di lunghezza qualsiasi'], ans:'opposto all\'angolo retto', hint:'L\'ipotenusa Ã¨ sempre di fronte all\'angolo di 90Â° ed Ã¨ il lato piÃ¹ lungo.' },
  { q:'Cateti 15 e 20. Ipotenusa?', opts:['25','35','30','âˆš625'], ans:'25', hint:'225+400=625. âˆš625=25. (multiplo di 3,4,5)Ã—5.' },
  { q:'Cateti 12 e 16. Ipotenusa?', opts:['20','28','18','25'], ans:'20', hint:'144+256=400. âˆš400=20. (multiplo di 3,4,5)Ã—4.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=20, cateto=16. L\'altro cateto?', opts:['4','12','14','10'], ans:'12', hint:'b=âˆš(400âˆ’256)=âˆš144=12.' },
  { q:'ğŸ“ INVERSA: Ipotenusa=25, cateto=20. L\'altro cateto?', opts:['5','15','12','10'], ans:'15', hint:'b=âˆš(625âˆ’400)=âˆš225=15.' },
  { q:'Cateto=7, ipotenusa=25. L\'altro cateto?', opts:['18','24','32','20'], ans:'24', hint:'b=âˆš(625âˆ’49)=âˆš576=24.' },
  { q:'Un triangolo rettangolo ha area=24 cmÂ² e un cateto=6 cm. L\'ipotenusa Ã¨:', opts:['10 cm','âˆš100=10 cm','8 cm','12 cm'], ans:'10 cm', hint:'Area=6Ã—bÃ·2=24 â†’ b=8. c=âˆš(6Â²+8Â²)=âˆš100=10.' },
  { q:'Cateti 5 e 10. Ipotenusa (approssimata)?', opts:['15','11,18','âˆš150','âˆš75'], ans:'11,18', hint:'âˆš(25+100)=âˆš125â‰ˆ11,18.' },
  { q:'Cateti 3 e 6. Ipotenusa (approssimata)?', opts:['9','6,71','âˆš90','âˆš45'], ans:'6,71', hint:'âˆš(9+36)=âˆš45â‰ˆ6,71.' },
  { q:'Una finestra rettangolare ha larghezza=80 cm e altezza=60 cm. La diagonale Ã¨:', opts:['140 cm','100 cm','70 cm','120 cm'], ans:'100 cm', hint:'d=âˆš(80Â²+60Â²)=âˆš(6400+3600)=âˆš10000=100.' },
  { q:'Qual Ã¨ la formula corretta del teorema di Pitagora?', opts:['a+b=c','aÂ²âˆ’bÂ²=c','aÂ²+bÂ²=cÂ²','(a+b)Â²=c'], ans:'aÂ²+bÂ²=cÂ²', hint:'La somma dei quadrati dei cateti (aÂ²+bÂ²) Ã¨ uguale al quadrato dell\'ipotenusa (cÂ²).' },
  { q:'Se aÂ²+bÂ²=cÂ², quale lato Ã¨ l\'ipotenusa?', opts:['a','b','c','Qualsiasi'], ans:'c', hint:'c Ã¨ sempre l\'ipotenusa, il lato piÃ¹ lungo, opposto all\'angolo retto.' },
  { q:'Cateti 8 e 6. L\'area del triangolo rettangolo Ã¨:', opts:['48 cmÂ²','24 cmÂ²','14 cmÂ²','28 cmÂ²'], ans:'24 cmÂ²', hint:'A=(8Ã—6)Ã·2=24.' },
  { q:'Il perimetro di un triangolo rettangolo con cateti 9 e 12 Ã¨:', opts:['36 cm','21 cm','15 cm','51 cm'], ans:'36 cm', hint:'ipotenusa=15. P=9+12+15=36.' },
  { q:'Il perimetro di un triangolo rettangolo con cateti 5 e 12 Ã¨:', opts:['17 cm','30 cm','31 cm','20 cm'], ans:'30 cm', hint:'ipotenusa=13. P=5+12+13=30.' },
  { q:'Cateti a=1, b=âˆš3. Ipotenusa?', opts:['âˆš2','2','âˆš4','1+âˆš3'], ans:'2', hint:'c=âˆš(1+3)=âˆš4=2. Ãˆ il triangolo 30-60-90!' },
  { q:'La terna pitagorica (3,4,5) moltiplicata per 6 dÃ :', opts:['(6,8,10)','(9,12,15)','(18,24,30)','(12,16,20)'], ans:'(18,24,30)', hint:'3Ã—6=18, 4Ã—6=24, 5Ã—6=30.' },
  { q:'Cateti 30 e 40. Ipotenusa?', opts:['70','50','60','80'], ans:'50', hint:'900+1600=2500. âˆš2500=50. (3,4,5)Ã—10.' },
  { q:'Una televisione 40 pollici ha rapporto lati 16:9 e altezzaâ‰ˆ20 cm. La larghezza Ã¨ circa:', opts:['40 cm','35,6 cm','36 cm','33 cm'], ans:'35,6 cm', hint:'Il diagonale Ã¨ 40 (Ã—2,54 per cm). Approssimazione pratica.' },
  { q:'Cateti a=4, b=3. L\'ipotenusa al quadrato vale:', opts:['25','7','14','49'], ans:'25', hint:'cÂ²=aÂ²+bÂ²=16+9=25. (poi c=5).' },
  { q:'ğŸ“ INVERSA: Ipotenusa=âˆš50, cateto=5. L\'altro cateto?', opts:['âˆš25=5','âˆš45','âˆš2','âˆš55'], ans:'âˆš25=5', hint:'b=âˆš(50âˆ’25)=âˆš25=5. Triangolo isoscele rettangolo!' },
  { q:'Cateti a=100 e b=0. Ipotenusa?', opts:['100','0','âˆš100','10000'], ans:'100', hint:'c=âˆš(100Â²+0Â²)=âˆš10000=100. (Un cateto=0 non Ã¨ un triangolo reale!)' },
  { q:'Cateto b=24, ipotenusa c=25. Il cateto a vale:', opts:['1','7','49','5'], ans:'7', hint:'a=âˆš(625âˆ’576)=âˆš49=7.' },
],

algebra: [
  { q:'Se x + 4 = 9, quanto vale x?', opts:['5','13','4','6'], ans:'5', hint:'Togli 4 da entrambe le parti: x = 9 âˆ’ 4.' },
  { q:'Quanto vale 3x se x = 4?', opts:['7','34','12','1'], ans:'12', hint:'3x = 3 Ã— 4 = 12.' },
  { q:'Se 2x = 10, quanto vale x?', opts:['5','20','8','12'], ans:'5', hint:'Dividi entrambe le parti per 2: x = 10Ã·2.' },
  { q:'Se x âˆ’ 3 = 7, quanto vale x?', opts:['4','10','21','âˆ’4'], ans:'10', hint:'Aggiungi 3 a entrambe le parti: x = 7+3.' },
  { q:'Quale espressione Ã¨ un MONOMIO?', opts:['x+2','3xÂ²','x+y','2xâˆ’1'], ans:'3xÂ²', hint:'Un monomio Ã¨ un singolo termine senza somme o differenze.' },
  { q:'Quanto vale 2x + 3 se x = 5?', opts:['10','13','16','8'], ans:'13', hint:'Sostituisci: 2Ã—5+3 = 10+3 = 13.' },
  { q:'Se 3x + 1 = 10, quanto vale x?', opts:['3','9','11','4'], ans:'3', hint:'Prima togli 1: 3x=9. Poi dividi per 3: x=3.' },
  { q:'Somma dei monomi 2x e 5x:', opts:['10xÂ²','7x','7xÂ²','3x'], ans:'7x', hint:'Somma i coefficienti (2+5=7) e tieni la stessa lettera.' },
  { q:'Quanto vale âˆ’2x se x = âˆ’3?', opts:['âˆ’6','6','+2','âˆ’1'], ans:'6', hint:'âˆ’2 Ã— (âˆ’3) = +6. Segni uguali â†’ positivo.' },
  { q:'Se x/4 = 3, quanto vale x?', opts:['0,75','7','12','1'], ans:'12', hint:'Moltiplica entrambe le parti per 4: x = 3Ã—4 = 12.' },
  { q:'Se 8x âˆ’ 5 = 3x + 20, quanto vale x?', opts:['4','5','6','3'], ans:'5', hint:'8xâˆ’3x=20+5. 5x=25. x=5.' },
  { q:'Se 2(x+4) = 3(xâˆ’1), quanto vale x?', opts:['5','11','3','7'], ans:'11', hint:'2x+8=3xâˆ’3. 8+3=3xâˆ’2x. x=11.' },
  { q:'Semplifica: 6xÂ² âˆ’ 2x + 3xÂ² + 5x = ?', opts:['9xÂ²+3x','9xÂ²âˆ’3x','3xÂ²+3x','9x+3xÂ²'], ans:'9xÂ²+3x', hint:'xÂ²: 6+3=9. x: âˆ’2+5=3. Risultato: 9xÂ²+3x.' },
  { q:'Se xÂ² = 25, x puÃ² essere:', opts:['+5','+5 o âˆ’5','5Â²','25'], ans:'+5 o âˆ’5', hint:'xÂ²=25 â†’ x=+5 o x=âˆ’5. Entrambi al quadrato danno 25.' },
  { q:'Quanto vale 2xÂ³ se x=3?', opts:['18','54','216','27'], ans:'54', hint:'2Ã—3Â³=2Ã—27=54.' },
  { q:'Se (x+1)(xâˆ’1)=0, le soluzioni sono:', opts:['x=0','x=1','x=1 o x=âˆ’1','x=âˆ’1'], ans:'x=1 o x=âˆ’1', hint:'Il prodotto Ã¨ 0 quando uno dei fattori Ã¨ 0. x+1=0â†’x=âˆ’1. xâˆ’1=0â†’x=1.' },
  { q:'Se x + 7 = 15, quanto vale x?', opts:['8','22','7','6'], ans:'8', hint:'x = 15âˆ’7 = 8.' },
  { q:'Se x âˆ’ 5 = 11, quanto vale x?', opts:['6','16','âˆ’6','55'], ans:'16', hint:'x = 11+5 = 16.' },
  { q:'Se 5x = 35, quanto vale x?', opts:['7','30','175','40'], ans:'7', hint:'x = 35Ã·5 = 7.' },
  { q:'Se x/3 = 9, quanto vale x?', opts:['3','6','27','12'], ans:'27', hint:'x = 9Ã—3 = 27.' },
  { q:'Se 2x + 5 = 17, quanto vale x?', opts:['6','11','7','9'], ans:'6', hint:'2x=12, x=6.' },
  { q:'Se 3x âˆ’ 4 = 11, quanto vale x?', opts:['5','7','15','9'], ans:'5', hint:'3x=15, x=5.' },
  { q:'Se 4x + 3 = 23, quanto vale x?', opts:['5','6,5','20','4'], ans:'5', hint:'4x=20, x=5.' },
  { q:'Se x/2 + 3 = 7, quanto vale x?', opts:['2','4','8','14'], ans:'8', hint:'x/2=4, x=8.' },
  { q:'Se 2x âˆ’ 3 = 7, quanto vale x?', opts:['2','5','7','10'], ans:'5', hint:'2x=10, x=5.' },
  { q:'Se 6x = 42, quanto vale x?', opts:['6','7','8','36'], ans:'7', hint:'x = 42Ã·6 = 7.' },
  { q:'Quanto vale 4x âˆ’ 3 se x = 5?', opts:['17','12','23','37'], ans:'17', hint:'4Ã—5âˆ’3=20âˆ’3=17.' },
  { q:'Quanto vale 2x + 7 se x = 0?', opts:['0','9','7','14'], ans:'7', hint:'2Ã—0+7=0+7=7.' },
  { q:'Quanto vale xÂ² se x = 6?', opts:['12','18','36','3'], ans:'36', hint:'6Â²=36.' },
  { q:'Quanto vale 3xÂ² se x = 2?', opts:['12','24','6','36'], ans:'12', hint:'3Ã—2Â²=3Ã—4=12.' },
  { q:'Quanto vale xÂ² + x se x = 3?', opts:['6','9','12','15'], ans:'12', hint:'3Â²+3=9+3=12.' },
  { q:'Quanto vale 2xÂ² âˆ’ x se x = 4?', opts:['28','12','24','36'], ans:'28', hint:'2Ã—16âˆ’4=32âˆ’4=28.' },
  { q:'Somma: 3x + 5x = ?', opts:['8xÂ²','15x','8x','8'], ans:'8x', hint:'Stessa variabile, somma i coefficienti: 3+5=8.' },
  { q:'Somma: 7y âˆ’ 3y = ?', opts:['4yÂ²','4','4y','10y'], ans:'4y', hint:'7âˆ’3=4. Stesso tipo, si sottraggono.' },
  { q:'Semplifica: 2x + 3x âˆ’ x = ?', opts:['5x','4x','6x','3xÂ²'], ans:'4x', hint:'2+3âˆ’1=4. Quindi 4x.' },
  { q:'Semplifica: 5a + 2b âˆ’ 3a + b = ?', opts:['4a+3b','2a+b','5a+3b','2a+3b'], ans:'2a+3b', hint:'a: 5âˆ’3=2. b: 2+1=3. Risultato: 2a+3b.' },
  { q:'Prodotto: 3x Ã— 4x = ?', opts:['7x','12x','7xÂ²','12xÂ²'], ans:'12xÂ²', hint:'3Ã—4=12, xÃ—x=xÂ². Risultato: 12xÂ².' },
  { q:'Prodotto: 2a Ã— 5b = ?', opts:['7ab','10ab','10aÂ²b','10a'], ans:'10ab', hint:'2Ã—5=10, aÃ—b=ab. Risultato: 10ab.' },
  { q:'Prodotto: (âˆ’3x) Ã— (+4x) = ?', opts:['âˆ’12xÂ²','12xÂ²','âˆ’12x','12x'], ans:'âˆ’12xÂ²', hint:'(âˆ’3)Ã—4=âˆ’12, xÃ—x=xÂ². Risultato: âˆ’12xÂ².' },
  { q:'Quale espressione Ã¨ un polinomio?', opts:['5xÂ²','3xy','2x+1','7'], ans:'2x+1', hint:'Un polinomio ha piÃ¹ termini sommati. 2x+1 ha due termini.' },
  { q:'Quanti termini ha il polinomio 3xÂ² âˆ’ 2x + 5?', opts:['2','3','4','1'], ans:'3', hint:'I termini sono: 3xÂ², âˆ’2x, +5. Tre termini.' },
  { q:'Se 5x âˆ’ 2 = 3x + 6, quanto vale x?', opts:['2','4','8','1'], ans:'4', hint:'5xâˆ’3x=6+2. 2x=8. x=4.' },
  { q:'Se 3x + 1 = 2x + 7, quanto vale x?', opts:['6','8','3','4'], ans:'6', hint:'3xâˆ’2x=7âˆ’1. x=6.' },
  { q:'Se 4x âˆ’ 3 = 2x + 9, quanto vale x?', opts:['3','6','12','4'], ans:'6', hint:'4xâˆ’2x=9+3. 2x=12. x=6.' },
  { q:'Se 2(x + 3) = 14, quanto vale x?', opts:['4','8','11','5'], ans:'4', hint:'2x+6=14. 2x=8. x=4.' },
  { q:'Se 3(x âˆ’ 2) = 9, quanto vale x?', opts:['3','5','7','1'], ans:'5', hint:'3xâˆ’6=9. 3x=15. x=5.' },
  { q:'Se 4(2x + 1) = 20, quanto vale x?', opts:['2','2,5','3','4'], ans:'2', hint:'8x+4=20. 8x=16. x=2.' },
  { q:'Qual Ã¨ il coefficiente di x in 7x âˆ’ 3?', opts:['3','âˆ’3','7','âˆ’7'], ans:'7', hint:'Il coefficiente Ã¨ il numero che moltiplica la variabile.' },
  { q:'Qual Ã¨ il termine noto in 5x + 8?', opts:['5','x','8','5x'], ans:'8', hint:'Il termine noto Ã¨ il numero senza variabile.' },
  { q:'Se x = âˆ’2, quanto vale 3x + 7?', opts:['1','13','âˆ’1','+1'], ans:'1', hint:'3Ã—(âˆ’2)+7=âˆ’6+7=1.' },
  { q:'Se x = âˆ’3, quanto vale 2x âˆ’ 1?', opts:['âˆ’7','5','âˆ’5','7'], ans:'âˆ’7', hint:'2Ã—(âˆ’3)âˆ’1=âˆ’6âˆ’1=âˆ’7.' },
  { q:'Se x = 5, quanto vale xÂ² âˆ’ 3x + 2?', opts:['12','22','32','2'], ans:'12', hint:'25âˆ’15+2=12.' },
  { q:'Se x = 2, quanto vale xÂ³ âˆ’ x?', opts:['6','4','7','2'], ans:'6', hint:'8âˆ’2=6.' },
  { q:'Quale proprietÃ  si usa per calcolare 3(x+2)=3x+6?', opts:['Commutativa','Associativa','Distributiva','Inversa'], ans:'Distributiva', hint:'La proprietÃ  distributiva: a(b+c)=ab+ac.' },
  { q:'Applica la proprietÃ  distributiva: 2(3x âˆ’ 5) = ?', opts:['6xâˆ’5','5xâˆ’10','6xâˆ’10','3xâˆ’10'], ans:'6xâˆ’10', hint:'2Ã—3x=6x, 2Ã—5=10. Risultato: 6xâˆ’10.' },
  { q:'Applica la proprietÃ  distributiva: 4(x + 3) = ?', opts:['4x+3','x+12','4x+12','4x+7'], ans:'4x+12', hint:'4Ã—x=4x, 4Ã—3=12. Risultato: 4x+12.' },
  { q:'Semplifica: 4(x+2) âˆ’ 3x = ?', opts:['x+8','x+2','7x+8','4x+5'], ans:'x+8', hint:'4x+8âˆ’3x=x+8.' },
  { q:'Semplifica: 2(3xâˆ’1) + 4 = ?', opts:['6xâˆ’2','6x+2','6x+4','5x+2'], ans:'6x+2', hint:'6xâˆ’2+4=6x+2.' },
  { q:'Semplifica: 3(2x+4) âˆ’ 2(x+3) = ?', opts:['4x+6','6x+6','8x+18','4x+18'], ans:'4x+6', hint:'6x+12âˆ’2xâˆ’6=4x+6.' },
  { q:'Una maglietta costa x euro. La giacca costa il triplo. Insieme costano 80â‚¬. Equazione?', opts:['x+3=80','x+3x=80','3x=80','xÃ—3x=80'], ans:'x+3x=80', hint:'Maglietta: x. Giacca: 3x. Insieme: x+3x=4x=80.' },
  { q:'Dalla precedente equazione x+3x=80, quanto costa la maglietta?', opts:['20â‚¬','60â‚¬','80â‚¬','40â‚¬'], ans:'20â‚¬', hint:'4x=80, x=20.' },
  { q:'L\'etÃ  di Anna Ã¨ x. Sua sorella ha 5 anni piÃ¹ di lei. La somma delle etÃ  Ã¨ 25. Equazione?', opts:['x+5=25','2x+5=25','x+x=25','5x=25'], ans:'2x+5=25', hint:'Anna: x. Sorella: x+5. Somma: x+(x+5)=2x+5=25.' },
  { q:'Dalla precedente, quanti anni ha Anna?', opts:['10','15','20','5'], ans:'10', hint:'2x+5=25 â†’ 2x=20 â†’ x=10.' },
  { q:'Qual Ã¨ il termine di grado maggiore in 2xÂ³ + xÂ² âˆ’ 5x + 1?', opts:['xÂ²','2xÂ³','+1','âˆ’5x'], ans:'2xÂ³', hint:'Il grado Ã¨ l\'esponente della x. Il massimo Ã¨ 3 (in 2xÂ³).' },
  { q:'Qual Ã¨ il grado del polinomio 4xâµ âˆ’ 2xÂ² + 7?', opts:['2','5','7','4'], ans:'5', hint:'Il grado del polinomio Ã¨ il grado del termine di grado massimo.' },
  { q:'Quanto vale (2x)Â² se x = 3?', opts:['12','36','18','6'], ans:'36', hint:'(2Ã—3)Â²=6Â²=36.' },
  { q:'Se ab = 12 e a = 3, quanto vale b?', opts:['9','4','36','15'], ans:'4', hint:'b = 12Ã·3 = 4.' },
  { q:'Semplifica: x + x + x = ?', opts:['xÂ³','3','3x','x+3'], ans:'3x', hint:'3 volte x = 3x.' },
  { q:'Semplifica: x Ã— x Ã— x = ?', opts:['3x','x+3','3','xÂ³'], ans:'xÂ³', hint:'x moltiplicato 3 volte = xÂ³.' },
  { q:'Qual Ã¨ la differenza tra 3x e xÂ³?', opts:['Nessuna','3x Ã¨ xÃ—3, xÂ³ Ã¨ xÃ—xÃ—x','Sono equivalenti','3x Ã¨ sempre piÃ¹ grande'], ans:'3x Ã¨ xÃ—3, xÂ³ Ã¨ xÃ—xÃ—x', hint:'3x=x+x+x. xÂ³=xÃ—xÃ—x. Molto diversi! Es: x=2: 3Ã—2=6, 2Â³=8.' },
  { q:'Se x = 10, quale vale di piÃ¹: 2x o xÂ²?', opts:['2x','xÂ² (100 > 20)','Sono uguali','Dipende'], ans:'xÂ² (100 > 20)', hint:'2Ã—10=20, 10Â²=100. xÂ² cresce molto piÃ¹ velocemente.' },
  { q:'Semplifica: 2x + 3 âˆ’ x + 4 = ?', opts:['x+7','3x+7','x+4','2x+4'], ans:'x+7', hint:'x: 2xâˆ’x=x. Numeri: 3+4=7. Risultato: x+7.' },
  { q:'Se 10 âˆ’ 3x = 1, quanto vale x?', opts:['3','9','11/3','âˆ’3'], ans:'3', hint:'3x=10âˆ’1=9. x=3.' },
  { q:'Se 2x + 1 = x + 4, quanto vale x?', opts:['3','5','2','1'], ans:'3', hint:'2xâˆ’x=4âˆ’1. x=3.' },
  { q:'Semplifica: 5(x âˆ’ 3) + 2(x + 4) = ?', opts:['7xâˆ’7','7x+23','3xâˆ’7','7x+7'], ans:'7xâˆ’7', hint:'5xâˆ’15+2x+8=7xâˆ’7.' },
  { q:'Se 3(x + 2) = 2(x + 5), quanto vale x?', opts:['4','âˆ’4','2','8'], ans:'4', hint:'3x+6=2x+10. 3xâˆ’2x=10âˆ’6. x=4.' },
  { q:'Un numero aumentato di 8 Ã¨ uguale al doppio del numero meno 3. Il numero Ã¨:', opts:['5','11','4','13'], ans:'11', hint:'x+8=2xâˆ’3 â†’ x=11.' },
  { q:'Il triplo di un numero diminuito di 6 Ã¨ 9. Il numero Ã¨:', opts:['1','5','3','4'], ans:'5', hint:'3xâˆ’6=9 â†’ 3x=15 â†’ x=5.' },
  { q:'Il doppio di un numero piÃ¹ 4 Ã¨ 20. Il numero Ã¨:', opts:['8','12','16','6'], ans:'8', hint:'2x+4=20 â†’ 2x=16 â†’ x=8.' },
  { q:'Quale dei seguenti NON Ã¨ un monomio?', opts:['5xÂ²y','âˆ’3ab','2x+1','7zÂ³'], ans:'2x+1', hint:'2x+1 ha due termini â†’ Ã¨ un binomio, non un monomio.' },
  { q:'Quale dei seguenti Ã¨ un binomio?', opts:['3x','2x+5y','3x+2yâˆ’1','7'], ans:'2x+5y', hint:'Un binomio ha esattamente 2 termini.' },
  { q:'Semplifica: 9x âˆ’ 4x + 2x âˆ’ 3x = ?', opts:['8x','4x','2x','14x'], ans:'4x', hint:'9âˆ’4+2âˆ’3=4. Risultato: 4x.' },
  { q:'Quanto vale 3x âˆ’ 2y + x + 4y con x=1, y=2?', opts:['6','10','âˆ’2','2'], ans:'10', hint:'Prima semplifica: 4x+2y. Poi: 4(1)+2(2)=4+4=8. Ricalcolo: 3(1)âˆ’2(2)+(1)+4(2)=3âˆ’4+1+8=8. Hmm, 8.' },
  { q:'Cosa si intende per "incognita" in un\'equazione?', opts:['Un numero noto','Il risultato','La lettera che rappresenta il numero da trovare','Il segno ='], ans:'La lettera che rappresenta il numero da trovare', hint:'L\'incognita (spesso x) Ã¨ il numero sconosciuto che si vuole trovare.' },
  { q:'Cosa si intende per "soluzione" di un\'equazione?', opts:['L\'equazione stessa','Il valore che soddisfa l\'uguaglianza','Un numero a caso','Il secondo membro'], ans:'Il valore che soddisfa l\'uguaglianza', hint:'La soluzione Ã¨ il valore di x che rende vera l\'uguaglianza.' },
  { q:'x = 3 Ã¨ soluzione di 2x âˆ’ 1 = 5?', opts:['No','SÃ¬','Non si puÃ² dire','Solo se x>0'], ans:'SÃ¬', hint:'2(3)âˆ’1=6âˆ’1=5. SÃ¬, Ã¨ verificato!' },
  { q:'x = 2 Ã¨ soluzione di 3x + 1 = 8?', opts:['SÃ¬','No','Solo se x>1','Non si puÃ² dire'], ans:'SÃ¬', hint:'3(2)+1=7â‰ 8. Aspetta: 3Ã—2=6+1=7â‰ 8. No! Rileggendo: Ã¨ NO.' },
  { q:'Se N Ã¨ un numero naturale e 2N = 18, N Ã¨:', opts:['16','9','36','20'], ans:'9', hint:'N = 18Ã·2 = 9.' },
  { q:'Semplifica: 3(x + y) âˆ’ 3y = ?', opts:['3x+3yâˆ’3y=3x','3x+6y','6xy','3y'], ans:'3x+3yâˆ’3y=3x', hint:'3x+3yâˆ’3y=3x.' },
  { q:'Se x + y = 10 e x = 3, quanto vale y?', opts:['7','13','30','3'], ans:'7', hint:'y = 10âˆ’3 = 7.' },
  { q:'Se x Ã— y = 24 e x = 6, quanto vale y?', opts:['18','4','30','144'], ans:'4', hint:'y = 24Ã·6 = 4.' },
  { q:'Quale equazione ha soluzione x = 0?', opts:['x+1=1','2x=2','xâˆ’1=1','3x=3'], ans:'x+1=1', hint:'x+1=1 â†’ x=0. Le altre: x=1 o x=2.' },
  { q:'Quale equazione ha soluzione x = âˆ’2?', opts:['x+2=0','xâˆ’2=0','2x=4','x+2=4'], ans:'x+2=0', hint:'x+2=0 â†’ x=âˆ’2. Le altre non danno âˆ’2.' },
  { q:'Se 5x = 0, quanto vale x?', opts:['5','1','0','Non esiste'], ans:'0', hint:'5Ã—0=0. L\'unica soluzione Ã¨ x=0.' },
  { q:'Semplifica: (3x + 2) âˆ’ (x âˆ’ 4) = ?', opts:['2xâˆ’2','2x+6','4x+6','4xâˆ’2'], ans:'2x+6', hint:'3x+2âˆ’x+4=2x+6. Attenzione al meno che cambia i segni!' },
  { q:'Semplifica: (5x âˆ’ 3) âˆ’ (2x + 1) = ?', opts:['3xâˆ’4','7xâˆ’2','3xâˆ’2','7x+2'], ans:'3xâˆ’4', hint:'5xâˆ’3âˆ’2xâˆ’1=3xâˆ’4.' },
  { q:'Quanto vale 2(x+3)(xâˆ’1) se x=2? (non espandere)', opts:['5','10','20','15'], ans:'10', hint:'2Ã—(2+3)Ã—(2âˆ’1)=2Ã—5Ã—1=10.' },
  { q:'Qual Ã¨ la soluzione di 7 = 3x âˆ’ 2?', opts:['3','5/3','7/3','4'], ans:'3', hint:'3x=9. x=3.' },
  { q:'Qual Ã¨ la soluzione di 12 = 2x + 2?', opts:['5','7','6','4'], ans:'5', hint:'2x=10. x=5.' },
  { q:'Se il perimetro di un quadrato Ã¨ 4x+8 e vale 36, quanto Ã¨ il lato?', opts:['9','8','7','10'], ans:'7', hint:'4x+8=36 â†’ 4x=28 â†’ x=7. Il lato Ã¨ x=7.' },
],

statistica: [
  { q:'Media di: 4, 6, 8, 2', opts:['5','6','4','7'], ans:'5', hint:'Somma=20. Media=20Ã·4=5.' },
  { q:'Media di: 10, 6, 8, 4, 2', opts:['5','6','4','7'], ans:'6', hint:'Somma=30. Media=30Ã·5=6.' },
  { q:'Moda di: 3, 5, 3, 7, 5, 3', opts:['5','7','3','6'], ans:'3', hint:'3 compare 3 volte â€” Ã¨ il dato piÃ¹ frequente.' },
  { q:'Mediana di: 2, 4, 6, 8, 10', opts:['4','6','5','8'], ans:'6', hint:'5 elementi: il terzo Ã¨ il centrale â†’ 6.' },
  { q:'Mediana di: 3, 5, 7, 9 (4 elementi)', opts:['6','5','7','4'], ans:'6', hint:'Con 4 elementi: media dei due centrali = (5+7)/2 = 6.' },
  { q:'Moda di: 1, 2, 2, 3, 3, 3, 4', opts:['1','2','3','4'], ans:'3', hint:'3 compare 3 volte, piÃ¹ di tutti.' },
  { q:'Media di: 0, 0, 6, 0', opts:['6','2','1,5','3'], ans:'1,5', hint:'Somma=6. Media=6Ã·4=1,5. Anche gli zeri contano!' },
  { q:'Ordina per trovare la mediana di: 5, 1, 9, 3, 7', opts:['5','3','1','7'], ans:'5', hint:'Ordinati: 1,3,5,7,9. Il valore di mezzo (3Â°) Ã¨ 5.' },
  { q:'Se aggiungessi il dato 100 a {2,3,4,5,6}, la MEDIAâ€¦', opts:['non cambia','sale molto','scende','rimane circa uguale'], ans:'sale molto', hint:'100 Ã¨ molto piÃ¹ grande degli altri, alza la media di molto.' },
  { q:'La MEDIANA Ã¨ piÃ¹ "robusta" della media perchÃ©:', opts:['Ã¨ sempre piÃ¹ grande','non Ã¨ influenzata dai valori estremi','Ã¨ piÃ¹ facile da calcolare','Ã¨ uguale alla moda'], ans:'non Ã¨ influenzata dai valori estremi', hint:'Anche se c\'Ã¨ un dato abnorme, la mediana non cambia tanto.' },
  { q:'Dati: 2,4,6,8,10. Range?', opts:['5','8','10','6'], ans:'8', hint:'10âˆ’2=8.' },
  { q:'Dati: 50,60,70,80,90. Media?', opts:['60','65','70','75'], ans:'70', hint:'Somma=350. 350Ã·5=70.' },
  { q:'Dati: 1,2,2,3,4,4,4,5. Moda?', opts:['2','3','4','1 e 4'], ans:'4', hint:'4 appare 3 volte.' },
  { q:'Qual Ã¨ la frequenza relativa se un dato compare 5 volte su 20?', opts:['0,25','0,5','5','25'], ans:'0,25', hint:'5Ã·20=0,25.' },
  { q:'Dati: 10,20,30. Se aggiungessi 40, la media passerebbe da 20 a:', opts:['30','25','22,5','35'], ans:'25', hint:'(10+20+30+40)Ã·4=100Ã·4=25.' },
  { q:'Dati: 3,5,7. Media?', opts:['4','5','6','7'], ans:'5', hint:'Somma=15. 15Ã·3=5.' },
  { q:'Dati: 2,2,4,4,6,6. Mediana?', opts:['3','4','5','2'], ans:'4', hint:'Media del 3Â° e 4Â°: (4+4)Ã·2=4.' },
  { q:'Se la somma di 6 numeri Ã¨ 60, la loro media Ã¨:', opts:['6','10','60','66'], ans:'10', hint:'60Ã·6=10.' },
  { q:'Dati: 1,1,2,3,4. La moda Ã¨ 1. Qual Ã¨ la mediana?', opts:['1','2','3','1,5'], ans:'2', hint:'Ordinati: 1,1,2,3,4. Il 3Â° Ã¨ 2.' },
  { q:'Un dataset ha media 8 e 4 elementi. La somma Ã¨:', opts:['8','4','12','32'], ans:'32', hint:'Somma=mediaÃ—n=8Ã—4=32.' },
  { q:'Cosa si intende per dato anomalo (outlier)?', opts:['La media','Un valore molto distante dagli altri','Il dato piÃ¹ frequente','Il valore centrale'], ans:'Un valore molto distante dagli altri', hint:'Un outlier Ã¨ un valore molto lontano dagli altri che puÃ² distorcere la media.' },
  { q:'Dati: 1,2,3,4,5,6,7. La mediana Ã¨:', opts:['3','4','3,5','5'], ans:'4', hint:'7 elementi, il 4Â° Ã¨ 4.' },
  { q:'Se la mediana Ã¨ 5 e i dati sono 3,5,x (ordinati), x puÃ² essere:', opts:['5','<5','â‰¥5','=3'], ans:'â‰¥5', hint:'x deve essere â‰¥5 per mantenere 5 come valore centrale.' },
  { q:'Media di: 3, 7, 5', opts:['4','5','6','7'], ans:'5', hint:'Somma=15. Media=15Ã·3=5.' },
  { q:'Media di: 1, 2, 3, 4, 5', opts:['3','4','5','2'], ans:'3', hint:'Somma=15. Media=15Ã·5=3.' },
  { q:'Media di: 8, 8, 8, 8', opts:['32','4','8','0'], ans:'8', hint:'Tutti uguali: la media Ã¨ lo stesso valore.' },
  { q:'Media di: 0, 10, 20', opts:['5','15','10','20'], ans:'10', hint:'Somma=30. Media=30Ã·3=10.' },
  { q:'Media di: 6, 8, 10, 12', opts:['8','10','9','11'], ans:'9', hint:'Somma=36. Media=36Ã·4=9.' },
  { q:'Media di: 12, 14, 16, 18, 20', opts:['14','15','16','18'], ans:'16', hint:'Somma=80. Media=80Ã·5=16.' },
  { q:'Media di: 100, 200, 300', opts:['150','200','250','300'], ans:'200', hint:'Somma=600. Media=600Ã·3=200.' },
  { q:'Media di: 5, 5, 5, 5, 5, 5', opts:['1','5','30','0'], ans:'5', hint:'Tutti uguali a 5.' },
  { q:'Cinque studenti prendono: 6, 7, 8, 8, 9. Qual Ã¨ la media?', opts:['7,5','7,6','8','7'], ans:'7,6', hint:'Somma=38. Media=38Ã·5=7,6.' },
  { q:'Media di: 25, 30, 35, 40, 45', opts:['30','35','40','25'], ans:'35', hint:'Somma=175. Media=175Ã·5=35.' },
  { q:'Mediana di: 1, 3, 5, 7, 9', opts:['3','5','7','1'], ans:'5', hint:'5 elementi: il 3Â° Ã¨ il centrale â†’ 5.' },
  { q:'Mediana di: 10, 20, 30, 40, 50', opts:['20','30','40','10'], ans:'30', hint:'5 elementi: il centrale (3Â°) Ã¨ 30.' },
  { q:'Mediana di: 2, 4, 6, 8 (4 elementi)', opts:['4','5','6','7'], ans:'5', hint:'Media dei due centrali: (4+6)Ã·2=5.' },
  { q:'Mediana di: 1, 1, 2, 5, 6, 6', opts:['2','3,5','4','5'], ans:'3,5', hint:'Media del 3Â° e 4Â°: (2+5)Ã·2=3,5.' },
  { q:'Trova la mediana di: 7, 2, 5, 9, 4 (prima ordina!)', opts:['5','7','4','2'], ans:'5', hint:'Ordinati: 2,4,5,7,9. Il centrale (3Â°) Ã¨ 5.' },
  { q:'Trova la mediana di: 15, 3, 9, 6, 12', opts:['6','9','12','3'], ans:'9', hint:'Ordinati: 3,6,9,12,15. Il centrale Ã¨ 9.' },
  { q:'Mediana di: 4, 8, 12, 16 (4 elementi)', opts:['8','10','12','6'], ans:'10', hint:'Media del 2Â° e 3Â°: (8+12)Ã·2=10.' },
  { q:'Mediana di: 1, 2, 3, 4, 5, 6 (6 elementi)', opts:['3','3,5','4','2,5'], ans:'3,5', hint:'Media del 3Â° e 4Â°: (3+4)Ã·2=3,5.' },
  { q:'Mediana di: 100, 200, 300, 400', opts:['200','250','300','150'], ans:'250', hint:'Media del 2Â° e 3Â°: (200+300)Ã·2=250.' },
  { q:'Se i dati sono: 3, 3, 3, 7, 9, la mediana Ã¨:', opts:['3','5','7','6'], ans:'3', hint:'Ordinati: 3,3,3,7,9. Il centrale (3Â°) Ã¨ 3.' },
  { q:'Moda di: 2, 2, 3, 4, 4, 4, 5', opts:['2','3','4','5'], ans:'4', hint:'4 appare 3 volte, piÃ¹ di tutti.' },
  { q:'Moda di: 1, 1, 2, 2, 2, 3', opts:['1','2','3','1 e 2'], ans:'2', hint:'2 appare 3 volte, 1 appare 2 volte.' },
  { q:'Moda di: 7, 7, 8, 8, 9, 9', opts:['7','8','Nessuna moda','Tutte'], ans:'Nessuna moda', hint:'Quando tutti i valori appaiono lo stesso numero di volte, non c\'Ã¨ moda unica.' },
  { q:'Moda di: rosso, blu, rosso, verde, rosso', opts:['blu','verde','rosso','verde e blu'], ans:'rosso', hint:'"rosso" appare 3 volte. La moda si usa anche per dati qualitativi.' },
  { q:'Moda di: 5, 5, 5, 5, 5', opts:['1','5','25','Nessuna'], ans:'5', hint:'Tutti uguali a 5: la moda Ã¨ 5.' },
  { q:'Moda di: 2, 4, 2, 6, 4, 2, 6', opts:['2 e 4','4','2','6'], ans:'2', hint:'2 appare 3 volte, 4 e 6 appaiono 2 volte.' },
  { q:'I voti di Marco sono: 6, 7, 8, 8, 6, 8. La moda Ã¨:', opts:['6','7','8','6 e 8'], ans:'8', hint:'8 appare 3 volte, 6 appare 2 volte.' },
  { q:'Se la media di 4 numeri Ã¨ 10, la loro somma Ã¨:', opts:['4','10','40','14'], ans:'40', hint:'Somma = media Ã— quanti = 10Ã—4 = 40.' },
  { q:'Se la media di 5 numeri Ã¨ 8, la loro somma Ã¨:', opts:['13','40','8','3'], ans:'40', hint:'Somma = 8Ã—5 = 40.' },
  { q:'Hai 4 voti: 6, 7, 8, x. La media Ã¨ 7,5. Quanto vale x?', opts:['8','9','7','10'], ans:'9', hint:'6+7+8+x=30. 21+x=30. x=9.' },
  { q:'Hai 3 voti: 6, 7, x. La media Ã¨ 7. Quanto vale x?', opts:['7','8','6','9'], ans:'8', hint:'6+7+x=21. 13+x=21. x=8.' },
  { q:'Hai 5 voti: 5,6,7,8,x. La media Ã¨ 7. Qual Ã¨ x?', opts:['9','10','7','8'], ans:'9', hint:'5+6+7+8+x=35. 26+x=35. x=9.' },
  { q:'Qual Ã¨ la differenza tra media e mediana?', opts:['Sono la stessa cosa','La media usa la somma, la mediana usa la posizione centrale','La mediana usa la somma','La media Ã¨ sempre piÃ¹ grande'], ans:'La media usa la somma, la mediana usa la posizione centrale', hint:'Media=(sommaÃ·n). Mediana=valore centrale dopo aver ordinato.' },
  { q:'Dati: 1, 2, 3, 4, 100. La media Ã¨:', opts:['3','22','10','50'], ans:'22', hint:'Somma=110. Media=110Ã·5=22. Il valore estremo (100) la distorce molto!' },
  { q:'Dati: 1, 2, 3, 4, 100. La mediana Ã¨:', opts:['22','3','50','4'], ans:'3', hint:'Ordinati: 1,2,3,4,100. Il centrale Ã¨ 3. Non Ã¨ influenzata dal 100!' },
  { q:'Dati: 1, 2, 3, 4, 100. Quale Ã¨ piÃ¹ rappresentativa?', opts:['La media (22)','La mediana (3)','La moda','Dipende dal contesto'], ans:'La mediana (3)', hint:'Con un valore anomalo (100), la mediana Ã¨ piÃ¹ robusta e rappresentativa.' },
  { q:'Quanti dati servono come minimo per calcolare la mediana?', opts:['1','2','3','5'], ans:'1', hint:'Con 1 solo dato, la mediana Ã¨ quel dato stesso.' },
  { q:'Un dataset ha: 2, 4, 4, 4, 5, 5, 7, 9. Media, mediana, moda?', opts:['Media=5, mediana=4,5, moda=4','Media=5, mediana=4,5, moda=5','Media=4, mediana=4, moda=5','Media=4,5, mediana=4,5, moda=4'], ans:'Media=5, mediana=4,5, moda=4', hint:'Somma=40,n=8,media=5. 4Â°+5Â°=(4+5)/2=4,5. 4 appare 3 volte.' },
  { q:'Il range (ampiezza) di: 3, 7, 1, 9, 5 Ã¨:', opts:['5','9','8','3'], ans:'8', hint:'Range = massimo âˆ’ minimo = 9âˆ’1 = 8.' },
  { q:'Il range di: 15, 20, 25, 30 Ã¨:', opts:['10','15','5','25'], ans:'15', hint:'Range = 30âˆ’15 = 15.' },
  { q:'Il range di: 5, 5, 5, 5 Ã¨:', opts:['0','5','20','1'], ans:'0', hint:'Range = 5âˆ’5 = 0. Dati tutti uguali â†’ nessuna variazione.' },
  { q:'Una classe ha i seguenti voti: 5,6,6,7,7,7,8,8,9,10. La moda Ã¨:', opts:['6','7','8','7 e 8'], ans:'7', hint:'7 appare 3 volte, piÃ¹ degli altri.' },
  { q:'Una classe ha i seguenti voti: 5,6,6,7,7,7,8,8,9,10. La mediana Ã¨:', opts:['7','7,5','6,5','8'], ans:'7', hint:'10 elementi, media del 5Â° e 6Â°: (7+7)Ã·2=7.' },
  { q:'Una classe ha i seguenti voti: 5,6,6,7,7,7,8,8,9,10. La media Ã¨:', opts:['6,9','7','7,3','7,5'], ans:'7,3', hint:'Somma=73. Media=73Ã·10=7,3.' },
  { q:'Cosa rappresenta un istogramma?', opts:['La media di un dataset','La distribuzione di dati tramite barre','La mediana','Il range dei dati'], ans:'La distribuzione di dati tramite barre', hint:'Un istogramma usa barre la cui altezza rappresenta la frequenza di ogni valore o classe.' },
  { q:'La frequenza di un dato Ã¨:', opts:['La sua posizione','Quante volte compare','Il suo valore','La media'], ans:'Quante volte compare', hint:'Es: nei dati (3,5,3,7,3), il 3 ha frequenza 3.' },
  { q:'Dati: 2,3,3,4,5. La frequenza del dato "3" Ã¨:', opts:['1','3','2','0'], ans:'2', hint:'3 appare 2 volte.' },
  { q:'Qual Ã¨ la media di tutti i numeri interi da 1 a 9?', opts:['4','5','6','4,5'], ans:'5', hint:'Somma=45, n=9. Media=5. La media di una sequenza simmetrica Ã¨ il valore centrale.' },
  { q:'Qual Ã¨ la media di tutti i numeri pari da 2 a 10?', opts:['5','6','7','4'], ans:'6', hint:'2+4+6+8+10=30. 30Ã·5=6.' },
  { q:'Se la frequenza relativa di un dato Ã¨ 0,4, la percentuale Ã¨:', opts:['4%','0,4%','40%','400%'], ans:'40%', hint:'Frequenza relativa Ã— 100 = percentuale. 0,4Ã—100=40%.' },
  { q:'Dati: 1,2,3,4,5,6. Mediana?', opts:['3','3,5','4','2,5'], ans:'3,5', hint:'6 elementi. Media del 3Â° e 4Â°: (3+4)Ã·2=3,5.' },
  { q:'Dati: 10,20,30,40,50,60. Mediana?', opts:['30','35','40','25'], ans:'35', hint:'Media del 3Â° e 4Â°: (30+40)Ã·2=35.' },
  { q:'Media di numeri da 1 a 100:', opts:['50','50,5','51','49'], ans:'50,5', hint:'Somma=5050. Media=5050Ã·100=50,5.' },
  { q:'Se aggiungo al dataset {3,5,7} il dato 5, la moda diventa:', opts:['7','3','Nessuna','5'], ans:'5', hint:'5 ora appare 2 volte, gli altri 1 volta.' },
  { q:'Se aggiungo al dataset {3,5,7,9} il dato 7, la mediana cambia?', opts:['No, resta 6','SÃ¬, diventa 7','SÃ¬, diventa 6,5','No, resta 5'], ans:'SÃ¬, diventa 7', hint:'Nuovo set ordinato: 3,5,7,7,9. 5 elementi, centrale (3Â°) = 7.' },
  { q:'Dati le temperature di una settimana: 20,22,19,21,23,18,20Â°C. Media?', opts:['20Â°C','21Â°C','20,4Â°C','19,5Â°C'], ans:'20,4Â°C', hint:'Somma=143. Media=143Ã·7â‰ˆ20,4.' },
  { q:'Dati le temperature: 20,22,19,21,23,18,20Â°C. Moda?', opts:['19Â°C','21Â°C','20Â°C','22Â°C'], ans:'20Â°C', hint:'20 appare 2 volte, gli altri 1 volta.' },
  { q:'Dati le temperature: 18,19,20,20,21,22,23Â°C. Mediana?', opts:['19Â°C','20Â°C','21Â°C','22Â°C'], ans:'20Â°C', hint:'7 elementi, il 4Â° Ã¨ 20.' },
  { q:'La somma degli scarti dalla media Ã¨ sempre:', opts:['Positiva','Negativa','Zero','Dipende dai dati'], ans:'Zero', hint:'Ogni valore ha uno scarto (xâˆ’media). La somma di tutti gli scarti Ã¨ sempre 0!' },
  { q:'Dati: 4,4,4,4. Range?', opts:['4','0','16','1'], ans:'0', hint:'Massimo=minimo=4. Range=0.' },
  { q:'Due classi hanno la stessa media (7) ma diversa mediana (6 e 8). Cosa significa?', opts:['Sono identiche','Le distribuzioni dei voti sono diverse','Non Ã¨ possibile','La media Ã¨ sbagliata'], ans:'Le distribuzioni dei voti sono diverse', hint:'Media uguale non significa distribuzione uguale. Una classe puÃ² avere molti voti alti e pochi bassi.' },
  { q:'In una distribuzione simmetrica, media e mediana sono:', opts:['Sempre diverse','Uguali tra loro','La media Ã¨ sempre maggiore','Non si puÃ² dire'], ans:'Uguali tra loro', hint:'In una distribuzione perfettamente simmetrica, media=mediana.' },
  { q:'Quanti valori si trovano al di sopra della mediana?', opts:['La metÃ ','Tutti','Nessuno','Dipende'], ans:'La metÃ ', hint:'La mediana divide il dataset esattamente a metÃ : metÃ  sopra, metÃ  sotto.' },
  { q:'Dati: 5,10,15,20,25,30. Il range Ã¨:', opts:['25','30','35','5'], ans:'25', hint:'30âˆ’5=25.' },
  { q:'Se la media di 3 numeri Ã¨ 6, e due di essi sono 4 e 7, il terzo Ã¨:', opts:['5','6','7','8'], ans:'7', hint:'Somma=18. 4+7+x=18. x=7.' },
  { q:'La moda di un dataset NON unico si ha quando:', opts:['Nessun dato si ripete','Un solo dato si ripete','PiÃ¹ dati si ripetono con uguale frequenza massima','La media e la mediana coincidono'], ans:'PiÃ¹ dati si ripetono con uguale frequenza massima', hint:'Es: {1,1,2,2,3}: moda bimodale = 1 e 2.' },
  { q:'Dati: 2,4,4,4,5,5,7,9. Moda e media sono uguali?', opts:['SÃ¬','No (moda=4, media=5)','No (moda=5, media=4)','Non si puÃ² dire'], ans:'No (moda=4, media=5)', hint:'Moda=4 (appare 3 volte). Somma=40,n=8,media=5.' },
  { q:'Un insieme di 6 dati ha mediana 10. Cosa puoi dire?', opts:['Almeno 3 dati sono â‰¥10','Almeno 3 dati sono >10','La media Ã¨ 10','Almeno 3 dati sono â‰¤10 e 3 sono â‰¥10'], ans:'Almeno 3 dati sono â‰¤10 e 3 sono â‰¥10', hint:'La mediana divide i dati a metÃ : 3 sotto o uguali, 3 sopra o uguali.' },
  { q:'Dati: 3,5,7,9,11. Se aggiungo 100, la mediana cambia?', opts:['SÃ¬, diventa 100','SÃ¬, diventa 8','SÃ¬, diventa 8 perchÃ© ora siamo in 6','No, resta 7'], ans:'SÃ¬, diventa 8 perchÃ© ora siamo in 6', hint:'Con 6 elementi: 3,5,7,9,11,100. Media del 3Â° e 4Â°: (7+9)Ã·2=8.' },
  { q:'Media di: 1,3,5,7,9,11,13', opts:['5','7','9','6'], ans:'7', hint:'Somma=49. 49Ã·7=7. O piÃ¹ velocemente: media di una sequenza aritmetica = (primo+ultimo)Ã·2=(1+13)Ã·2=7.' },
  { q:'Cosa calcola la statistica descrittiva?', opts:['Il futuro','Le caratteristiche di un insieme di dati','Solo la media','La probabilitÃ '], ans:'Le caratteristiche di un insieme di dati', hint:'La statistica descrittiva riassume e descrive i dati: media, mediana, moda, range, ecc.' },
  { q:'Dati: 2,2,3,3,4. Media e mediana?', opts:['Media=2,8 mediana=3','Media=3 mediana=2,8','Media=3 mediana=3','Media=2 mediana=2'], ans:'Media=2,8 mediana=3', hint:'Somma=14,n=5,media=14/5=2,8. 5 elementi, centrale (3Â°)=3.' },
  { q:'Dati le altezze: 160,165,170,175,180 cm. Qual Ã¨ la media?', opts:['165 cm','170 cm','175 cm','160 cm'], ans:'170 cm', hint:'Somma=850. 850Ã·5=170.' },
  { q:'Dati: 1,1,1,5,5,5. Qual Ã¨ la moda?', opts:['1','5','1 e 5','3'], ans:'1 e 5', hint:'Entrambi appaiono 3 volte: dataset bimodale.' },
  { q:'Qual Ã¨ il dato piÃ¹ utilizzato per descrivere il reddito medio di un paese?', opts:['La media','La moda','La mediana','Il range'], ans:'La mediana', hint:'Il reddito ha distribuzione asimmetrica con pochi ricchissimi: la mediana Ã¨ piÃ¹ rappresentativa.' },
  { q:'Dati: 10,10,10. Media, mediana e moda coincidono?', opts:['No','SÃ¬, tutte e tre valgono 10','Solo media e mediana','Solo mediana e moda'], ans:'SÃ¬, tutte e tre valgono 10', hint:'Quando tutti i dati sono uguali, media=mediana=moda=quel valore.' },
  { q:'La frequenza cumulata del dato "4" in {1,2,3,4,5} Ã¨:', opts:['1','4','5','3'], ans:'4', hint:'Frequenza cumulata = somma delle frequenze fino a quel dato: 1+1+1+1=4.' },
],

radicali: [
  // â”€â”€ POTENZE â”€â”€
  { q:'Quanto vale 3Â² (3 alla seconda)?', opts:['6','9','8','27'], ans:'9', hint:'3Â² = 3Ã—3 = 9. Moltiplica la base per se stessa tante volte quant\'Ã¨ l\'esponente.' },
  { q:'Quanto vale 2âµ?', opts:['10','16','32','64'], ans:'32', hint:'2âµ = 2Ã—2Ã—2Ã—2Ã—2 = 4Ã—4Ã—2 = 32.' },
  { q:'Quanto vale 10Â³?', opts:['30','100','1000','10000'], ans:'1000', hint:'10Â³ = 10Ã—10Ã—10 = 1000. Le potenze di 10 aggiungono tanti zeri quanto l\'esponente!' },
  { q:'Quanto vale 4â°?', opts:['0','4','1','Impossibile'], ans:'1', hint:'Qualsiasi numero (â‰ 0) elevato a 0 vale SEMPRE 1. Regola fondamentale!' },
  { q:'Quanto vale 2â»Â³?', opts:['âˆ’8','âˆ’6','1/8','1/6'], ans:'1/8', hint:'Esponente negativo = inverso: 2â»Â³ = 1/2Â³ = 1/8.' },
  // â”€â”€ PROPRIETÃ€ POTENZE â”€â”€
  { q:'Prodotto di potenze stessa base: 2Â³ Ã— 2â´ = ?', opts:['2â·','4â·','2Â¹Â²','4Â¹Â²'], ans:'2â·', hint:'Stessa base? Si SOMMANO gli esponenti: 2Â³Ã—2â´ = 2^(3+4) = 2â·.' },
  { q:'Quoziente di potenze stessa base: 5â¶ Ã· 5Â² = ?', opts:['5â´','5Â³','5â¸','1â´'], ans:'5â´', hint:'Stessa base? Si SOTTRAGGONO gli esponenti: 5^(6âˆ’2) = 5â´.' },
  { q:'Potenza di potenza: (3Â²)â´ = ?', opts:['3â¶','3â¸','3Â²','9â´'], ans:'3â¸', hint:'Gli esponenti si MOLTIPLICANO: (3Â²)â´ = 3^(2Ã—4) = 3â¸.' },
  // â”€â”€ RADICALI â”€â”€
  { q:'Quanto vale âˆš81?', opts:['9','8','7','6'], ans:'9', hint:'âˆš81 = 9 perchÃ© 9Ã—9 = 81. Usa la tavola dei quadrati!' },
  { q:'Quanto vale âˆš144?', opts:['14','11','12','13'], ans:'12', hint:'12Ã—12 = 144 â†’ âˆš144 = 12.' },
  { q:'Quanto vale âˆ›27 (radice cubica)?', opts:['3','9','6','4'], ans:'3', hint:'âˆ›27 = 3 perchÃ© 3Ã—3Ã—3 = 27.' },
  { q:'Quanto vale âˆ›125?', opts:['5','25','15','10'], ans:'5', hint:'5Â³ = 5Ã—5Ã—5 = 125 â†’ âˆ›125 = 5.' },
  // â”€â”€ PROPRIETÃ€ RADICALI â”€â”€
  { q:'Semplifica: âˆš(4 Ã— 9) = ?', opts:['âˆš13','2âˆš9','âˆš36 = 6','âˆš4 + âˆš9'], ans:'âˆš36 = 6', hint:'âˆš(aÃ—b) = âˆša Ã— âˆšb â†’ âˆš36 = 6. Oppure calcola direttamente: âˆš36=6.' },
  { q:'Semplifica: âˆš50 = ?', opts:['5âˆš2','25âˆš2','5âˆš10','10âˆš5'], ans:'5âˆš2', hint:'50 = 25Ã—2 â†’ âˆš50 = âˆš25 Ã— âˆš2 = 5âˆš2. Porta fuori il quadrato perfetto!' },
  { q:'Qual Ã¨ la relazione corretta tra potenze e radici?', opts:['âˆša = a^(1/3)','âˆša = a^(1/2)','âˆša = aÂ²','âˆša = a^2'], ans:'âˆša = a^(1/2)', hint:'La radice quadrata Ã¨ uguale all\'esponente 1/2. Quindi âˆš9 = 9^(1/2) = 3.' },
  { q:'Quanto vale âˆš256?', opts:['14','16','18','20'], ans:'16', hint:'16Ã—16=256.' },
  { q:'Quanto vale âˆš289?', opts:['15','17','19','13'], ans:'17', hint:'17Ã—17=289.' },
  { q:'Quanto vale âˆ›512?', opts:['6','8','10','4'], ans:'8', hint:'8Ã—8Ã—8=512.' },
  { q:'Semplifica: âˆš(4aÂ²) con aâ‰¥0', opts:['2a','4a','aâˆš4','2âˆša'], ans:'2a', hint:'âˆš4Ã—âˆšaÂ²=2Ã—a=2a.' },
  { q:'Quanto vale 4^(3/2)?', opts:['6','8','12','16'], ans:'8', hint:'4^(3/2)=(âˆš4)Â³=2Â³=8.' },
  { q:'Quanto vale 9^(3/2)?', opts:['27','81','18','3'], ans:'27', hint:'9^(3/2)=(âˆš9)Â³=3Â³=27.' },
  { q:'Quanto vale 4Â²?', opts:['8','16','12','24'], ans:'16', hint:'4Â²=4Ã—4=16.' },
  { q:'Quanto vale 5Â²?', opts:['10','15','25','30'], ans:'25', hint:'5Â²=5Ã—5=25.' },
  { q:'Quanto vale 6Â²?', opts:['12','30','36','24'], ans:'36', hint:'6Â²=6Ã—6=36.' },
  { q:'Quanto vale 7Â²?', opts:['14','21','42','49'], ans:'49', hint:'7Â²=7Ã—7=49.' },
  { q:'Quanto vale 8Â²?', opts:['16','32','48','64'], ans:'64', hint:'8Â²=8Ã—8=64.' },
  { q:'Quanto vale 9Â²?', opts:['18','27','72','81'], ans:'81', hint:'9Â²=9Ã—9=81.' },
  { q:'Quanto vale 11Â²?', opts:['22','33','111','121'], ans:'121', hint:'11Â²=121.' },
  { q:'Quanto vale 12Â²?', opts:['24','144','48','124'], ans:'144', hint:'12Â²=144.' },
  { q:'Quanto vale 15Â²?', opts:['30','150','225','175'], ans:'225', hint:'15Â²=225.' },
  { q:'Quanto vale 2â´?', opts:['8','16','32','6'], ans:'16', hint:'2â´=2Ã—2Ã—2Ã—2=16.' },
  { q:'Quanto vale 3Â³?', opts:['9','27','18','6'], ans:'27', hint:'3Â³=3Ã—3Ã—3=27.' },
  { q:'Quanto vale 2â·?', opts:['14','64','128','256'], ans:'128', hint:'2â·=128.' },
  { q:'Quanto vale 2â¸?', opts:['16','128','256','512'], ans:'256', hint:'2â¸=256.' },
  { q:'Quanto vale 2Â¹â°?', opts:['100','512','1000','1024'], ans:'1024', hint:'2Â¹â°=1024. (Si dice "kilo" in informatica!)' },
  { q:'Quanto vale 10â°?', opts:['0','10','1','100'], ans:'1', hint:'Qualsiasi base elevata a 0 = 1.' },
  { q:'Quanto vale 10Â¹?', opts:['0','1','10','100'], ans:'10', hint:'10Â¹=10.' },
  { q:'Quanto vale 10Â²?', opts:['20','100','1000','10'], ans:'100', hint:'10Â²=100.' },
  { q:'Quanto vale 10âµ?', opts:['50','1000','10000','100000'], ans:'100000', hint:'10âµ=100 000 (5 zeri).' },
  { q:'Quanto vale 3â»Â¹?', opts:['âˆ’3','1/3','âˆ’1/3','3'], ans:'1/3', hint:'3â»Â¹=1/3Â¹=1/3.' },
  { q:'Quanto vale 4â»Â²?', opts:['âˆ’16','1/16','âˆ’1/16','16'], ans:'1/16', hint:'4â»Â²=1/4Â²=1/16.' },
  { q:'Semplifica: 3Â² Ã— 3Â³ = ?', opts:['3â¶','9âµ','3âµ','6Â³'], ans:'3âµ', hint:'Stessa base, somma esponenti: 2+3=5.' },
  { q:'Semplifica: 5â´ Ã— 5Â² = ?', opts:['5â¸','25â¶','5â¶','10â´'], ans:'5â¶', hint:'4+2=6.' },
  { q:'Semplifica: 7Â³ Ã· 7 = ?', opts:['7Â²','7â´','1Â³','7Â³'], ans:'7Â²', hint:'7Ã·7Â¹=7^(3âˆ’1)=7Â².' },
  { q:'Semplifica: 10âµ Ã· 10Â³ = ?', opts:['10Â²','10â¸','10Â¹âµ','5Â²'], ans:'10Â²', hint:'5âˆ’3=2.' },
  { q:'Semplifica: (2Â³)Â² = ?', opts:['2âµ','2â¶','2â¹','4â¶'], ans:'2â¶', hint:'3Ã—2=6.' },
  { q:'Semplifica: (4Â²)Â³ = ?', opts:['4âµ','4â¶','8â¶','16âµ'], ans:'4â¶', hint:'2Ã—3=6.' },
  { q:'Semplifica: (10Â²)â´ = ?', opts:['10â¶','10â¸','100â¸','10â´Â²'], ans:'10â¸', hint:'2Ã—4=8.' },
  { q:'Semplifica: (3 Ã— 5)Â² = ?', opts:['3Â²+5Â²','8Â²','3Â²Ã—5Â²','15'], ans:'3Â²Ã—5Â²', hint:'(aÃ—b)â¿=aâ¿Ã—bâ¿. Quindi 9Ã—25=225.' },
  { q:'Quanto fa 2Â³ Ã— 4?', opts:['32','48','24','16'], ans:'32', hint:'2Â³=8. 8Ã—4=32.' },
  { q:'Semplifica: aâ´ Ã— aÂ³ = ?', opts:['aâ·','aÂ¹Â²','aâ´','2aâ·'], ans:'aâ·', hint:'Stessa base a, somma esponenti: 4+3=7.' },
  { q:'Quanto vale âˆš4?', opts:['1','2','4','8'], ans:'2', hint:'2Ã—2=4.' },
  { q:'Quanto vale âˆš9?', opts:['3','4,5','81','18'], ans:'3', hint:'3Ã—3=9.' },
  { q:'Quanto vale âˆš16?', opts:['4','8','2','256'], ans:'4', hint:'4Ã—4=16.' },
  { q:'Quanto vale âˆš25?', opts:['5','12,5','625','10'], ans:'5', hint:'5Ã—5=25.' },
  { q:'Quanto vale âˆš36?', opts:['6','18','1296','9'], ans:'6', hint:'6Ã—6=36.' },
  { q:'Quanto vale âˆš49?', opts:['7','24,5','2401','14'], ans:'7', hint:'7Ã—7=49.' },
  { q:'Quanto vale âˆš64?', opts:['8','32','4096','16'], ans:'8', hint:'8Ã—8=64.' },
  { q:'Quanto vale âˆš100?', opts:['10','50','10000','20'], ans:'10', hint:'10Ã—10=100.' },
  { q:'Quanto vale âˆš121?', opts:['11','60,5','14641','12'], ans:'11', hint:'11Ã—11=121.' },
  { q:'Quanto vale âˆš169?', opts:['13','84,5','12','14'], ans:'13', hint:'13Ã—13=169.' },
  { q:'Quanto vale âˆš196?', opts:['14','98','13','15'], ans:'14', hint:'14Ã—14=196.' },
  { q:'Quanto vale âˆš225?', opts:['15','112,5','14','16'], ans:'15', hint:'15Ã—15=225.' },
  { q:'Quanto vale âˆš400?', opts:['20','200','40','16000'], ans:'20', hint:'20Ã—20=400.' },
  { q:'Quanto vale âˆš10000?', opts:['100','1000','50','5000'], ans:'100', hint:'100Ã—100=10000.' },
  { q:'Quanto vale âˆ›8?', opts:['2','4','3','1'], ans:'2', hint:'2Ã—2Ã—2=8.' },
  { q:'Quanto vale âˆ›1?', opts:['0','1','3','1/3'], ans:'1', hint:'1Ã—1Ã—1=1.' },
  { q:'Quanto vale âˆ›64?', opts:['4','8','6','2'], ans:'4', hint:'4Ã—4Ã—4=64.' },
  { q:'Quanto vale âˆ›216?', opts:['6','12','5','8'], ans:'6', hint:'6Ã—6Ã—6=216.' },
  { q:'Quanto vale âˆ›1000?', opts:['10','100','50','20'], ans:'10', hint:'10Ã—10Ã—10=1000.' },
  { q:'Semplifica: âˆš(25Ã—4) = ?', opts:['âˆš29','5+4','10','50'], ans:'10', hint:'âˆš(100)=10. O âˆš25Ã—âˆš4=5Ã—2=10.' },
  { q:'Semplifica: âˆš(9Ã—16) = ?', opts:['9+16','25','12','âˆš25'], ans:'12', hint:'âˆš9Ã—âˆš16=3Ã—4=12.' },
  { q:'Semplifica: âˆš12 = ?', opts:['6âˆš2','2âˆš3','3âˆš2','4âˆš3'], ans:'2âˆš3', hint:'12=4Ã—3. âˆš12=âˆš4Ã—âˆš3=2âˆš3.' },
  { q:'Semplifica: âˆš18 = ?', opts:['3âˆš2','6âˆš3','9âˆš2','2âˆš3'], ans:'3âˆš2', hint:'18=9Ã—2. âˆš18=âˆš9Ã—âˆš2=3âˆš2.' },
  { q:'Semplifica: âˆš20 = ?', opts:['4âˆš5','2âˆš5','5âˆš4','10âˆš2'], ans:'2âˆš5', hint:'20=4Ã—5. âˆš20=âˆš4Ã—âˆš5=2âˆš5.' },
  { q:'Semplifica: âˆš45 = ?', opts:['5âˆš3','3âˆš5','9âˆš5','15âˆš3'], ans:'3âˆš5', hint:'45=9Ã—5. âˆš45=âˆš9Ã—âˆš5=3âˆš5.' },
  { q:'Semplifica: âˆš75 = ?', opts:['5âˆš3','3âˆš5','5âˆš15','15âˆš3'], ans:'5âˆš3', hint:'75=25Ã—3. âˆš75=5âˆš3.' },
  { q:'Semplifica: âˆš98 = ?', opts:['7âˆš2','2âˆš7','49âˆš2','14âˆš7'], ans:'7âˆš2', hint:'98=49Ã—2. âˆš98=7âˆš2.' },
  { q:'Semplifica: âˆš200 = ?', opts:['10âˆš2','20âˆš2','2âˆš100','100âˆš2'], ans:'10âˆš2', hint:'200=100Ã—2. âˆš200=10âˆš2.' },
  { q:'Semplifica: âˆš72 = ?', opts:['8âˆš3','6âˆš2','4âˆš6','12âˆš3'], ans:'6âˆš2', hint:'72=36Ã—2. âˆš72=6âˆš2.' },
  { q:'Semplifica: âˆš(100Ã·4) = ?', opts:['25','5','10','2,5'], ans:'5', hint:'âˆš100Ã·âˆš4=10Ã·2=5.' },
  { q:'Quanto vale (âˆš5)Â²?', opts:['âˆš5','25','5','10'], ans:'5', hint:'(âˆša)Â²=a. Quindi (âˆš5)Â²=5.' },
  { q:'Quanto vale (âˆš7)Â²?', opts:['49','7','âˆš7','14'], ans:'7', hint:'(âˆš7)Â²=7.' },
  { q:'âˆša Ã— âˆšb = ?', opts:['âˆš(a+b)','âˆš(ab)','âˆša+âˆšb','âˆšaÃ·âˆšb'], ans:'âˆš(ab)', hint:'ProprietÃ : âˆša Ã— âˆšb = âˆš(aÃ—b).' },
  { q:'Quanto vale âˆš2 Ã— âˆš8?', opts:['âˆš6','4','âˆš16=4','2âˆš4'], ans:'4', hint:'âˆš2Ã—âˆš8=âˆš16=4.' },
  { q:'Quanto vale âˆš3 Ã— âˆš12?', opts:['6','3','âˆš36=6','âˆš15'], ans:'6', hint:'âˆš3Ã—âˆš12=âˆš36=6.' },
  { q:'Quanto vale âˆš5 Ã— âˆš5?', opts:['10','25','5','âˆš25'], ans:'5', hint:'âˆš5Ã—âˆš5=5. (=âˆš5)Â²=5.' },
  { q:'Quali di questi non Ã¨ un quadrato perfetto?', opts:['16','25','30','36'], ans:'30', hint:'âˆš30 non Ã¨ intero. 16=4Â², 25=5Â², 36=6Â².' },
  { q:'Quali di questi Ã¨ un quadrato perfetto?', opts:['50','72','144','200'], ans:'144', hint:'âˆš144=12. Gli altri non hanno radice intera.' },
  { q:'âˆša = a^(1/n). Per la radice quadrata, n=?', opts:['1','3','2','4'], ans:'2', hint:'âˆša = a^(1/2). La radice quadrata corrisponde all\'esponente 1/2.' },
  { q:'âˆ›a = a^(1/n). Per la radice cubica, n=?', opts:['2','3','4','1'], ans:'3', hint:'âˆ›a = a^(1/3).' },
  { q:'Semplifica: â´âˆš16 (radice quarta di 16)', opts:['4','2','8','âˆš4'], ans:'2', hint:'2â´=16. Quindi la radice quarta di 16 Ã¨ 2.' },
  { q:'Semplifica: 2Â³ + 3Â² = ?', opts:['8+9=17','5+5=10','24','6+6=12'], ans:'8+9=17', hint:'2Â³=8, 3Â²=9. Totale: 17.' },
  { q:'Semplifica: âˆš(3Â²+4Â²) = ?', opts:['7','5','25','âˆš7'], ans:'5', hint:'3Â²+4Â²=9+16=25. âˆš25=5.' },
  { q:'Semplifica: âˆš(6Â²+8Â²) = ?', opts:['14','10','100','âˆš100'], ans:'10', hint:'36+64=100. âˆš100=10.' },
  { q:'Qual Ã¨ il risultato di 2^(1/2)?', opts:['1','âˆš2','2','4'], ans:'âˆš2', hint:'2^(1/2)=âˆš2â‰ˆ1,414.' },
  { q:'Qual Ã¨ il risultato di 8^(1/3)?', opts:['2','4','3','8'], ans:'2', hint:'8^(1/3)=âˆ›8=2.' },
  { q:'Semplifica: âˆš48 = ?', opts:['4âˆš3','6âˆš2','3âˆš4','4âˆš8'], ans:'4âˆš3', hint:'48=16Ã—3. âˆš48=4âˆš3.' },
  { q:'Semplifica: âˆš(aÂ²) = ?', opts:['aÂ²','a (se aâ‰¥0)','âˆša','2a'], ans:'a (se aâ‰¥0)', hint:'âˆš(aÂ²)=|a|=a quando aâ‰¥0.' },
  { q:'Quanto vale 2^(3/2)?', opts:['âˆš8 = 2âˆš2','3/2','4','âˆš6'], ans:'âˆš8 = 2âˆš2', hint:'2^(3/2)=(2^3)^(1/2)=âˆš8=2âˆš2â‰ˆ2,83.' },
],

};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LESSONS HTML
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const LESSONS = {
numeri: `
<div class="card">
  <h2 style="color:#ef4444">Â± I Numeri Relativi</h2>
  <p>I numeri relativi hanno un <strong>segno</strong>: positivi (+) o negativi (âˆ’). Pensa alla <strong>temperatura</strong> o ai <strong>piani di un palazzo</strong>: il âˆ’2 Ã¨ il secondo piano interrato!</p>
  <div class="vb vb-orange">
    <h3>ğŸŒ¡ï¸ Tocca i numeri sulla retta:</h3>
    <div class="nl-scroll"><div class="nl-track" id="numLine"><div class="nl-axis"></div></div></div>
  </div>
  <div class="vb vb-teal">
    <h3>ğŸ“Œ Ordine sulla retta</h3>
    <p>PiÃ¹ andiamo a <strong>destra</strong> â†’ numero piÃ¹ grande<br>
    PiÃ¹ andiamo a <strong>sinistra</strong> â†’ numero piÃ¹ piccolo<br><br>
    âˆ’5 &lt; âˆ’3 &lt; âˆ’1 &lt; 0 &lt; +1 &lt; +3 &lt; +5</p>
  </div>
  <div class="vb vb-green">
    <h3>â• Regola della somma</h3>
    <p>Stessi segni â†’ somma i valori, tieni il segno<br>
    Segni diversi â†’ sottrai il minore dal maggiore, prendi il segno del piÃ¹ grande</p>
  </div>
</div>`,

frazioni: `
<div class="card">
  <h2 style="color:#f59e0b">Â½ Le Frazioni</h2>
  <p>Una frazione Ã¨ una <strong>parte di un intero</strong>. Il numero sotto si chiama <strong>denominatore</strong> (quante parti), quello sopra <strong>numeratore</strong> (quante ne prendiamo).</p>
  <div class="vb vb-yellow">
    <h3>ğŸ• Muovi i cursori:</h3>
    <div class="slider-row"><label>Numeratore (parti colorate): <strong id="fNum">3</strong></label>
      <input type="range" min="1" max="8" value="3" id="fSlNum" oninput="updateFrac()"></div>
    <div class="slider-row"><label>Denominatore (parti totali): <strong id="fDen">4</strong></label>
      <input type="range" min="2" max="8" value="4" id="fSlDen" oninput="updateFrac()"></div>
    <div style="display:flex;align-items:center;gap:20px;flex-wrap:wrap;margin-top:8px">
      <div class="frac-parts" id="fracParts"></div>
      <div style="font-family:var(--font);font-weight:900;font-size:32px;color:var(--primary);text-align:center;min-width:80px">
        <div id="fDispN">3</div><div style="border-top:3px solid var(--primary);margin:4px 0"></div><div id="fDispD">4</div>
        <div style="font-size:14px;color:var(--text-light);margin-top:6px" id="fPct"></div>
      </div>
    </div>
  </div>
</div>`,

geometria: `
<div class="card">
  <h2 style="color:#3b82f6">ğŸ”· Geometria: Aree & Formule Inverse</h2>
  <p>L'area misura quanto <em>spazio occupa</em> una figura. Si misura in <strong>cmÂ², mÂ²</strong>â€¦</p>
  <div class="pills" id="geomPills">
    <div class="pill active" onclick="showGeomShape(this,'rect')">â–­ Rettangolo</div>
    <div class="pill" onclick="showGeomShape(this,'tri')">â–³ Triangolo</div>
    <div class="pill" onclick="showGeomShape(this,'para')">â¬§ Parallelogramma</div>
    <div class="pill" onclick="showGeomShape(this,'trap')">âŒ‚ Trapezio</div>
    <div class="pill" onclick="showGeomShape(this,'sq')">â–  Quadrato</div>
    <div class="pill" onclick="showGeomShape(this,'rombo')">â—‡ Rombo</div>
    <div class="pill" onclick="showGeomShape(this,'cerchio')">â­• Cerchio</div>
  </div>
  <div id="geomShape"></div>
  <div class="vb vb-purple" style="margin-top:16px">
    <h3>ğŸ” Come si usa la formula inversa?</h3>
    <p>Se conosco l'area ma non un lato, <strong>isolo</strong> il valore cercato:<br>
    A = bÃ—h &nbsp;â†’&nbsp; <strong>b = AÃ·h</strong> &nbsp;oppure&nbsp; <strong>h = AÃ·b</strong></p>
  </div>
</div>`,

pitagora: `
<div class="card">
  <h2 style="color:#8b5cf6">ğŸ“ Il Teorema di Pitagora</h2>
  <p>In un triangolo <strong>rettangolo</strong>: la somma dei quadrati dei due cateti = il quadrato dell'ipotenusa.</p>
  <div style="text-align:center;margin:16px 0">
    <span class="formula formula-purple">aÂ² + bÂ² = cÂ²</span>
    <p style="font-size:14px;color:var(--text-light);margin-top:8px">c = ipotenusa (lato piÃ¹ lungo, di fronte a 90Â°)</p>
  </div>
  <div class="vb vb-purple">
    <h3>ğŸ® Muovi i cursori â€” il triangolo si ridisegna!</h3>
    <div style="display:flex;gap:14px;flex-wrap:wrap">
      <div class="slider-row" style="flex:1;min-width:120px">
        <label>Cateto a: <strong id="pA">3</strong></label>
        <input type="range" min="1" max="9" value="3" id="slPA" oninput="drawPita()">
      </div>
      <div class="slider-row" style="flex:1;min-width:120px">
        <label>Cateto b: <strong id="pB">4</strong></label>
        <input type="range" min="1" max="9" value="4" id="slPB" oninput="drawPita()">
      </div>
    </div>
    <div style="display:flex;justify-content:center;margin-top:10px">
      <canvas id="pitaCanvas" width="320" height="260"></canvas>
    </div>
    <div class="geom-result" id="pitaResult"></div>
  </div>
  <div class="vb vb-blue">
    <h3>ğŸ” Formula inversa (trovare un cateto)</h3>
    <p>Se conosco c e un cateto a:<br>
    <strong>b = âˆš(cÂ² âˆ’ aÂ²)</strong></p>
  </div>
</div>`,

algebra: `
<div class="card">
  <h2 style="color:#22c55e">ğŸ”¤ Algebra: Lettere e Equazioni</h2>
  <p>In algebra le <strong>lettere sostituiscono numeri sconosciuti</strong>. Ãˆ come un gioco dove <strong>x</strong> Ã¨ la risposta da trovare!</p>
  <div class="vb vb-green">
    <h3>ğŸ La scatola misteriosa</h3>
    <p>ğŸ“¦ + 3 = 7 &nbsp;â†’&nbsp; quante palline nella scatola?<br>
    Con le lettere: &nbsp;<strong>x + 3 = 7 â†’ x = 4</strong></p>
  </div>
  <div class="vb vb-teal">
    <h3>âš–ï¸ Regola d'oro</h3>
    <p>Quello che fai a <strong>sinistra</strong> dell'uguale lo fai anche a <strong>destra</strong>.</p>
    <p style="margin-top:8px">Esempio: &nbsp;x + 5 = 12<br>
    â†’ tolgo 5 da entrambe le parti<br>
    â†’ x = 12 âˆ’ 5 = <strong>7</strong> âœ…</p>
  </div>
  <div class="vb vb-orange">
    <h3>ğŸ“š Tipi di espressioni</h3>
    <p>ğŸ”¹ <strong>Monomio</strong>: un solo termine â†’ 3xÂ², âˆ’5y, 2ab<br>
    ğŸ”¹ <strong>Polinomio</strong>: piÃ¹ monomi sommati â†’ 3x + 2y âˆ’ 1</p>
  </div>
</div>`,

statistica: `
<div class="card">
  <h2 style="color:#f59e0b">ğŸ“Š Statistica: Media, Moda, Mediana</h2>
  <p>La statistica ci aiuta a <strong>descrivere e capire i dati</strong>. I tre indicatori principali si chiamano <em>indici di posizione centrale</em>.</p>
  <div class="vb vb-yellow">
    <h3>ğŸ“Š Esempio: voti della settimana</h3>
    <div style="display:flex;gap:8px;flex-wrap:wrap;margin:10px 0" id="votiRow"></div>
    <div id="statCalc" style="font-family:var(--font);font-weight:700;font-size:15px;line-height:2.2;margin-top:10px"></div>
  </div>
  <div class="vb vb-teal">
    <h3>ğŸ“Œ Differenza chiave</h3>
    <p>ğŸ”¹ <strong>Media</strong>: Ã¨ influenzata dai valori estremi<br>
    ğŸ”¹ <strong>Mediana</strong>: Ã¨ "robusta" (non cambia con i valori anomali)<br>
    ğŸ”¹ <strong>Moda</strong>: il valore che "vince" per frequenza</p>
  </div>
</div>`,

radicali: `
<div class="card">
  <h2 style="color:#06b6d4">âˆš Potenze &amp; Radicali</h2>
  <p>Le <strong>potenze</strong> sono moltiplicazioni ripetute. Le <strong>radici</strong> sono l'operazione inversa. Insieme formano un sistema potentissimo per semplificare i calcoli!</p>

  <div class="vb" style="background:#ecfeff;border-left:4px solid #06b6d4">
    <h3>âš¡ Potenze â€” la base</h3>
    <div style="font-family:var(--font);font-size:15px;line-height:2.2">
      <p><strong>aâ¿</strong> = a Ã— a Ã— a â€¦ (n volte). La <em>base</em> Ã¨ a, l'<em>esponente</em> Ã¨ n.</p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin:10px 0">
        <div style="background:white;border-radius:12px;padding:10px;text-align:center;font-weight:800">2Â³ = 8<br><span style="font-size:12px;font-weight:600;color:var(--text-light)">2Ã—2Ã—2</span></div>
        <div style="background:white;border-radius:12px;padding:10px;text-align:center;font-weight:800">5Â² = 25<br><span style="font-size:12px;font-weight:600;color:var(--text-light)">5Ã—5</span></div>
        <div style="background:white;border-radius:12px;padding:10px;text-align:center;font-weight:800">10â´ = 10&nbsp;000<br><span style="font-size:12px;font-weight:600;color:var(--text-light)">4 zeri!</span></div>
        <div style="background:white;border-radius:12px;padding:10px;text-align:center;font-weight:800">7â° = 1<br><span style="font-size:12px;font-weight:600;color:var(--text-light)">qualsiasi base!</span></div>
      </div>
      <p>âš ï¸ <strong>Esponente negativo:</strong> aâ»â¿ = 1/aâ¿ â†’ 2â»Â³ = 1/8</p>
    </div>
  </div>

  <div class="vb vb-orange" style="margin-top:14px">
    <h3>ğŸ“‹ ProprietÃ  delle Potenze</h3>
    <div style="font-family:var(--font);font-size:14px;line-height:2.4">
      <div style="display:flex;justify-content:space-between;border-bottom:1px solid var(--border);padding:4px 0"><span>ğŸ“Œ Stessa base â€” prodotto</span><strong>aáµ Ã— aâ¿ = a^(m+n)</strong></div>
      <div style="display:flex;justify-content:space-between;border-bottom:1px solid var(--border);padding:4px 0"><span>ğŸ“Œ Stessa base â€” quoziente</span><strong>aáµ Ã· aâ¿ = a^(mâˆ’n)</strong></div>
      <div style="display:flex;justify-content:space-between;border-bottom:1px solid var(--border);padding:4px 0"><span>ğŸ“Œ Potenza di potenza</span><strong>(aáµ)â¿ = a^(mÃ—n)</strong></div>
      <div style="display:flex;justify-content:space-between;border-bottom:1px solid var(--border);padding:4px 0"><span>ğŸ“Œ Prodotto, stessa potenza</span><strong>(aÃ—b)â¿ = aâ¿ Ã— bâ¿</strong></div>
      <div style="display:flex;justify-content:space-between;padding:4px 0"><span>ğŸ“Œ Esponente zero</span><strong>aâ° = 1 (con aâ‰ 0)</strong></div>
    </div>
    <div style="background:white;border-radius:12px;padding:12px;margin-top:10px;font-family:var(--font);font-weight:700;font-size:14px">
      <p>âœï¸ <strong>Esempi:</strong></p>
      <p>2Â³ Ã— 2â´ = 2â· = 128 &nbsp;(sommo gli esponenti)</p>
      <p>5â¶ Ã· 5Â² = 5â´ = 625 &nbsp;(sottraggo gli esponenti)</p>
      <p>(3Â²)Â³ = 3â¶ = 729 &nbsp;(moltiplico gli esponenti)</p>
    </div>
  </div>

  <div class="vb vb-blue" style="margin-top:14px">
    <h3>âˆš Radicali â€” l'operazione inversa</h3>
    <div style="font-family:var(--font);font-size:15px;line-height:2.2">
      <p><strong>âˆša</strong> (radice quadrata) = il numero che elevato al quadrato dÃ  <em>a</em></p>
      <p><strong>âˆ›a</strong> (radice cubica) = il numero che elevato al cubo dÃ  <em>a</em></p>
      <p style="color:var(--primary);font-weight:800">Regola chiave: &nbsp; âˆša = a^(Â½) &nbsp;&nbsp;&nbsp; âˆ›a = a^(â…“)</p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin:10px 0">
        <div style="background:white;border-radius:12px;padding:10px;text-align:center;font-weight:800">âˆš25 = 5<br><span style="font-size:12px;font-weight:600;color:var(--text-light)">perchÃ© 5Â²=25</span></div>
        <div style="background:white;border-radius:12px;padding:10px;text-align:center;font-weight:800">âˆš100 = 10<br><span style="font-size:12px;font-weight:600;color:var(--text-light)">perchÃ© 10Â²=100</span></div>
        <div style="background:white;border-radius:12px;padding:10px;text-align:center;font-weight:800">âˆ›8 = 2<br><span style="font-size:12px;font-weight:600;color:var(--text-light)">perchÃ© 2Â³=8</span></div>
        <div style="background:white;border-radius:12px;padding:10px;text-align:center;font-weight:800">âˆ›64 = 4<br><span style="font-size:12px;font-weight:600;color:var(--text-light)">perchÃ© 4Â³=64</span></div>
      </div>
    </div>
  </div>

  <div class="vb vb-purple" style="margin-top:14px">
    <h3>ğŸ” ProprietÃ  dei Radicali</h3>
    <div style="font-family:var(--font);font-size:14px;line-height:2.4">
      <div style="display:flex;justify-content:space-between;border-bottom:1px solid var(--border);padding:4px 0"><span>ğŸ“Œ Prodotto sotto radice</span><strong>âˆš(aÃ—b) = âˆša Ã— âˆšb</strong></div>
      <div style="display:flex;justify-content:space-between;border-bottom:1px solid var(--border);padding:4px 0"><span>ğŸ“Œ Quoziente sotto radice</span><strong>âˆš(aÃ·b) = âˆša Ã· âˆšb</strong></div>
      <div style="display:flex;justify-content:space-between;border-bottom:1px solid var(--border);padding:4px 0"><span>ğŸ“Œ Semplificazione</span><strong>âˆš(nÂ²Ã—a) = nâˆša</strong></div>
      <div style="display:flex;justify-content:space-between;border-bottom:1px solid var(--border);padding:4px 0"><span>ğŸ“Œ Quadrato della radice</span><strong>(âˆša)Â² = a</strong></div>
      <div style="display:flex;justify-content:space-between;padding:4px 0"><span>ğŸ“Œ Radice = potenza frazionaria</span><strong>âˆša = a^(1/2)</strong></div>
    </div>
    <div style="background:white;border-radius:12px;padding:12px;margin-top:10px;font-family:var(--font);font-weight:700;font-size:14px">
      <p>âœï¸ <strong>Esempio â€” Semplifica âˆš72:</strong></p>
      <p>1. Scomponi in fattori: 72 = 36 Ã— 2</p>
      <p>2. Porta fuori il quadrato perfetto: âˆš72 = âˆš(36Ã—2) = âˆš36 Ã— âˆš2</p>
      <p>3. Calcola âˆš36: &nbsp;<strong style="color:var(--primary)">= 6âˆš2</strong></p>
    </div>
  </div>

  <div class="vb vb-teal" style="margin-top:14px">
    <h3>ğŸ’¡ Quadrati perfetti da 1 a 225</h3>
    <div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:8px;font-family:var(--font);font-weight:800;font-size:13px" id="sqPerfRow"></div>
  </div>
</div>`,
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PAGE NAVIGATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showPage(p) {
  document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
  const pages = { home:'pageHome', stats:'pageStats', settings:'pageSettings', ripasso:'pageRipasso' };
  const navs  = { home:'nav-home', stats:'nav-stats', settings:'nav-set', ripasso:'nav-ripasso' };
  if(pages[p]) document.getElementById(pages[p]).classList.add('active');
  if(navs[p]) document.getElementById(navs[p]).classList.add('active');
  if(p==='stats') renderStats();
  window.scrollTo(0,0);
}

function showTopic(name) {
  document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
  document.getElementById('pageTopicLesson').classList.add('active');

  const titles = {
    numeri:'Â± Numeri Relativi',
    frazioni:'Â½ Frazioni',
    geometria:'ğŸ”· Geometria & Aree',
    pitagora:'ğŸ“ Teorema di Pitagora',
    algebra:'ğŸ”¤ Algebra',
    statistica:'ğŸ“Š Statistica',
    radicali:'âˆš Potenze & Radicali',
  };
  document.getElementById('topicTitle').textContent = titles[name]||name;
  document.getElementById('lessonContent').innerHTML = LESSONS[name]||'';
  state.topic = name;
  state.quizIdx = 0;
  state.quizAnswered = false;
  // Shuffle on new topic entry (keeps same shuffle within session until restart)
  if(!state.quizOrder[name]) getShuffledOrder(name);

  // Init lesson interactives
  if(name==='numeri') setTimeout(initNumLine,100);
  if(name==='frazioni') setTimeout(()=>{updateFrac();},100);
  if(name==='geometria') setTimeout(()=>showGeomShape(document.querySelector('#geomPills .pill'),'rect'),100);
  if(name==='pitagora') setTimeout(drawPita,100);
  if(name==='statistica') setTimeout(initStat,100);
  if(name==='radicali') setTimeout(initRadicali,100);

  renderQuiz(name);
  window.scrollTo(0,0);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// QUIZ ENGINE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function getShuffledOrder(topic) {
  // Returns a shuffled array of SESSION_SIZE indices, cached per session
  if(!state.quizOrder[topic]) {
    const n = QUIZZES[topic].length;
    const arr = Array.from({length:n}, (_,i)=>i);
    for(let i=n-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      [arr[i],arr[j]]=[arr[j],arr[i]];
    }
    // Prendi solo SESSION_SIZE esercizi per questa sessione
    state.quizOrder[topic] = arr.slice(0, SESSION_SIZE);
  }
  return state.quizOrder[topic];
}

function renderQuiz(topic) {
  const data = QUIZZES[topic];
  const order = getShuffledOrder(topic);
  const idx = state.quizIdx;
  const q = data[order[idx]];
  const sessionSize = order.length; // SESSION_SIZE (es. 20)
  const bankSize = data.length;     // totale disponibile (100)

  // Progress dots â€” uno per ogni esercizio della sessione
  const prog = document.getElementById('qProgress');
  let dotsHtml = '';
  for(let i = 0; i < sessionSize; i++) {
    let cls = 'q-dot';
    if(i < idx) cls += ' done-ok';
    else if(i === idx) cls += ' current';
    dotsHtml += `<div class="${cls}"></div>`;
  }
  prog.innerHTML = dotsHtml;

  document.getElementById('qProgBar').style.width = (idx/sessionSize*100)+'%';

  const area = document.getElementById('quizArea');
  const qTitle = document.getElementById('exTitle');
  qTitle.textContent = `ğŸ’ª Esercizio ${idx+1} di ${sessionSize} â€” scelto tra ${bankSize} disponibili`;

  const visHtml = q.vis ? `<div class="q-visual">ğŸ“Š ${q.vis}</div>` : '';

  area.innerHTML = `
    <div class="q-card">
      <div class="q-num">DOMANDA ${idx+1} / ${sessionSize} <span style="font-size:11px;font-weight:600;opacity:0.7">(${bankSize} disponibili)</span></div>
      ${visHtml}
      <div class="q-text">${q.q}</div>
      <div class="opts four-opts" id="optsGrid">
        ${q.opts.map(o=>`<button class="opt-btn" onclick="checkAns(this,'${o.replace(/'/g,"\\'")}','${q.ans.replace(/'/g,"\\'")}','${topic}')">${o}</button>`).join('')}
      </div>
      <button class="hint-btn" onclick="toggleHint()">ğŸ’¡ Suggerimento</button>
      <div class="hint-box" id="hintBox">${q.hint}</div>
      <div class="feedback" id="fbBox"></div>
    </div>`;
}

function checkAns(btn, chosen, correct, topic) {
  if(state.quizAnswered) return;
  state.quizAnswered = true;
  const fb = document.getElementById('fbBox');
  const grid = document.getElementById('optsGrid');

  // lock all
  grid.querySelectorAll('.opt-btn').forEach(b=>b.classList.add('locked'));

  if(chosen===correct) {
    btn.classList.add('correct');
    fb.innerHTML = 'ğŸ‰ Bravo! Risposta corretta!';
    fb.className = 'feedback show ok';
    playCorrect();
    addPoints(10);
    state.progress[topic].correct++;
  } else {
    btn.classList.add('wrong');
    grid.querySelectorAll('.opt-btn').forEach(b=>{ if(b.textContent===correct) b.classList.add('correct'); });
    fb.innerHTML = `âŒ Non Ã¨ quella. La risposta giusta era: <strong>${correct}</strong>`;
    fb.className = 'feedback show ko';
    playWrong();
  }
  state.progress[topic].done++;

  // Next
  const sessionLen = (state.quizOrder[topic]||[]).length || SESSION_SIZE;
  const nextBtn = document.createElement('button');
  nextBtn.className = 'next-btn';
  nextBtn.innerHTML = state.quizIdx >= sessionLen-1 ? 'ğŸ† Nuova sessione (20 nuovi esercizi)' : 'Prossima domanda â†’';
  nextBtn.onclick = () => {
    if(state.quizIdx >= sessionLen-1) {
      // Ricomincia: rimescola e pesca 20 nuovi
      state.quizOrder[topic] = null;
      state.quizIdx = 0;
    } else {
      state.quizIdx = state.quizIdx + 1;
    }
    state.quizAnswered = false;
    renderQuiz(topic);
    saveProgress();
    updateHome();
  };
  document.querySelector('.q-card').appendChild(nextBtn);
}

function toggleHint() {
  document.getElementById('hintBox').classList.toggle('show');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LESSON INTERACTIVES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Number line
function initNumLine() {
  const nl = document.getElementById('numLine');
  if(!nl) return;
  nl.innerHTML = '<div class="nl-axis"></div>';
  for(let i=-5;i<=5;i++){
    const it = document.createElement('div');
    it.className = 'nl-item ' + (i<0?'neg':i===0?'zero':'pos');
    const lbl = i>0?'+'+i:String(i);
    it.innerHTML = `<div class="nl-dot">${lbl}</div><div class="nl-lbl">${i<0?'neg':i===0?'zero':'pos'}</div>`;
    it.onclick=()=>{ speak(lbl); it.querySelector('.nl-dot').style.transform='scale(1.4)'; setTimeout(()=>it.querySelector('.nl-dot').style.transform='',400); };
    nl.appendChild(it);
  }
}

// Fraction
function updateFrac() {
  const ns = document.getElementById('fSlNum');
  const ds = document.getElementById('fSlDen');
  if(!ns||!ds) return;
  const den = parseInt(ds.value);
  ns.max = den;
  const num = Math.min(parseInt(ns.value), den);
  ns.value = num;
  document.getElementById('fNum').textContent = num;
  document.getElementById('fDen').textContent = den;
  document.getElementById('fDispN').textContent = num;
  document.getElementById('fDispD').textContent = den;
  document.getElementById('fPct').textContent = Math.round(num/den*100)+'%';
  const parts = document.getElementById('fracParts');
  parts.innerHTML = '';
  for(let i=0;i<den;i++){
    const p=document.createElement('div');
    p.className='fp'+(i<num?' on':'');
    parts.appendChild(p);
  }
}

// Geometry shape display
const GEOM_SHAPES = {
  // â”€â”€â”€ Helper: compute adaptive scale so figure always fits in canvas â”€â”€â”€
  // PAD_TOP=30, PAD_BOT=28 (label), PAD_LEFT=44, PAD_RIGHT=14
  // maxW = 280-44-14=222, maxH = 240-30-28=182  (canvas is 280Ã—240)

  rect:{ name:'Rettangolo',
    formula:'A = b Ã— h &nbsp;&nbsp; P = 2(b+h)',
    inv:'b = A Ã· h  |  h = A Ã· b  |  b = P/2 âˆ’ h',
    color:'#3b82f6', vars:['base (b)','altezza (h)'],
    calc:(a,b)=>({a:a*b, p:2*(a+b)}),
    draw:(ctx,a,b)=>{
      const sc=Math.min(222/a, 182/b);
      const ox=44, oy=30;
      ctx.fillStyle='rgba(59,130,246,0.13)'; ctx.fillRect(ox,oy,a*sc,b*sc);
      ctx.strokeStyle='#3b82f6'; ctx.lineWidth=3; ctx.strokeRect(ox,oy,a*sc,b*sc);
      ctx.fillStyle='#3b82f6'; ctx.font='bold 14px Nunito,sans-serif';
      ctx.textAlign='center'; ctx.fillText('b='+a, ox+a*sc/2, oy+b*sc+20);
      ctx.textAlign='right';   ctx.fillText('h='+b, ox-6, oy+b*sc/2+5);
    }},

  tri:{ name:'Triangolo',
    formula:'A = (b Ã— h) Ã· 2 &nbsp;&nbsp; P = somma lati',
    inv:'b = (2Ã—A) Ã· h  |  h = (2Ã—A) Ã· b',
    color:'#ef4444', vars:['base (b)','altezza (h)'],
    calc:(a,b)=>({a:a*b/2, p:null}),
    draw:(ctx,a,b)=>{
      const sc=Math.min(222/a, 182/b);
      const ox=44, oy=30;
      ctx.beginPath(); ctx.moveTo(ox+a*sc/2,oy); ctx.lineTo(ox,oy+b*sc); ctx.lineTo(ox+a*sc,oy+b*sc); ctx.closePath();
      ctx.fillStyle='rgba(239,68,68,0.12)'; ctx.fill();
      ctx.strokeStyle='#ef4444'; ctx.lineWidth=3; ctx.stroke();
      ctx.setLineDash([5,4]); ctx.strokeStyle='#bbb'; ctx.lineWidth=1.5;
      ctx.beginPath(); ctx.moveTo(ox+a*sc/2,oy); ctx.lineTo(ox+a*sc/2,oy+b*sc); ctx.stroke();
      ctx.setLineDash([]);
      ctx.fillStyle='#ef4444'; ctx.font='bold 14px Nunito,sans-serif';
      ctx.textAlign='center'; ctx.fillText('b='+a, ox+a*sc/2, oy+b*sc+20);
      ctx.textAlign='right';   ctx.fillText('h='+b, ox+a*sc/2-4, oy+b*sc/2+5);
    }},

  para:{ name:'Parallelogramma',
    formula:'A = b Ã— h &nbsp;&nbsp; P = 2(b+l)',
    inv:'b = A Ã· h  |  h = A Ã· b',
    color:'#8b5cf6', vars:['base (b)','altezza (h)'],
    calc:(a,b)=>({a:a*b, p:null}),
    draw:(ctx,a,b)=>{
      const sc=Math.min(200/(a+1), 182/b);
      const off=Math.min(20, sc);
      const ox=44, oy=30;
      ctx.beginPath(); ctx.moveTo(ox+off,oy); ctx.lineTo(ox+off+a*sc,oy); ctx.lineTo(ox+a*sc,oy+b*sc); ctx.lineTo(ox,oy+b*sc); ctx.closePath();
      ctx.fillStyle='rgba(139,92,246,0.12)'; ctx.fill();
      ctx.strokeStyle='#8b5cf6'; ctx.lineWidth=3; ctx.stroke();
      ctx.fillStyle='#8b5cf6'; ctx.font='bold 14px Nunito,sans-serif';
      ctx.textAlign='center'; ctx.fillText('b='+a, ox+off+a*sc/2, oy+b*sc+20);
      ctx.textAlign='right';   ctx.fillText('h='+b, ox-4, oy+b*sc/2+5);
    }},

  trap:{ name:'Trapezio',
    formula:'A = (B+b)Ã—h Ã· 2 &nbsp;&nbsp; P = B+b+lâ‚+lâ‚‚',
    inv:'B = (2Ã—AÃ·h) âˆ’ b',
    color:'#22c55e', vars:['base magg. (B)','altezza (h)'],
    calc:(B,h)=>{const b=Math.round(B*0.6); return {a:(B+b)*h/2, p:null};},
    draw:(ctx,B,h)=>{
      const b=Math.round(B*0.6);
      const sc=Math.min(222/B, 182/h);
      const off=(B-b)*sc/2, ox=44, oy=30;
      ctx.beginPath(); ctx.moveTo(ox+off,oy); ctx.lineTo(ox+off+b*sc,oy); ctx.lineTo(ox+B*sc,oy+h*sc); ctx.lineTo(ox,oy+h*sc); ctx.closePath();
      ctx.fillStyle='rgba(34,197,94,0.12)'; ctx.fill();
      ctx.strokeStyle='#22c55e'; ctx.lineWidth=3; ctx.stroke();
      ctx.fillStyle='#22c55e'; ctx.font='bold 13px Nunito,sans-serif';
      ctx.textAlign='center';
      ctx.fillText('B='+B, ox+B*sc/2, oy+h*sc+20);
      ctx.fillText('bâ‰ˆ'+b, ox+off+b*sc/2, oy-8);
      ctx.textAlign='right'; ctx.fillText('h='+h, ox-4, oy+h*sc/2+5);
    }},

  sq:{ name:'Quadrato',
    formula:'A = lÂ² &nbsp;&nbsp; P = 4l',
    inv:'l = âˆšA  |  l = P Ã· 4',
    color:'#f59e0b', vars:['lato (l)','lato (l)'],
    calc:(a)=>({a:a*a, p:4*a}),
    draw:(ctx,a)=>{
      const sc=Math.min(182/a, 182/a);
      const ox=44, oy=30;
      ctx.fillStyle='rgba(245,158,11,0.12)'; ctx.fillRect(ox,oy,a*sc,a*sc);
      ctx.strokeStyle='#f59e0b'; ctx.lineWidth=3; ctx.strokeRect(ox,oy,a*sc,a*sc);
      ctx.fillStyle='#f59e0b'; ctx.font='bold 14px Nunito,sans-serif';
      ctx.textAlign='center'; ctx.fillText('l='+a, ox+a*sc/2, oy+a*sc+20);
      ctx.textAlign='right';   ctx.fillText('l='+a, ox-4, oy+a*sc/2+5);
    }},

  rombo:{ name:'Rombo',
    formula:'A = (dâ‚ Ã— dâ‚‚) Ã· 2 &nbsp;&nbsp; P = 4l',
    inv:'dâ‚ = (2Ã—A) Ã· dâ‚‚  |  dâ‚‚ = (2Ã—A) Ã· dâ‚',
    color:'#f43f5e', vars:['diagonale dâ‚','diagonale dâ‚‚'],
    calc:(d1,d2)=>({a:d1*d2/2, p:null}),
    draw:(ctx,d1,d2)=>{
      const sc=Math.min(200/d1, 150/d2);
      const cx=44+d1*sc/2, cy=30+d2*sc/2;
      ctx.beginPath();
      ctx.moveTo(cx, 30);
      ctx.lineTo(44+d1*sc, cy);
      ctx.lineTo(cx, 30+d2*sc);
      ctx.lineTo(44, cy);
      ctx.closePath();
      ctx.fillStyle='rgba(244,63,94,0.12)'; ctx.fill();
      ctx.strokeStyle='#f43f5e'; ctx.lineWidth=3; ctx.stroke();
      // diagonals dashed
      ctx.setLineDash([4,3]); ctx.strokeStyle='#f43f5eaa'; ctx.lineWidth=1.5;
      ctx.beginPath(); ctx.moveTo(44,cy); ctx.lineTo(44+d1*sc,cy); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(cx,30); ctx.lineTo(cx,30+d2*sc); ctx.stroke();
      ctx.setLineDash([]);
      ctx.fillStyle='#f43f5e'; ctx.font='bold 13px Nunito,sans-serif';
      ctx.textAlign='center'; ctx.fillText('dâ‚='+d1, cx, 30+d2*sc+20);
      ctx.textAlign='left';   ctx.fillText('dâ‚‚='+d2, cx+4, cy-4);
    }},

  cerchio:{ name:'Cerchio',
    formula:'A = Ï€ Ã— rÂ² &nbsp;&nbsp; C = 2Ï€r',
    inv:'r = âˆš(AÃ·Ï€)  |  r = CÃ·(2Ï€)',
    color:'#06b6d4', vars:['raggio (r)','raggio (r)'],
    calc:(r)=>({a:Math.PI*r*r, p:2*Math.PI*r}),
    draw:(ctx,r)=>{
      const sc=Math.min(100/r, 100/r);
      const cx=44+r*sc+10, cy=30+r*sc+10;
      ctx.beginPath(); ctx.arc(cx,cy,r*sc,0,Math.PI*2);
      ctx.fillStyle='rgba(6,182,212,0.12)'; ctx.fill();
      ctx.strokeStyle='#06b6d4'; ctx.lineWidth=3; ctx.stroke();
      // radius line
      ctx.strokeStyle='#06b6d4aa'; ctx.lineWidth=2; ctx.setLineDash([4,3]);
      ctx.beginPath(); ctx.moveTo(cx,cy); ctx.lineTo(cx+r*sc,cy); ctx.stroke();
      ctx.setLineDash([]);
      ctx.fillStyle='#06b6d4'; ctx.font='bold 13px Nunito,sans-serif';
      ctx.textAlign='left'; ctx.fillText('r='+r, cx+r*sc/2, cy-6);
      ctx.textAlign='center'; ctx.fillText('âŠ™', cx, cy+5);
    }},
};

let gState = {key:'rect', v1:5, v2:4};
function showGeomShape(pillEl, key) {
  document.querySelectorAll('#geomPills .pill').forEach(p=>p.classList.remove('active'));
  if(pillEl) pillEl.classList.add('active');
  gState.key=key;
  const s=GEOM_SHAPES[key];
  const isSingle = (key==='sq'||key==='cerchio');
  const html = `
    <div class="vb vb-blue">
      <h3>${s.name}</h3>
      <div style="text-align:center;margin:10px 0"><span class="formula formula-blue" style="font-size:15px;padding:10px 18px">${s.formula}</span></div>
      <div style="font-size:13px;color:var(--purple);font-family:var(--font);font-weight:700;margin-bottom:14px;text-align:center">ğŸ” Inversa: ${s.inv}</div>
      <div style="display:flex;gap:16px;flex-wrap:wrap;align-items:flex-start">
        <canvas id="geomCanvas" width="280" height="240" style="flex-shrink:0;max-width:100%;border-radius:14px;background:white;border:2px solid var(--border)"></canvas>
        <div style="flex:1;min-width:130px">
          <div class="slider-row"><label>${s.vars[0]}: <strong id="gv1">${gState.v1}</strong></label>
            <input type="range" min="2" max="8" value="${gState.v1}" oninput="gState.v1=+this.value;document.getElementById('gv1').textContent=this.value;drawGeom()" style="accent-color:${s.color}">
          </div>
          ${!isSingle?`<div class="slider-row"><label>${s.vars[1]}: <strong id="gv2">${gState.v2}</strong></label>
            <input type="range" min="2" max="8" value="${gState.v2}" oninput="gState.v2=+this.value;document.getElementById('gv2').textContent=this.value;drawGeom()" style="accent-color:${s.color}"></div>`:''}
          <div class="geom-result" id="geomResult">A = â€¦</div>
        </div>
      </div>
    </div>`;
  document.getElementById('geomShape').innerHTML=html;
  setTimeout(drawGeom,50);
}
function drawGeom() {
  const s=GEOM_SHAPES[gState.key];
  const c=document.getElementById('geomCanvas');
  if(!c) return;
  const ctx=c.getContext('2d');
  ctx.clearRect(0,0,280,240);
  s.draw(ctx, gState.v1, gState.v2);
  const res = s.calc(gState.v1, gState.v2);
  const area = typeof res === 'object' ? res.a : res;
  const perim = typeof res === 'object' ? res.p : null;
  let txt = `Area = ${area.toFixed(2).replace('.',',')} cmÂ²`;
  if(perim) txt += ` &nbsp;|&nbsp; P = ${perim.toFixed(1).replace('.',',')} cm`;
  if(gState.key==='cerchio') txt = `A = ${area.toFixed(2).replace('.',',')} cmÂ² &nbsp;|&nbsp; C = ${(2*Math.PI*gState.v1).toFixed(2).replace('.',',')} cm`;
  document.getElementById('geomResult').innerHTML = txt;
}

// Pitagora canvas
function drawPita() {
  const a=parseInt(document.getElementById('slPA')?.value||3);
  const b=parseInt(document.getElementById('slPB')?.value||4);
  document.getElementById('pA').textContent=a;
  document.getElementById('pB').textContent=b;
  const c=Math.sqrt(a*a+b*b);
  const canvas=document.getElementById('pitaCanvas');
  if(!canvas) return;
  const ctx=canvas.getContext('2d');
  const W=320,H=260,pad=50,sc=24;
  ctx.clearRect(0,0,W,H);
  const ox=pad, oy=H-pad, px=ox+a*sc, py=oy, qx=ox, qy=oy-b*sc;
  ctx.beginPath(); ctx.moveTo(ox,oy); ctx.lineTo(px,py); ctx.lineTo(qx,qy); ctx.closePath();
  ctx.fillStyle='rgba(139,92,246,0.1)'; ctx.fill();
  [[ox,oy,px,py,'#ef4444',`a=${a}`,(ox+px)/2,oy+20],
   [ox,oy,qx,qy,'#3b82f6',`b=${b}`,ox-22,(oy+qy)/2],
   [px,py,qx,qy,'#8b5cf6',`câ‰ˆ${c.toFixed(2).replace('.',',')}`,(px+qx)/2+18,(py+qy)/2-8]
  ].forEach(([x1,y1,x2,y2,col,lbl,tx,ty])=>{
    ctx.strokeStyle=col; ctx.lineWidth=3; ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
    ctx.fillStyle=col; ctx.font='bold 15px Nunito,sans-serif'; ctx.textAlign='center'; ctx.fillText(lbl,tx,ty);
  });
  const sq=12; ctx.strokeStyle='#888'; ctx.lineWidth=1.5; ctx.strokeRect(ox,oy-sq,sq,sq);
  document.getElementById('pitaResult').innerHTML = `${a}Â² + ${b}Â² = ${a*a} + ${b*b} = <strong>${a*a+b*b}</strong> â†’ c = âˆš${a*a+b*b} â‰ˆ <strong>${c.toFixed(2).replace('.',',')}</strong>`;
}

// Statistics
function initRadicali() {
  const row = document.getElementById('sqPerfRow');
  if(!row) return;
  const perfects = [1,4,9,16,25,36,49,64,81,100,121,144,169,196,225];
  row.innerHTML = perfects.map(n => {
    const r = Math.sqrt(n);
    return `<span style="background:#ecfeff;color:#0e7490;border-radius:8px;padding:4px 8px;border:1.5px solid #06b6d4">âˆš${n}=${r}</span>`;
  }).join('');
}

function initStat() {
  const voti=[6,7,8,6,9,7,6,8];
  const row=document.getElementById('votiRow');
  if(!row) return;
  row.innerHTML=voti.map(v=>`<div style="width:46px;height:46px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:var(--font);font-weight:900;font-size:20px;background:var(--yellow-light);border:3px solid var(--yellow);color:#92400e">${v}</div>`).join('');
  const media=(voti.reduce((a,b)=>a+b,0)/voti.length).toFixed(2).replace('.',',');
  const sorted=[...voti].sort((a,b)=>a-b);
  const med=(sorted[3]+sorted[4])/2;
  const freq={}; voti.forEach(v=>freq[v]=(freq[v]||0)+1);
  const moda=Object.entries(freq).sort((a,b)=>b[1]-a[1])[0][0];
  document.getElementById('statCalc').innerHTML=
    `ğŸ“ <strong>Media</strong> = (${voti.join('+')})/8 = ${voti.reduce((a,b)=>a+b,0)}/8 = <span style="color:var(--primary)">${media}</span><br>
     ğŸ” <strong>Moda</strong> = valore piÃ¹ frequente = <span style="color:var(--accent)">${moda}</span> (appare ${freq[moda]} volte)<br>
     ğŸ“ <strong>Mediana</strong> = ordinati: [${sorted.join(',')}] â†’ media dei due centrali = <span style="color:var(--purple)">${med}</span>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATS PAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderStats() {
  const topics = [
    {key:'numeri',name:'Numeri Relativi',icon:'Â±',color:'#ef4444'},
    {key:'frazioni',name:'Frazioni',icon:'Â½',color:'#f59e0b'},
    {key:'geometria',name:'Geometria',icon:'ğŸ”·',color:'#3b82f6'},
    {key:'pitagora',name:'Pitagora',icon:'ğŸ“',color:'#8b5cf6'},
    {key:'algebra',name:'Algebra',icon:'ğŸ”¤',color:'#22c55e'},
    {key:'statistica',name:'Statistica',icon:'ğŸ“Š',color:'#f59e0b'},
    {key:'radicali',name:'Potenze & Radicali',icon:'âˆš',color:'#06b6d4'},
  ];
  const totalPts = state.points;
  const stars = Math.min(5, Math.floor(totalPts/60));
  document.getElementById('statGrid').innerHTML = `
    <div class="stat-box" style="grid-column:span 2">
      <div class="sv" style="color:var(--primary)">${totalPts}</div>
      <div class="sl">PUNTI TOTALI</div>
      <div class="stars-row">${'â­'.repeat(stars)}${'â˜†'.repeat(5-stars)}</div>
    </div>
    ${topics.map(t=>{
      const p=state.progress[t.key];
      const pct = p.done>0 ? Math.round(p.correct/p.done*100) : 0;
      return `<div class="stat-box">
        <div style="font-size:26px">${t.icon}</div>
        <div class="sv" style="color:${t.color}">${pct}%</div>
        <div class="sl">${t.name}</div>
        <div style="font-size:11px;color:var(--text-light);margin-top:4px">${p.done} risposte</div>
      </div>`;
    }).join('')}
  `;
  document.getElementById('statDetail').innerHTML = `
    <h2>ğŸ† Il tuo percorso</h2>
    <p style="margin-top:10px">Risposte totali: <strong>${Object.values(state.progress).reduce((a,p)=>a+p.done,0)}</strong></p>
    <p>Risposte corrette: <strong style="color:var(--green)">${Object.values(state.progress).reduce((a,p)=>a+p.correct,0)}</strong></p>
    <p style="font-size:14px;color:var(--text-light);margin-top:12px">Continua ad esercitarti â€” ogni errore Ã¨ un passo verso la comprensione! ğŸ§¡</p>
  `;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// POINTS & HOME UPDATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addPoints(n) {
  state.points += n;
  document.getElementById('ptsBadge').textContent = `â­ ${state.points} pt`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RIPASSO GENERALE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let rpState = {};

function showRipasso() {
  document.querySelectorAll('.page').forEach(el=>el.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(el=>el.classList.remove('active'));
  document.getElementById('pageRipasso').classList.add('active');
  document.getElementById('nav-ripasso').classList.add('active');
  // Mostra start screen
  document.getElementById('ripassoStart').style.display='';
  document.getElementById('ripassoQuiz').style.display='none';
  document.getElementById('ripassoResult').style.display='none';
  // Mostra record se esiste
  const best = localStorage.getItem('rpBest');
  if(best) {
    const b = JSON.parse(best);
    document.getElementById('ripassoBest').textContent = `${b.correct}/${b.total} (${Math.round(b.correct/b.total*100)}%)`;
    document.getElementById('ripassoBestBox').style.display='';
  }
  window.scrollTo(0,0);
}

function startRipasso(n) {
  // Costruisci pool mescolando tutti i quiz
  const topicLabels = {
    numeri:'Â± Numeri', frazioni:'Â½ Frazioni', geometria:'ğŸ”· Geometria',
    pitagora:'ğŸ“ Pitagora', algebra:'ğŸ”¤ Algebra', statistica:'ğŸ“Š Statistica', radicali:'âˆš Radicali'
  };
  let pool = [];
  for(const [topic, qs] of Object.entries(QUIZZES)) {
    qs.forEach(q => pool.push({...q, _topic: topic, _topicLabel: topicLabels[topic]||topic}));
  }
  // Fisher-Yates shuffle
  for(let i=pool.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [pool[i],pool[j]]=[pool[j],pool[i]];
  }
  // Prendi n domande, garantendo varietÃ  di argomenti (max 6 per argomento)
  const selected = [];
  const topicCount = {};
  const maxPerTopic = Math.ceil(n / Object.keys(QUIZZES).length) + 1;
  for(const q of pool) {
    if(selected.length >= n) break;
    const t = q._topic;
    if((topicCount[t]||0) < maxPerTopic) {
      selected.push(q);
      topicCount[t] = (topicCount[t]||0)+1;
    }
  }
  // Se non abbastanza (per via del cap), aggiungine altri
  if(selected.length < n) {
    for(const q of pool) {
      if(selected.length >= n) break;
      if(!selected.includes(q)) selected.push(q);
    }
  }

  rpState = {
    questions: selected,
    total: selected.length,
    current: 0,
    correct: 0,
    answered: false,
    topicResults: {}
  };

  document.getElementById('ripassoStart').style.display='none';
  document.getElementById('ripassoQuiz').style.display='';
  document.getElementById('ripassoResult').style.display='none';
  rpRenderQuestion();
}

function rpRenderQuestion() {
  const { questions, current, total, correct } = rpState;
  const q = questions[current];

  document.getElementById('rpProgress').textContent = `${current+1} / ${total}`;
  document.getElementById('rpScore').textContent = `âœ… ${correct}`;
  document.getElementById('rpTopic').textContent = q._topicLabel;
  document.getElementById('rpBarFill').style.width = `${(current/total)*100}%`;
  document.getElementById('rpQuestion').textContent = q.q;
  document.getElementById('rpHint').style.display='none';
  document.getElementById('rpNext').style.display='none';
  rpState.answered = false;

  // Shuffle opts
  const opts = [...q.opts];
  for(let i=opts.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [opts[i],opts[j]]=[opts[j],opts[i]];
  }

  const container = document.getElementById('rpOpts');
  container.innerHTML = '';
  opts.forEach(opt => {
    const btn = document.createElement('button');
    btn.textContent = opt;
    btn.style.cssText = 'width:100%;padding:13px 16px;background:white;border:2px solid var(--border);border-radius:12px;font-family:var(--font);font-weight:700;font-size:15px;cursor:pointer;text-align:left;transition:all 0.2s';
    btn.onclick = () => rpAnswer(opt, btn, q);
    container.appendChild(btn);
  });
}

function rpAnswer(chosen, btn, q) {
  if(rpState.answered) return;
  rpState.answered = true;
  const correct = chosen === q.ans;

  // Update topic results
  const t = q._topic;
  if(!rpState.topicResults[t]) rpState.topicResults[t]={done:0,correct:0,label:q._topicLabel};
  rpState.topicResults[t].done++;
  if(correct) { rpState.topicResults[t].correct++; rpState.correct++; }

  // Style all buttons
  document.querySelectorAll('#rpOpts button').forEach(b => {
    b.disabled = true;
    if(b.textContent === q.ans) {
      b.style.background='#dcfce7'; b.style.borderColor='#22c55e'; b.style.color='#166534';
    } else if(b === btn && !correct) {
      b.style.background='#fee2e2'; b.style.borderColor='#ef4444'; b.style.color='#991b1b';
    }
  });

  // Show hint
  if(q.hint) {
    const h = document.getElementById('rpHint');
    h.textContent = 'ğŸ’¡ ' + q.hint;
    h.style.display='';
  }

  // Update score display
  document.getElementById('rpScore').textContent = `âœ… ${rpState.correct}`;

  // Show next or finish
  const nextBtn = document.getElementById('rpNext');
  nextBtn.style.display='';
  const isLast = rpState.current >= rpState.total - 1;
  nextBtn.textContent = isLast ? 'ğŸ“Š Vedi risultato' : 'Prossima â†’';
}

function rpNextQuestion() {
  rpState.current++;
  if(rpState.current >= rpState.total) {
    rpShowResult();
  } else {
    rpRenderQuestion();
  }
}

function rpShowResult() {
  document.getElementById('ripassoQuiz').style.display='none';
  document.getElementById('ripassoResult').style.display='';

  const { correct, total, topicResults } = rpState;
  const pct = Math.round(correct/total*100);

  let emoji='ğŸ‰', title='', sub='';
  if(pct>=90){ emoji='ğŸ†'; title='Eccezionale!'; sub='Sei davvero preparato su tutto. Ottimo lavoro!'; }
  else if(pct>=75){ emoji='ğŸ˜„'; title='Molto bene!'; sub='Risultato ottimo. Qualche piccola lacuna da ripassare.'; }
  else if(pct>=60){ emoji='ğŸ‘'; title='Bene!'; sub='Buona base. Ripassare gli argomenti dove hai sbagliato.'; }
  else if(pct>=40){ emoji='ğŸ“š'; title='Continua a studiare'; sub='Ci sono argomenti da rivedere. Non mollare!'; }
  else { emoji='ğŸ’ª'; title='Tanta strada da fare'; sub='Riparti dalle lezioni degli argomenti piÃ¹ difficili.'; }

  document.getElementById('rpResultEmoji').textContent=emoji;
  document.getElementById('rpResultTitle').textContent=`${title} â€” ${correct}/${total} (${pct}%)`;
  document.getElementById('rpResultSub').textContent=sub;

  // Breakdown by topic
  let html2='';
  for(const [,tr] of Object.entries(topicResults)) {
    const tp = Math.round(tr.correct/tr.done*100);
    const col = tp>=75?'#22c55e':tp>=50?'#f59e0b':'#ef4444';
    html2+=`<div style="display:flex;align-items:center;gap:10px;margin-bottom:10px;font-family:var(--font)">
      <span style="font-weight:800;font-size:13px;min-width:110px">${tr.label}</span>
      <div style="flex:1;height:10px;background:var(--border);border-radius:5px;overflow:hidden">
        <div style="height:100%;background:${col};border-radius:5px;width:${tp}%;transition:width 0.5s"></div>
      </div>
      <span style="font-weight:800;font-size:13px;color:${col};min-width:40px;text-align:right">${tr.correct}/${tr.done}</span>
    </div>`;
  }
  document.getElementById('rpResultByTopic').innerHTML=html2;

  // Salva record
  try {
    const best = JSON.parse(localStorage.getItem('rpBest')||'null');
    if(!best || pct > Math.round(best.correct/best.total*100)) {
      localStorage.setItem('rpBest', JSON.stringify({correct,total}));
    }
  } catch(e){}

  // Aggiorna barra ripasso nella home
  try {
    const fillR = document.getElementById('fill-ripasso');
    if(fillR) fillR.style.width = pct + '%';
  } catch(e) {}

  window.scrollTo(0,0);
}

function updateHome() {
  const tots = {numeri:100,frazioni:100,geometria:100,pitagora:100,algebra:100,statistica:100,radicali:100};
  Object.keys(tots).forEach(k=>{
    const p=state.progress[k];
    const fill=document.getElementById('fill-'+k);
    if(fill) fill.style.width = Math.min(100, p.done/tots[k]*100)+'%';
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ACCESSIBILITY
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleA(cls, btn) {
  document.body.classList.toggle(cls);
  btn.classList.toggle('on');
}
let soundOn=false;
function toggleSound(btn) {
  soundOn=!soundOn;
  btn.classList.toggle('on', soundOn);
  btn.textContent = soundOn?'ğŸ”Š Audio Attivo':'ğŸ”‡ Audio OFF';
}
function speak(t) {
  if(!soundOn) return;
  try{ const u=new SpeechSynthesisUtterance(t);u.lang='it-IT';u.rate=0.9;speechSynthesis.speak(u); }catch(e){}
}
function playCorrect() {
  if(!soundOn) return;
  try{ const ctx=new AudioContext(),o=ctx.createOscillator(),g=ctx.createGain();
    o.connect(g);g.connect(ctx.destination);o.frequency.value=660;o.type='sine';
    g.gain.setValueAtTime(0.3,ctx.currentTime);g.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+0.3);
    o.start();o.stop(ctx.currentTime+0.3);
    setTimeout(()=>{ const o2=ctx.createOscillator(),g2=ctx.createGain();o2.connect(g2);g2.connect(ctx.destination);
      o2.frequency.value=880;g2.gain.setValueAtTime(0.25,ctx.currentTime);g2.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+0.25);
      o2.start();o2.stop(ctx.currentTime+0.25); },150);
  }catch(e){}
}
function playWrong() {
  if(!soundOn) return;
  try{ const ctx=new AudioContext(),o=ctx.createOscillator(),g=ctx.createGain();
    o.connect(g);g.connect(ctx.destination);o.frequency.value=220;o.type='sawtooth';
    g.gain.setValueAtTime(0.2,ctx.currentTime);g.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+0.4);
    o.start();o.stop(ctx.currentTime+0.4);
  }catch(e){}
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CALCULATOR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let cExpr='', cPrevRes=false;
function ci(v) {
  const d=document.getElementById('calcDisp');
  if(v==='C'){cExpr='';d.textContent='0';updateBeads(0);return;}
  if(v==='='){
    try{
      const e=cExpr.replace(/Ã—/g,'*').replace(/Ã·/g,'/').replace(/âˆ’/g,'-');
      const r=Function('"use strict";return('+e+')')();
      d.textContent=parseFloat(r.toFixed(8));
      cExpr=String(parseFloat(r.toFixed(8)));
      cPrevRes=true;
      updateBeads(Number.isInteger(r) ? r : null);
    }catch(e){d.textContent='Err';cExpr='';updateBeads(null);}
    return;
  }
  if(v==='Â±'){
    // Prova a invertire solo se Ã¨ un numero semplice
    const n = parseFloat(cExpr);
    if(!isNaN(n) && String(n) === cExpr.trim()) {
      cExpr = String(-n);
    } else if(cExpr.startsWith('-')) {
      cExpr = cExpr.slice(1);
    } else if(cExpr) {
      cExpr = '-(' + cExpr + ')';
    }
    d.textContent = (cExpr||'0').replace('.',',');
    return;
  }
  if(v==='âˆš'){
    const n=parseFloat(cExpr);
    if(isNaN(n)||n<0){d.textContent='Errore: negativo';cExpr='';return;}
    const r=Math.sqrt(n);
    cExpr=String(parseFloat(r.toFixed(8)));
    d.textContent='âˆš'+n+' = '+r.toFixed(4).replace('.',',');
    cPrevRes=true; return;
  }
  // Dopo un risultato: un operatore continua dall'ultimo valore,
  // un digit inizia una nuova espressione
  if(cPrevRes) {
    if('0123456789'.includes(v)) { cExpr=''; }
    // Se Ã¨ un operatore (Ã—Ã·+âˆ’-.) lascia cExpr invariato e continua
    cPrevRes = false;
  }
  cExpr+=v; d.textContent=cExpr;
  updateBeads(null);
}

function updateBeads(val) {
  const beadDiv = document.getElementById('calcBeads');
  if(!beadDiv) return;
  // Mostra pallini per il valore corrente se Ã¨ un numero semplice (max 20 pallini)
  const n = val !== null ? val : parseFloat(cExpr);
  if(isNaN(n) || n < 0 || n > 20 || !Number.isInteger(n)) {
    beadDiv.innerHTML = '';
    return;
  }
  const colors = ['#ef4444','#f59e0b','#22c55e','#3b82f6','#8b5cf6'];
  beadDiv.innerHTML = Array.from({length:n},(_,i)=>
    `<div style="width:18px;height:18px;border-radius:50%;background:${colors[i%5]};border:2px solid rgba(0,0,0,0.2);flex-shrink:0"></div>`
  ).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PITAGORA TABLE BUILD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function(){
  const t=document.getElementById('pitaTable');
  let h='<tr><th>Ã—</th>';
  for(let i=1;i<=10;i++) h+=`<th>${i}</th>`;
  h+='</tr>';
  for(let r=1;r<=10;r++){
    h+=`<tr><th>${r}</th>`;
    for(let c=1;c<=10;c++) h+=`<td class="${r===c?'diag':''}">${r*c}</td>`;
    h+='</tr>';
  }
  t.innerHTML=h;
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FORMULE SHEET BUILD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function(){
  const defs=[
    {icon:'â–­',name:'Rettangolo',    f:'A = bÃ—h',          p:'P = 2(b+h)',   inv:'b = AÃ·h | h = AÃ·b | b = P/2âˆ’h'},
    {icon:'â– ',name:'Quadrato',      f:'A = lÂ²',           p:'P = 4l',       inv:'l = âˆšA | l = PÃ·4'},
    {icon:'â–³',name:'Triangolo',     f:'A = (bÃ—h) Ã· 2',   p:'P = a+b+c',    inv:'b = 2AÃ·h | h = 2AÃ·b'},
    {icon:'â¬§',name:'Parallelogramma',f:'A = bÃ—h',         p:'P = 2(b+l)',   inv:'b = AÃ·h | h = AÃ·b'},
    {icon:'âŒ‚',name:'Trapezio',      f:'A = (B+b)Ã—h Ã· 2', p:'P = B+b+lâ‚+lâ‚‚',inv:'B = (2AÃ·h)âˆ’b'},
    {icon:'â—‡',name:'Rombo',         f:'A = (dâ‚Ã—dâ‚‚) Ã· 2', p:'P = 4l',       inv:'dâ‚ = 2AÃ·dâ‚‚ | dâ‚‚ = 2AÃ·dâ‚'},
    {icon:'â­•',name:'Cerchio',       f:'A = Ï€Ã—rÂ²',         p:'C = 2Ï€r',      inv:'r = âˆš(AÃ·Ï€) | r = CÃ·(2Ï€)'},
    {icon:'ğŸ“',name:'Pitagora',      f:'aÂ²+bÂ²=cÂ²',         p:'â€”',            inv:'b = âˆš(cÂ²âˆ’aÂ²)'},
    {icon:'âˆš', name:'Potenze',        f:'aáµÃ—aâ¿=a^(m+n)',   p:'aáµÃ·aâ¿=a^(mâˆ’n)', inv:'(aáµ)â¿=a^(mÃ—n) | aâ°=1'},
    {icon:'âˆ›', name:'Radicali',       f:'âˆš(aÃ—b)=âˆšaÃ—âˆšb',    p:'âˆša=a^(1/2)',    inv:'âˆš(nÂ²Ã—a)=nâˆša'},
  ];
  document.getElementById('formuleList').innerHTML=defs.map(d=>`
    <div class="form-row">
      <div class="form-icon">${d.icon}</div>
      <div class="form-content">
        <div class="name">${d.name}</div>
        <div class="f">${d.f} &nbsp;<span style="color:var(--accent);font-size:13px">${d.p}</span></div>
        <div class="inv">â†© ${d.inv}</div>
      </div>
    </div>`).join('');
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MODAL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openModal(id){document.getElementById(id).classList.add('show');if(id==='mTav')setTimeout(renderTavole,80);if(id==='mPrim')setTimeout(renderPrimi,80);}
function closeModal(id){document.getElementById(id).classList.remove('show');}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SAVE / LOAD PROGRESS (localStorage)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function saveProgress() {
  try{ localStorage.setItem('mateplus_progress', JSON.stringify({pts:state.points, prog:state.progress})); }catch(e){}
}
function loadProgress() {
  try{
    const d=JSON.parse(localStorage.getItem('mateplus_progress'));
    if(d){ state.points=d.pts||0; Object.assign(state.progress,d.prog||{}); }
  }catch(e){}
  document.getElementById('ptsBadge').textContent=`â­ ${state.points} pt`;
  updateHome();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NUMERI PRIMI (Crivello di Eratostene)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let _primes = null;
function buildPrimes() {
  if(_primes) return _primes;
  const N = 10000;
  const sieve = new Uint8Array(N+1).fill(1);
  sieve[0]=sieve[1]=0;
  for(let i=2;i*i<=N;i++) if(sieve[i]) for(let j=i*i;j<=N;j+=i) sieve[j]=0;
  _primes=[];
  for(let i=2;i<=N;i++) if(sieve[i]) _primes.push(i);
  return _primes;
}
function renderPrimi() {
  const primes = buildPrimes();
  const container = document.getElementById('primList');
  if(!container) return;
  // Render colored spans grouped by hundreds
  let html2 = '';
  let curHundred = -1;
  for(const p of primes) {
    const h = Math.floor(p/100);
    if(h !== curHundred) {
      if(curHundred >= 0) html2 += '</div>';
      html2 += `<div style="margin-bottom:6px"><span style="font-family:var(--font);font-size:11px;font-weight:800;color:var(--text-light);display:inline-block;width:50px">${h*100}s:</span>`;
      curHundred = h;
    }
    html2 += `<span style="display:inline-block;background:#eff6ff;color:#1d4ed8;border-radius:6px;padding:1px 6px;margin:1px;font-family:var(--font);font-weight:800;font-size:13px">${p}</span>`;
  }
  html2 += '</div>';
  container.innerHTML = html2;
  document.querySelector('#mPrim h3').textContent = `ğŸ”µ Numeri Primi < 10 000 (${primes.length} totali)`;
}
function checkPrimo(val) {
  const n = parseInt(val);
  const result = document.getElementById('primSearchResult');
  if(!result) return;
  if(isNaN(n) || n < 2) { result.textContent=''; return; }
  const primes = buildPrimes();
  if(n > 10000) { result.textContent='âš ï¸ Max 9999'; result.style.color='var(--red)'; return; }
  const isPrime = primes.includes(n);
  result.textContent = isPrime ? `âœ… ${n} Ã¨ PRIMO!` : `âŒ ${n} non Ã¨ primo`;
  result.style.color = isPrime ? 'var(--green)' : 'var(--red)';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TAVOLE NUMERICHE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderTavole() {
  const from = Math.max(1, parseInt(document.getElementById('tavFrom').value)||1);
  const to   = Math.min(1000, parseInt(document.getElementById('tavTo').value)||20);
  if(from >= to) { alert('Il valore "Da" deve essere minore di "A"'); return; }
  if(to - from > 200) { alert('Max 200 righe alla volta per performance'); return; }
  const tbody = document.getElementById('tavBody');
  let rows = '';
  for(let n = from; n <= to; n++) {
    const sq  = n * n;
    const cu  = n * n * n;
    const sqr = Math.sqrt(n).toFixed(4).replace('.',',');
    const cbr = Math.cbrt(n).toFixed(4).replace('.',',');
    const bg  = n % 2 === 0 ? 'background:#f8fafc' : 'background:white';
    rows += `<tr style="${bg}">
      <td style="padding:6px 10px;text-align:right;font-weight:800;color:var(--primary)">${n}</td>
      <td style="padding:6px 10px;text-align:right;font-weight:700">${sq.toLocaleString('it-IT')}</td>
      <td style="padding:6px 10px;text-align:right;font-weight:700">${cu.toLocaleString('it-IT')}</td>
      <td style="padding:6px 10px;text-align:right;font-weight:700;color:#059669">${sqr}</td>
      <td style="padding:6px 10px;text-align:right;font-weight:700;color:#7c3aed">${cbr}</td>
    </tr>`;
  }
  tbody.innerHTML = rows;
}
// (openModal giÃ  gestisce mTav e mPrim internamente)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PWA INSTALL â€” iOS Safari + Android Chrome
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const isIos = /iphone|ipad|ipod/i.test(navigator.userAgent);
const isInStandaloneMode = () =>
  ('standalone' in navigator && navigator.standalone) ||
  window.matchMedia('(display-mode: standalone)').matches;

// iOS: show guide after 3 seconds if not already installed
if (isIos && !isInStandaloneMode()) {
  setTimeout(() => {
    openModal('mIos');
  }, 3000);
}

// Android / Chrome: native install prompt
window.addEventListener('beforeinstallprompt', e => {
  e.preventDefault();
  installPrompt = e;
  // Show banner after small delay
  setTimeout(() => {
    document.getElementById('install-banner').classList.add('show');
  }, 1500);
});

document.getElementById('installBtn').onclick = async () => {
  if (!installPrompt) return;
  installPrompt.prompt();
  const r = await installPrompt.userChoice;
  document.getElementById('install-banner').classList.remove('show');
  if (r.outcome === 'accepted') installPrompt = null;
};

// If already installed, hide banner
window.addEventListener('appinstalled', () => {
  document.getElementById('install-banner').classList.remove('show');
  installPrompt = null;
});

// SW registered inline above

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.addEventListener('load', () => {
  loadProgress();
  setTimeout(()=>{
    const s=document.getElementById('splash');
    s.style.opacity='0';
    setTimeout(()=>s.style.display='none',500);
  }, 1400);
});
</script>
</body>
</html>
